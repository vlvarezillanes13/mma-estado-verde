var mr=Object.defineProperty,_r=(me,L,re)=>L in me?mr(me,L,{enumerable:!0,configurable:!0,writable:!0,value:re}):me[L]=re,At=(me,L,re)=>(_r(me,"symbol"!=typeof L?L+"":L,re),re),Wt=(me,L,re)=>{if(!L.has(me))throw TypeError("Cannot "+re)},we=(me,L,re)=>(Wt(me,L,"read from private field"),re?re.call(me):L.get(me)),Ee=(me,L,re)=>{if(L.has(me))throw TypeError("Cannot add the same private member more than once");L instanceof WeakSet?L.add(me):L.set(me,re)},je=(me,L,re,v)=>(Wt(me,L,"write to private field"),v?v.call(me,re):L.set(me,re),re),ti=(me,L,re,v)=>({set _(u){je(me,L,u,re)},get _(){return we(me,L,v)}}),xe=(me,L,re)=>(Wt(me,L,"access private method"),re);(self.webpackChunkMMA=self.webpackChunkMMA||[]).push([[897],{2897:(me,L,re)=>{"use strict";re.r(L),re.d(L,{ForoConsultasModule:()=>pr});var v=re(6895),u=re(8256),le=re(8421),J=re(9751),ee=re(5577),B=re(1144),f=re(576),M=re(3268);const S=["addListener","removeListener"],A=["addEventListener","removeEventListener"],l=["on","off"];function m(i,n,e,g){if((0,f.m)(e)&&(g=e,e=void 0),g)return m(i,n,e).pipe((0,M.Z)(g));const[q,Ce]=function F(i){return(0,f.m)(i.addEventListener)&&(0,f.m)(i.removeEventListener)}(i)?A.map(ke=>Ie=>i[ke](n,Ie,e)):function o(i){return(0,f.m)(i.addListener)&&(0,f.m)(i.removeListener)}(i)?S.map(s(i,n)):function p(i){return(0,f.m)(i.on)&&(0,f.m)(i.off)}(i)?l.map(s(i,n)):[];if(!q&&(0,B.z)(i))return(0,ee.z)(ke=>m(ke,n,e))((0,le.Xf)(i));if(!q)throw new TypeError("Invalid event target");return new J.y(ke=>{const Ie=(...$e)=>ke.next(1<$e.length?$e:$e[0]);return q(Ie),()=>Ce(Ie)})}function s(i,n){return e=>g=>i[e](n,g)}var C=re(7579),y=re(2076),r=re(4482),a=re(5403),P=re(5032);function b(i){return(0,r.e)((n,e)=>{(0,le.Xf)(i).subscribe((0,a.x)(e,()=>e.complete(),P.Z)),!e.closed&&n.subscribe(e)})}var w=re(727);class R extends w.w0{constructor(n,e){super()}schedule(n,e=0){return this}}const D={setInterval(i,n,...e){const{delegate:g}=D;return g?.setInterval?g.setInterval(i,n,...e):setInterval(i,n,...e)},clearInterval(i){const{delegate:n}=D;return(n?.clearInterval||clearInterval)(i)},delegate:void 0};var I=re(8737);const X={now:()=>(X.delegate||Date).now(),delegate:void 0};class Y{constructor(n,e=Y.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,g){return new this.schedulerActionCtor(this,n).schedule(g,e)}}Y.now=X.now;const G=new class ie extends Y{constructor(n,e=Y.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let g;this._active=!0;do{if(g=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,g){for(;n=e.shift();)n.unsubscribe();throw g}}}(class j extends R{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var g;if(this.closed)return this;this.state=n;const q=this.id,Ce=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(Ce,q,e)),this.pending=!0,this.delay=e,this.id=null!==(g=this.id)&&void 0!==g?g:this.requestAsyncId(Ce,this.id,e),this}requestAsyncId(n,e,g=0){return D.setInterval(n.flush.bind(n,this),g)}recycleAsyncId(n,e,g=0){if(null!=g&&this.delay===g&&!1===this.pending)return e;null!=e&&D.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const g=this._execute(n,e);if(g)return g;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let q,g=!1;try{this.work(n)}catch(Ce){g=!0,q=Ce||new Error("Scheduled action threw falsy error")}if(g)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:g}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,I.P)(g,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}});var oe=re(9300),he=re(6036),O=re.t(he,2),c=re(2813),h=re.t(c,2);const t=["pdfViewerContainer"];function T(i,n,e){i[n]=e}function E(){return typeof window>"u"}E()||T(O,"verbosity",he.VerbosityLevel.INFOS);var k=(()=>{return(i=k||(k={}))[i.DISABLED=0]="DISABLED",i[i.ENABLED=1]="ENABLED",i[i.ENHANCED=2]="ENHANCED",k;var i})();let W=(()=>{class i{constructor(e,g){if(this.element=e,this.ngZone=g,this.isVisible=!1,this._cMapsUrl=typeof O<"u"?`https://unpkg.com/pdfjs-dist@${he.version}/cmaps/`:null,this._imageResourcesPath=typeof O<"u"?`https://unpkg.com/pdfjs-dist@${he.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=k.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new C.x,this.afterLoadComplete=new u.vpe,this.pageRendered=new u.vpe,this.pageInitialized=new u.vpe,this.textLayerRendered=new u.vpe,this.onError=new u.vpe,this.onProgress=new u.vpe,this.pageChange=new u.vpe(!0),E())return;let q;q=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${he.version}/legacy/build/pdf.worker.min.js`,T(he.GlobalWorkerOptions,"workerSrc",q)}set cMapsUrl(e){this._cMapsUrl=e}set page(e){const g=e=parseInt(e,10)||1;this._pdf&&(e=this.getValidPageNumber(e)),this._page=e,g!==e&&this.pageChange.emit(e)}set renderText(e){this._renderText=e}set renderTextMode(e){this._renderTextMode=e}set originalSize(e){this._originalSize=e}set showAll(e){this._showAll=e}set stickToPage(e){this._stickToPage=e}set zoom(e){e<=0||(this._zoom=e)}get zoom(){return this._zoom}set zoomScale(e){this._zoomScale=e}get zoomScale(){return this._zoomScale}set rotation(e){"number"==typeof e&&e%90==0?this._rotation=e:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(e){this._externalLinkTarget=e}set autoresize(e){this._canAutoResize=Boolean(e)}set fitToPage(e){this._fitToPage=Boolean(e)}set showBorders(e){this._showBorders=Boolean(e)}static getLinkTarget(e){switch(e){case"blank":return c.LinkTarget.BLANK;case"none":return c.LinkTarget.NONE;case"self":return c.LinkTarget.SELF;case"parent":return c.LinkTarget.PARENT;case"top":return c.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const e=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=e?!1===this.isVisible&&null!=e&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(e){if(!E()&&this.isVisible)if("src"in e)this.loadPDF();else if(this._pdf){if("renderText"in e?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:k.DISABLED,this.resetPdfDocument()):"showAll"in e&&(this.setupViewer(),this.resetPdfDocument()),"page"in e){const{page:g}=e;if(g.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,y.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(b(this.destroy$)).subscribe({next:e=>{const g=this._rotation||e.rotate,q=e.getViewport({scale:this._zoom,rotation:g}).width*i.CSS_UNITS;let Ce=this._zoom,ke=!0;if(!this._originalSize||this._fitToPage&&q>this.pdfViewerContainer.nativeElement.clientWidth){const Ie=e.getViewport({scale:1,rotation:g});Ce=this.getScale(Ie.width,Ie.height),ke=!this._stickToPage}this.pdfViewer._setScale(Ce,ke)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const e=i.getLinkTarget(this._externalLinkTarget);return e?{externalLinkTarget:e}:{}}initEventBus(){this.eventBus=function d(i,n){const e=new i.EventBus;return function _(i,n){m(i,"documentload").pipe(b(n)).subscribe(()=>{const e=document.createEvent("CustomEvent");e.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(e)}),m(i,"pagerendered").pipe(b(n)).subscribe(({pageNumber:e,cssTransform:g,source:q})=>{const Ce=document.createEvent("CustomEvent");Ce.initCustomEvent("pagerendered",!0,!0,{pageNumber:e,cssTransform:g}),q.div.dispatchEvent(Ce)}),m(i,"textlayerrendered").pipe(b(n)).subscribe(({pageNumber:e,source:g})=>{const q=document.createEvent("CustomEvent");q.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:e}),g.textLayerDiv.dispatchEvent(q)}),m(i,"pagechanging").pipe(b(n)).subscribe(({pageNumber:e,source:g})=>{const q=document.createEvent("UIEvents");q.initEvent("pagechanging",!0,!0),q.pageNumber=e,g.container.dispatchEvent(q)}),m(i,"pagesinit").pipe(b(n)).subscribe(({source:e})=>{const g=document.createEvent("CustomEvent");g.initCustomEvent("pagesinit",!0,!0,null),e.container.dispatchEvent(g)}),m(i,"pagesloaded").pipe(b(n)).subscribe(({pagesCount:e,source:g})=>{const q=document.createEvent("CustomEvent");q.initCustomEvent("pagesloaded",!0,!0,{pagesCount:e}),g.container.dispatchEvent(q)}),m(i,"scalechange").pipe(b(n)).subscribe(({scale:e,presetValue:g,source:q})=>{const Ce=document.createEvent("UIEvents");Ce.initEvent("scalechange",!0,!0),Ce.scale=e,Ce.presetValue=g,q.container.dispatchEvent(Ce)}),m(i,"updateviewarea").pipe(b(n)).subscribe(({location:e,source:g})=>{const q=document.createEvent("UIEvents");q.initEvent("updateviewarea",!0,!0),q.location=e,g.container.dispatchEvent(q)}),m(i,"find").pipe(b(n)).subscribe(({source:e,type:g,query:q,phraseSearch:Ce,caseSensitive:ke,highlightAll:Ie,findPrevious:$e})=>{if(e===window)return;const ze=document.createEvent("CustomEvent");ze.initCustomEvent("find"+g,!0,!0,{query:q,phraseSearch:Ce,caseSensitive:ke,highlightAll:Ie,findPrevious:$e}),window.dispatchEvent(ze)}),m(i,"attachmentsloaded").pipe(b(n)).subscribe(({attachmentsCount:e,source:g})=>{const q=document.createEvent("CustomEvent");q.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:e}),g.container.dispatchEvent(q)}),m(i,"sidebarviewchanged").pipe(b(n)).subscribe(({view:e,source:g})=>{const q=document.createEvent("CustomEvent");q.initCustomEvent("sidebarviewchanged",!0,!0,{view:e}),g.outerContainer.dispatchEvent(q)}),m(i,"pagemode").pipe(b(n)).subscribe(({mode:e,source:g})=>{const q=document.createEvent("CustomEvent");q.initCustomEvent("pagemode",!0,!0,{mode:e}),g.pdfViewer.container.dispatchEvent(q)}),m(i,"namedaction").pipe(b(n)).subscribe(({action:e,source:g})=>{const q=document.createEvent("CustomEvent");q.initCustomEvent("namedaction",!0,!0,{action:e}),g.pdfViewer.container.dispatchEvent(q)}),m(i,"presentationmodechanged").pipe(b(n)).subscribe(({active:e,switchInProgress:g})=>{const q=document.createEvent("CustomEvent");q.initCustomEvent("presentationmodechanged",!0,!0,{active:e,switchInProgress:g}),window.dispatchEvent(q)}),m(i,"outlineloaded").pipe(b(n)).subscribe(({outlineCount:e,source:g})=>{const q=document.createEvent("CustomEvent");q.initCustomEvent("outlineloaded",!0,!0,{outlineCount:e}),g.container.dispatchEvent(q)})}(e,n),e}(h,this.destroy$),m(this.eventBus,"pagerendered").pipe(b(this.destroy$)).subscribe(e=>{this.pageRendered.emit(e)}),m(this.eventBus,"pagesinit").pipe(b(this.destroy$)).subscribe(e=>{this.pageInitialized.emit(e)}),m(this.eventBus,"pagechanging").pipe(b(this.destroy$)).subscribe(({pageNumber:e})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=e,this.pageChange.emit(e)},100)}),m(this.eventBus,"textlayerrendered").pipe(b(this.destroy$)).subscribe(e=>{this.textLayerRendered.emit(e)})}initPDFServices(){this.pdfLinkService=new c.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new c.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:k.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){T(O,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new c.PDFViewer(this.getPDFOptions()):new c.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(e){return e<1?1:e>this._pdf.numPages?this._pdf.numPages:e}getDocumentParams(){const e=typeof this.src;if(!this._cMapsUrl)return this.src;const g={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===e?g.url=this.src:"object"===e&&(void 0!==this.src.byteLength?g.data=this.src:Object.assign(g,this.src)),g}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=he.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=g=>{this.onProgress.emit(g)};const e=this.src;(0,y.D)(this.loadingTask.promise).pipe(b(this.destroy$)).subscribe({next:g=>{this._pdf=g,this.lastLoaded=e,this.afterLoadComplete.emit(g),this.resetPdfDocument(),this.update()},error:g=>{this.lastLoaded=null,this.onError.emit(g)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(e,g){const q=this._showBorders?2*i.BORDER_WIDTH:0,Ce=this.pdfViewerContainer.nativeElement.clientWidth-q,ke=this.pdfViewerContainer.nativeElement.clientHeight-q;if(0===ke||0===g||0===Ce||0===e)return 1;let Ie=1;switch(this._zoomScale){case"page-fit":Ie=Math.min(ke/g,Ce/e);break;case"page-height":Ie=ke/g;break;default:Ie=Ce/e}return this._zoom*Ie/i.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){E()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){E()||this.ngZone.runOutsideAngular(()=>{m(window,"resize").pipe(function te(i,n=G){return(0,r.e)((e,g)=>{let q=null,Ce=null,ke=null;const Ie=()=>{if(q){q.unsubscribe(),q=null;const ze=Ce;Ce=null,g.next(ze)}};function $e(){const ze=ke+i,et=n.now();if(et<ze)return q=this.schedule(void 0,ze-et),void g.add(q);Ie()}e.subscribe((0,a.x)(g,ze=>{Ce=ze,ke=n.now(),q||(q=n.schedule($e,i),g.add(q))},()=>{Ie(),g.complete()},void 0,()=>{Ce=q=null}))})}(100),(0,oe.h)(()=>this._canAutoResize&&!!this._pdf),b(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return i.CSS_UNITS=96/72,i.BORDER_WIDTH=9,i.\u0275fac=function(e){return new(e||i)(u.Y36(u.SBq),u.Y36(u.R0b))},i.\u0275cmp=u.Xpm({type:i,selectors:[["pdf-viewer"]],viewQuery:function(e,g){if(1&e&&u.Gf(t,5),2&e){let q;u.iGM(q=u.CRH())&&(g.pdfViewerContainer=q.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[u.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(e,g){1&e&&(u.TgZ(0,"div",0,1),u._UZ(2,"div",2),u.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),i})(),z=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({}),i})();var H=re(6754);let $=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-header"]],decls:6,vars:0,consts:[["id","principal"],["src","./assets/images/logo-mma.png","alt","Logo MMA",1,"image","image1"],["src","./assets/images/estadoverde.png","alt","Logo Estado Verde",1,"image","image2"],["src","./assets/images/oficinaVerde.png","alt","Logo Oficina Verde",1,"image"]],template:function(e,g){1&e&&(u.TgZ(0,"div",0)(1,"div"),u._UZ(2,"img",1),u.qZA(),u.TgZ(3,"div"),u._UZ(4,"img",2)(5,"img",3),u.qZA()())},styles:["div#principal[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100%;max-width:1080px;margin:0 auto 10px!important}.image[_ngcontent-%COMP%]{height:110px}div[_ngcontent-%COMP%]:nth-child(2) > img[_ngcontent-%COMP%]:nth-child(1){margin-right:20px}"]}),i})(),K=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-footer"]],decls:9,vars:0,consts:[["id","principal"],[1,"content"],[1,"img"],["src","./assets/images/logo-mma-lineal-white.png","alt","Logo MMA White"],[1,"aside"]],template:function(e,g){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2),u._UZ(3,"img",3),u.qZA(),u.TgZ(4,"div",4)(5,"p"),u._uU(6,"San Mart\xedn 73, Santiago, Chile"),u.qZA(),u.TgZ(7,"p"),u._uU(8,"OIRS Subsecretar\xeda: (56-2) 257 35 800"),u.qZA()()()())},styles:["div#principal[_ngcontent-%COMP%]{background-color:#343a43;padding-top:20px;padding-bottom:10px}div.content[_ngcontent-%COMP%]{width:100%;max-width:1080px;margin:0 auto!important;display:flex;flex-direction:row;justify-content:space-between}img[_ngcontent-%COMP%]{height:130px}div.aside[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#b9b9b9}"]}),i})();const ae=function(){return["home"]};let pe=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-nav-bar"]],decls:18,vars:2,consts:[[1,"select",3,"routerLink"],[1,"login"],[1,"button"]],template:function(e,g){1&e&&(u.TgZ(0,"div")(1,"nav")(2,"ul")(3,"li"),u._uU(4,"Inicio"),u.qZA(),u.TgZ(5,"li"),u._uU(6,"Sobre Estado Verde"),u.qZA(),u.TgZ(7,"li"),u._uU(8,"Material Educativo"),u.qZA(),u.TgZ(9,"li"),u._uU(10,"Noticias"),u.qZA(),u.TgZ(11,"li"),u._uU(12,"Contacto"),u.qZA(),u.TgZ(13,"li",0),u._uU(14,"Foro de Consulta"),u.qZA(),u.TgZ(15,"li",1)(16,"button",2),u._uU(17," Iniciar Sesi\xf3n "),u.qZA()()()()()),2&e&&(u.xp6(13),u.Q6J("routerLink",u.DdM(1,ae)))},dependencies:[H.rH],styles:["nav[_ngcontent-%COMP%]{width:100%;height:44px;background-color:#80b42d}ul[_ngcontent-%COMP%]{height:100%;width:100%;max-width:1080px;margin:0 auto!important;display:flex;flex-direction:row;justify-content:flex-start}ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:400;font-family:Roboto;padding:13px 12px;text-decoration:none;list-style:none;text-align:center;cursor:pointer}li.select[_ngcontent-%COMP%]{height:100%;background-color:#4d8100}.login[_ngcontent-%COMP%]{margin-left:auto;height:100%;padding:11px 18px!important;margin-top:2px;border-radius:10px 0 10px 10px;background:#1a4e00}.button[_ngcontent-%COMP%]{background:#1a4e00;border:0;color:#fff;font-size:16px;font-weight:400;font-family:Roboto}"]}),i})(),Pe=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-foro-consultas"]],decls:6,vars:0,consts:[["id","content"]],template:function(e,g){1&e&&(u.TgZ(0,"div"),u._UZ(1,"app-header")(2,"app-nav-bar"),u.TgZ(3,"div",0),u._UZ(4,"router-outlet"),u.qZA(),u._UZ(5,"app-footer"),u.qZA())},dependencies:[H.lC,$,K,pe],styles:["div#content[_ngcontent-%COMP%]{width:100%;max-width:1080px;margin:0 auto!important}"]}),i})(),ne=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-carrusel"]],decls:28,vars:0,consts:[["id","carouselExampleControls","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],[1,"fondo","fondo-1"],["src","./assets/images/slider-2.png","alt","slider-2",1,"slide-1"],["src","./assets/images/bajada-arboles.png","alt","slider-2",1,"slide-2"],[1,"text"],[1,"carousel-item"],[1,"fondo","fondo-2"],["src","./assets/images/slider-3.png","alt","slider-2",1,"slide-1"],["src","./assets/images/bajada-piscinas.png","alt","slider-2",1,"slide-2"],[1,"text2"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(e,g){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u._UZ(4,"img",4)(5,"img",5),u.TgZ(6,"p",6),u._uU(7," El uso de papel alcanza las "),u.TgZ(8,"span"),u._uU(9,"4.884.737 resmas"),u.qZA()()()(),u.TgZ(10,"div",7)(11,"div",8),u._UZ(12,"img",9)(13,"img",10),u.TgZ(14,"p",11),u._uU(15," En cuanto al consumo de agua, apartado estatal "),u.TgZ(16,"span"),u._uU(17,"consume unos "),u._UZ(18,"br"),u._uU(19," 4.440.670 m\xb3 al a\xf1o"),u.qZA()()()(),u.TgZ(20,"button",12),u._UZ(21,"span",13),u.TgZ(22,"span",14),u._uU(23,"Previous"),u.qZA()(),u.TgZ(24,"button",15),u._UZ(25,"span",16),u.TgZ(26,"span",14),u._uU(27,"Next"),u.qZA()()()())},styles:[".carousel-item[_ngcontent-%COMP%]{width:100%;height:450px;position:relative}.carousel-item[_ngcontent-%COMP%] > div.fondo[_ngcontent-%COMP%]{position:relative;height:100%;width:100%}.fondo-1[_ngcontent-%COMP%]{background-image:url(fondo-slide-2.845ca390a286e7f9.jpg)}.fondo-2[_ngcontent-%COMP%]{background-image:url(fondo-slider-3.aa2e3bfc3f634cac.jpg)}div.fondo[_ngcontent-%COMP%] > img.slide-1[_ngcontent-%COMP%]{position:absolute;top:20px;right:0;height:450px}div.fondo[_ngcontent-%COMP%] > img.slide-2[_ngcontent-%COMP%]{position:absolute;left:50px;bottom:80px;height:150px;width:350px}div.fondo[_ngcontent-%COMP%] > p.text[_ngcontent-%COMP%]{position:absolute;left:50px;bottom:195px;height:100px;width:250px;color:#004677;font-size:20px;font-weight:700}div.fondo[_ngcontent-%COMP%] > p.text2[_ngcontent-%COMP%]{position:absolute;left:50px;bottom:255px;height:100px;width:250px;color:#004677;font-size:20px;font-weight:700}div.fondo[_ngcontent-%COMP%] > p.text[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#004677;font-weight:900;font-size:25px}div.fondo[_ngcontent-%COMP%] > p.text2[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#004677;font-weight:900;font-size:25px}"]}),i})();const ce=[{pregunta:"\xbfD\xf3nde se entrega la documentaci\xf3n solicitada para postular a la pre-acreditaci\xf3n?",respuesta:"\n            <p>La informaci\xf3n solicitada se entrega iniciando sesi\xf3n en la esquina superior\n            derecha de \xe9sta p\xe1gina, donde la <strong>contraparte oficial</strong> de la instituci\xf3n deber\xe1\n            ingresar con el nombre de usuario y contrase\xf1a creada por Estado Verde.</p>\n\n            <p>Una vez haya ingresado en la plataforma, en la parte inferior de la p\xe1gina\n            principal, presion\xe9 \u201cIngresar Formulario\u201d.</p>\n\n            <p>En primer lugar, deber\xe1 seleccionar el nivel de acreditaci\xf3n al cual postula,\n            seguidamente, deber\xe1 ingresar la documentaci\xf3n de los 15 componentes en\n            formato PDF, con un tama\xf1o no superior a 30 MB.</p>\n\n            <p>Cada vez que ingres\xe9 la documentaci\xf3n solicitada deber\xe1 seleccionar el\n            bot\xf3n \u201cGuardar\u201d que se encuentra al final del formulario, esta opci\xf3n\n            permitir\xe1 cambiar la informaci\xf3n cuanta veces dese\xe9.</p>\n            \n            <p>Una vez completada toda la documentaci\xf3n, debe presionar el bot\xf3n \u201cEnviar\n            Formulario\u201d que se encuentra al final de la p\xe1gina principal.</p>\n        "},{pregunta:"\xbfCu\xe1l es el a\xf1o base para calcular el diagn\xf3stico?",respuesta:"\n            <p>Por lo general, se utiliza el a\xf1o t-1, esto quiere decir, se realiza el c\xe1lculo con los\n            resultados del a\xf1o anterior a la firma del convenio.</p>\n\n            <p>No obstante, si el convenio es firmado en los meses de noviembre y diciembre de X\n            a\xf1o, es recomendable utilizar los resultados del mismo a\xf1o.</p>\n\n            <p>Debido a la crisis sanitaria, las instituciones que firmaron convenio en el a\xf1o 2021,\n            realizaron su diagn\xf3stico con informaci\xf3n del a\xf1o 2019, ya que en el a\xf1o 2020 imper\xf3\n            la modalidad de teletrabajo y para efectos del uso/consumo de cada \xedtem los datos\n            arrojados no son representativos.</p>\n        "},{pregunta:"\xbfQu\xe9 respaldos debo presentar para cada \xedtem?",respuesta:'\n            <table class="table">\n                <thead>\n                    <tr class="text-center bgGreen">\n                        <th>\xcdtem</th>\n                        <th>Respaldo</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td class="bgGreen">\n                            Pol\xedtica Interna de\n                            Autogesti\xf3n Ambiental\n                        </td>\n                        <td>\n                            <ul>\n                                <li>\n                                    Informe que indique y describa vigencia, difusi\xf3n e\n                                    implementaci\xf3n.\n                                </li>\n                                <li>\n                                    Documento con resumen descriptivo.\n                                </li>\n                                <li>\n                                    Copia de pol\xedtica formalizada.\n                                </li>\n                                <li>\n                                    Medios de prueba de difusi\xf3n e implementaci\xf3n\n                                    (fotograf\xedas, informativos, convocatorias, etc.)\n                                </li>\n                            </ul>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class="bgGreen">\n                           Uso de papel\n                        </td>\n                        <td>\n                            <ul>\n                                <li>\n                                    Indicar responsable de compra.\n                                </li>\n                                <li>\n                                    Documentos que evidencien gasto de papel anual\n                                    por funcionario(a) y N\xb0 de resmas.\n                                </li>\n                                <li>\n                                    Porcentaje de uso de papel reciclado.\n                                </li>\n                                <li>\n                                    Porcentaje de publicaciones en papel reciclado.\n                                </li>\n                                <li>\n                                    Porcentaje de publicaciones digitales.\n                                </li>\n                                <li>\n                                    Cantidad de papel reciclado por funcionario(a) al\n                                    a\xf1o.\n                                </li>\n                                <li>\n                                    Cantidad de impresiones/fotocopias por\n                                    funcionario(a) al a\xf1o.\n                                </li>\n                                <li>\n                                    Informe del proceso de impresi\xf3n y fotocopiado.\n                                </li>\n                                <li>\n                                    Indicar otros aspectos en la utilizaci\xf3n del papel.\n                                </li>\n                                <li>\n                                    Otros documentos de respaldo.\n                                </li>\n                            </ul>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class="bgGreen">\n                           Gesti\xf3n residuos\n                        </td>\n                        <td>\n                            <ul>\n                                <li>\n                                    Ubicaci\xf3n y tipo de contenedores para reciclaje.\n                                </li>\n                                <li>\n                                    Cantidad de residuos reciclados al mes seg\xfan\n                                    material.\n                                </li>\n                                <li>\n                                    Cantidad de basura total al mes Kg/funcionario(a).\n                                </li>\n                                <li>\n                                    Cantidad de toners utilizados al mes.\n                                </li>\n                                <li>\n                                    Informe proceso de gesti\xf3n de materiales\n                                    reciclados.\n                                </li>\n                                <li>\n                                    Informe procedimiento y materiales de aseo.\n                                </li>\n                                <li>\n                                    Informe sobre punto limpio y centro de acopio.\n                                </li>\n                                <li>\n                                    Otros documentos de respaldo.\n                                </li>\n                            </ul>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class="bgGreen">\n                        Gesti\xf3n h\xeddrica\n                        </td>\n                        <td>\n                            <ul>\n                                <li>\n                                    Cantidad de agua utilizada LT/funcionario(a) al a\xf1o.\n                                </li>\n                                <li>\n                                    Informe de artefactos (consumo h\xeddrico).\n                                </li>\n                                <li>\n                                    Composici\xf3n de materiales de aseo.\n                                </li>\n                                <li>\n                                    Medios de verificaci\xf3n y otros documentos de\n                                    respaldo.\n                                </li>\n                            </ul>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class="bgGreen">\n                            Gesti\xf3n energ\xe9tica\n                        </td>\n                        <td>\n                            <ul>\n                                <li>\n                                    Cantidad de electricidad utilizada\n                                    KW/funcionarios(as) al a\xf1o.\n                                </li>\n                                <li>\n                                    Uso del ascensor.\n                                </li>\n                                <li>\n                                    Catastro de equipos computacionales y artefactos\n                                    el\xe9ctricos.\n                                </li>\n                                <li>\n                                    Informe de uso de equipos y artefactos el\xe9ctricos en\n                                    ausencia de los(as) funcionarios(as).\n                                </li>\n                                <li>\n                                    Medios de verificaci\xf3n y otros documentos de\n                                    respaldo.\n                                </li>\n                            </ul>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class="bgGreen">\n                            Compras\n                            sustentables\n                        </td>\n                        <td>\n                            <ul>\n                                <li>Compras\n                                sustentables.</li>\n\n                                <li>Productos/servicios adquiridos con criterios de\n                                sustentabilidad.</li>\n\n                                <li>LProductos/servicios adquiridos con criterios de\n                                sustentabilidad.</li>\n\n                                <li>Productos/servicios adquiridos con criterios de\n                                sustentabilidad.</li>\n\n                                <li>Medios de verificaci\xf3n y otros documentos de\n                                respaldo.</li>\n                                \n                            </ul>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class="bgGreen">\n                            Baja de bienes muebles\n                        </td>\n                        <td>\n                            <ul>\n                                <li>Documento de procedimientos a seguir para los\n                                bienes muebles que sido dado de baja.</li>\n                            </ul>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class="bgGreen">\n                            Transporte\n                        </td>\n                        <td>\n                            <ul>\n                                <li>Catastro de veh\xedculos h\xedbridos y convencionales.</li>\n                                <li>Declaraci\xf3n de existencia/ausencia de pol\xedtica de\n                                fomento en el uso de la bicicleta y veh\xedculo\n                                compartido.</li>\n                                <li>An\xe1lisis de encuesta aplicada a funcionarios(as).</li>\n                                <li>Informe de contratos de transporte terrestre.</li>\n                                <li>Informe de uso de combustible.</li>\n                                <li>Medios de verificaci\xf3n y otros documentos de\n                                respaldo.</li>\n                            </ul>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class="bgGreen">\n                            Educaci\xf3n ambiental\n                            interna\n                        </td>\n                        <td>\n                            <ul>\n                                <li>Existencia/ausencia de programa de capacitaci\xf3n\n                                ambiental para funcionarios(as).</li>\n                                <li>Programa de capacitaci\xf3n.</li>\n                                <li>Catastro de elementos de difusi\xf3n ambiental.</li>\n                                <li>Planilla funcionarios(as) por estamento y g\xe9nero.</li>\n                                <li>Medios de verificaci\xf3n (presentaciones, fotograf\xedas,\n                                calendarios, listas de asistencias, etc.)</li>\n                            </ul>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class="bgGreen">\n                            Registro en Huella Chile\n                        </td>\n                        <td>\n                            <ul>\n                                <li>Comprobante de registro en Huella-Chile.</li>\n                                <li>Comprobante de acreditaci\xf3n recibida (s\xf3lo si\n                                corresponde).</li>\n                                <li>Medios de verificaci\xf3n de capacitaciones y otros\n                                documentos de respaldo.</li>\n                            </ul>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class="bgGreen">\n                            Campa\xf1a comunicacional\n                        </td>\n                        <td>\n                            <ul>\n                                <li>Respaldo que acredite existencia de una campa\xf1a\n                                comunicacional sobre actividades ambientales de la\n                                instituci\xf3n.</li>\n                            </ul>\n                        </td>\n                    </tr>\n                </tbody>\n            </table> \n         '},{pregunta:"Diferencias entre medidas y metas en el plan anual",respuesta:'\n            <table class="table">\n                <thead>\n                    <tr class="text-center bgGreen">\n                        <th></th>\n                        <th>Medida</th>\n                        <th>Meta</th>\n                        <th>Respaldo - Indicador de cumplimiento</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td class="bgGreen"> \n                            Definci\xf3n\n                        </td>\n                        <td class="text-center">\n                            <strong>\n                                <p>\n                                    Acci\xf3n o acciones a desarrollar.\n                                </p>\n                                <p>\n                                    Tambi\xe9n puede ser una disposici\xf3n, una\n                                    regulaci\xf3n o una\n                                    decisi\xf3n.\n                                </p>\n                            </strong>\n                        </td>\n                        <td class="text-center"> \n                            <strong>\n                                <p>\n                                    Lo que se quiere lograr.\n                                </p>\n                                <p>\n                                    <u>Es el fin o prop\xf3sito hacia el que se\n                                    dirigen las acciones o medidas.</u>\n                                </p>\n                            </strong>\n                        </td>\n                        <td class="text-center">\n                            <strong>\n                                <p>\n                                Medios de verificaci\xf3n.\n                                </p>\n                            </strong>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class="bgGreen">\n                            Compras Sustentables\n                        </td>\n                        <td>\n                            <ul>\n                                <li>Elaborar protocolo\n                                sobre compras\n                                p\xfablicas\n                                sustentables, desde\n                                el CEV en\n                                colaboraci\xf3n con la\n                                unidad de compras,\n                                durante el a\xf1o 2022.</li>\n                                <li> Difundir protocolo en\n                                todas las unidades\n                                de la Subsecretar\xeda,\n                                por medio de circular\n                                interna.\n                                </li>\n                            </ul>\n                        </td>\n                        <td>\n                            <ul>\n                                <li> Contar con criterios\n                                sustentables\n                                institucionales\n                                formales, aplicables\n                                a partir del a\xf1o 2023. </li>\n                                <li> Protocolo difundido\n                                y entregado a todas\n                                las unidades de la\n                                Subsecretar\xeda.\n                                </li>\n                            </ul>\n                        </td>\n                        <td>\n                        <ul>\n                            <li> Resoluci\xf3n o\n                            documentaci\xf3n\n                            similar que aprueba\n                            protocolo. </li>\n\n                            <li>Medios de\n                            verificaci\xf3n de\n                            incorporaci\xf3n de\n                            criterios\n                            sustentables en\n                            procesos de\n                            adquisiciones 2023.\n                            </li>\n\n                            <li>Copia de circular y\n                            distribuci\xf3n a colaboradores.\n                            </li>\n                        </ul>\n                    </td>\n                    </tr>\n                    <tr>\n                        <td class="bgGreen">\n                            Politicas Interna de Autogesti\xf3n Ambiental\n                        </td>\n                        <td>\n                            <ul>\n                                <li> Elaborar una pol\xedtica interna de\n                                autogesti\xf3n ambiental,\n                                considerando la participaci\xf3n de\n                                los/as funcionarios/as en el\n                                proceso. </li>\n                                <li> Elaborar un borrador\n                                de pol\xedtica desde el\n                                CEV y luego someterlo a un\n                                proceso de consulta\n                                de colaboradores,\n                                para obtener\n                                propuesta final.\n                                </li>\n                            </ul>\n                        </td>\n                        <td>\n                            <ul>\n                                <li> Pol\xedtica interna de\n                                autogesti\xf3n\n                                ambiental aprobada\n                                mediante resoluci\xf3n\n                                o documentaci\xf3n\n                                similar. </li>\n                                <li> Subsecretar\xeda de\n                                XXX con Pol\xedtica\n                                interna de\n                                autogesti\xf3n\n                                ambiental\n                                formalizada y\n                                vigente.\n                                </li>\n                            </ul>\n                        </td>\n                        <td>\n                        <ul>\n                            <li> Resoluci\xf3n o\n                            documentaci\xf3n\n                            similar.</li>\n\n                            <li> Respaldo de\n                            consulta a\n                            funcionarios/as\n                            (correo, lista de\n                            asistencia,\n                            encuesta, etc.)\n                            </li>\n                        </ul>\n                    </td>\n                    </tr>\n                </tbody>\n            </table>\n        '},{pregunta:"\xbfSe pueden realizar metas no cuantitativas?",respuesta:"\n            <p>Si se pueden realizar metas no cuantitativas, como por ejemplo, en el caso de que una\n            entidad tenga como medida la elaboraci\xf3n de una pol\xedtica interna de autogesti\xf3n\n            ambiental, la meta corresponde a la aprobaci\xf3n de la respectiva pol\xedtica mediante\n            resoluci\xf3n o documentaci\xf3n oficial similar.</p>\n        "},{pregunta:"\xbfDiferencia entre difusi\xf3n ambiental y educaci\xf3n ambiental?",respuesta:"\n        <p>El concepto de <strong>difusi\xf3n ambiental</strong> corresponde a la publicaci\xf3n de informaci\xf3n sobre\n        acciones, actividades y medidas ambientales dirigida a los/as interesados/as. Ejemplo de\n        esto corresponde cuando un organismo p\xfablico o privado instala puntos verdes y esta\n        acci\xf3n es difundida por los medios para que los funcionarios/as est\xe9n en conocimiento de\n        este punto verde.</p>\n\n        <p>Por su parte, el concepto de <strong>educaci\xf3n ambiental</strong> corresponde a aquel proceso donde\n        se transmiten ense\xf1anzas a la ciudadan\xeda, con el fin de que esta adquiera\n        conocimiento sobre la importancia del cuidado del medio ambiente y la naturaleza. Un\n        ejemplo de esto, son los programas de capacitaci\xf3n ambiental dirigida a funcionarios/as\n        de un organismo.</p>\n        "},{pregunta:"\xbfDebo incluir medidas y metas en todos los componentes?",respuesta:"\n            <p>S\xed, se debe presentar medidas y metas en todos los componentes. No obstante, si un\n            servicio previo a la suscripci\xf3n del convenio, ya ha realizado medidas con enfoque\n            ambiental anteriormente, podr\xe1 dar la continuidad o mejoras a estas actividades en la\n            formulaci\xf3n del plan anual.</p>\n\n            <p>\n            Ejemplo:\n                <ul>\n                    <li>El mantenimiento de luminarias LED.</li>\n                    <li>El mantenimiento de los puntos verdes o contenedores de reciclaje.</li>\n                    <li>La instituci\xf3n cuenta con sistemas de digitalizaci\xf3n de documentos.</li>\n                </ul>\n            </p>\n        "}];function x(i,n){if(1&i&&(u.TgZ(0,"div",3)(1,"h2",4)(2,"button",5),u._uU(3),u.qZA()(),u.TgZ(4,"div",6),u._UZ(5,"div",7),u.qZA()()),2&i){const e=n.$implicit,g=n.index,q=u.oxw();u.xp6(1),u.Q6J("id",q.getHeading(g)),u.xp6(1),u.uIk("data-bs-target",q.getPanelId(g))("aria-controls",q.getPanel(g)),u.xp6(1),u.hij(" ",e.pregunta," "),u.xp6(1),u.Q6J("id",q.getPanel(g)),u.uIk("aria-labelledby",q.getHeading(g)),u.xp6(1),u.Q6J("innerHTML",e.respuesta,u.oJD)}}const be=[{path:"",component:Pe,children:[{path:"home",component:(()=>{class i{constructor(e){this.route=e}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(u.Y36(H.gz))},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-foro-home"]],decls:33,vars:3,consts:[[1,"row","cards"],[1,"col"],[1,"card",2,"width","18rem","height","29rem",3,"routerLink"],["src","./assets/images/icono-de-mano-signo-de-interrogacion.png","alt","preguntas",1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"routerLink"],[1,"card",2,"width","18rem","height","29rem"],["src","./assets/images/tomaAccion.png","alt","accion",1,"card-img-top"],["src","./assets/images/googleForm-removebg-preview.png","alt","formulario",1,"card-img-top"],["href","https://docs.google.com/forms/d/e/1FAIpQLSd779mCNQ8z4WOGV_pIG3HCySBxIH2YqpkwJVyJc-4hq2o9zw/viewform?usp=sf_link","target","_blank",1,"btn","btn-primary"]],template:function(e,g){1&e&&(u.TgZ(0,"div"),u._UZ(1,"app-carrusel"),u.TgZ(2,"div",0)(3,"div",1)(4,"div",2),u._UZ(5,"img",3),u.TgZ(6,"div",4)(7,"h5",5),u._uU(8,"Preguntas Frecuentes"),u.qZA(),u.TgZ(9,"p",6),u._uU(10," \xbfTienes dudas? Ingresa ac\xe1 "),u.qZA(),u.TgZ(11,"a",7),u._uU(12,"Ver Preguntas"),u.qZA()()()(),u.TgZ(13,"div",1)(14,"div",8),u._UZ(15,"img",9),u.TgZ(16,"div",4)(17,"h5",5),u._uU(18,"Ejemplos de Medidas"),u.qZA(),u.TgZ(19,"p",6),u._uU(20," Revisa los siguientes ejemplos para incorporarlos en tu Plan Anual "),u.qZA(),u.TgZ(21,"a",7),u._uU(22,"Ver Medidas"),u.qZA()()()(),u.TgZ(23,"div",1)(24,"div",8),u._UZ(25,"img",10),u.TgZ(26,"div",4)(27,"h5",5),u._uU(28,"Ingresa tu Consulta"),u.qZA(),u.TgZ(29,"p",6),u._uU(30," \xbfTodav\xeda tienes dudas? Rellena este formulario y nos pondremos en contacto contigo. "),u.qZA(),u.TgZ(31,"a",11),u._uU(32,"Ir al Formulario"),u.qZA()()()()()()),2&e&&(u.xp6(4),u.Q6J("routerLink","../preguntas"),u.xp6(7),u.Q6J("routerLink","../preguntas"),u.xp6(10),u.Q6J("routerLink","../medidas"))},dependencies:[H.rH,H.yS,ne],styles:["div.row[_ngcontent-%COMP%]{margin:20px}div.card[_ngcontent-%COMP%]:hover{background-color:#80b42d;color:#fff}.card-title[_ngcontent-%COMP%]{font-size:25px}.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around}"]}),i})()},{path:"medidas",component:(()=>{class i{constructor(){this.pdfSrc="https://www.docdroid.net/0eFeLsY/pdf-medidas-pdf"}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-foro-ejemplo-medidas"]],decls:4,vars:3,consts:[[1,"title"],[3,"src","render-text","original-size"]],template:function(e,g){1&e&&(u.TgZ(0,"h2",0),u._uU(1,"Ejemplos de medidas"),u.qZA(),u.TgZ(2,"div"),u._UZ(3,"pdf-viewer",1),u.qZA()),2&e&&(u.xp6(3),u.Q6J("src",g.pdfSrc)("render-text",!0)("original-size",!1))},dependencies:[W],styles:[".title[_ngcontent-%COMP%]{margin:40px 0;text-align:center;font-size:40px;font-weight:900;line-height:1.1em;color:#349375}pdf-viewer[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:110%;height:calc(100vh - 400px)}"]}),i})()},{path:"preguntas",component:(()=>{class i{constructor(){this.listaPreguntas=[],this.panelOpenState=!1}ngOnInit(){this.listaPreguntas=ce}getHeading(e){return`panelsStayOpen-heading${e}`}getPanel(e){return`panelsStayOpen-collapse${e}`}getPanelId(e){return`#panelsStayOpen-collapse${e}`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-foro-preguntas-frecuentes"]],decls:4,vars:1,consts:[[1,"title"],["id","accordionPanels",1,"accordion"],["class","accordion-item",4,"ngFor","ngForOf"],[1,"accordion-item"],[1,"accordion-header",3,"id"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed"],[1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body",3,"innerHTML"]],template:function(e,g){1&e&&(u.TgZ(0,"h2",0),u._uU(1,"Preguntas Frecuentes"),u.qZA(),u.TgZ(2,"div",1),u.YNc(3,x,6,7,"div",2),u.qZA()),2&e&&(u.xp6(3),u.Q6J("ngForOf",g.listaPreguntas))},dependencies:[v.sg],styles:[".title[_ngcontent-%COMP%]{margin:40px 0;text-align:center;font-size:40px;font-weight:900;line-height:1.1em;color:#349375}div#accordionPanels[_ngcontent-%COMP%]{margin-bottom:30px}.accordion-header[_ngcontent-%COMP%]{margin:10px}button[_ngcontent-%COMP%]{font-size:20px}div.accordion-body[_ngcontent-%COMP%]{font-size:17px}.accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#fff;background-color:#80b42d}"]}),i})()},{path:"**",redirectTo:"home"}]}];let _e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[H.Bz.forChild(be),H.Bz]}),i})(),ge=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[v.ez]}),i})(),Se=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[v.ez,H.Bz]}),i})();re(4742),re(7669),re(1810),re(4004);let Nn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({}),i})(),dr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[Nn]}),i})(),hr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[dr]}),i})(),pr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[v.ez,hr,_e,ge,Se,z]}),i})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(7156).default,re;re=()=>(()=>{"use strict";var __webpack_modules__=[,(me,L,re)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.VerbosityLevel=L.Util=L.UnknownErrorException=L.UnexpectedResponseException=L.UNSUPPORTED_FEATURES=L.TextRenderingMode=L.StreamType=L.RenderingIntentFlag=L.PermissionFlag=L.PasswordResponses=L.PasswordException=L.PageActionEventType=L.OPS=L.MissingPDFException=L.InvalidPDFException=L.ImageKind=L.IDENTITY_MATRIX=L.FormatError=L.FontType=L.FeatureTest=L.FONT_IDENTITY_MATRIX=L.DocumentActionEventType=L.CMapCompressionType=L.BaseException=L.AnnotationType=L.AnnotationStateModelType=L.AnnotationReviewState=L.AnnotationReplyType=L.AnnotationMode=L.AnnotationMarkedState=L.AnnotationFlag=L.AnnotationFieldFlag=L.AnnotationBorderStyleType=L.AnnotationActionEventType=L.AbortException=void 0,L.arrayByteLength=z,L.arraysToBytes=function H(se){const N=se.length;if(1===N&&se[0]instanceof Uint8Array)return se[0];let V=0;for(let ye=0;ye<N;ye++)V+=z(se[ye]);let ue=0;const fe=new Uint8Array(V);for(let ye=0;ye<N;ye++){let Ae=se[ye];Ae instanceof Uint8Array||(Ae="string"==typeof Ae?W(Ae):new Uint8Array(Ae));const Te=Ae.byteLength;fe.set(Ae,ue),ue+=Te}return fe},L.assert=function Z(se,N){se||G(N)},L.bytesToString=function k(se){("object"!=typeof se||null===se||void 0===se.length)&&G("Invalid argument for bytesToString");const N=se.length,V=8192;if(N<V)return String.fromCharCode.apply(null,se);const ue=[];for(let fe=0;fe<N;fe+=V){const ye=Math.min(fe+V,N),Ae=se.subarray(fe,ye);ue.push(String.fromCharCode.apply(null,Ae))}return ue.join("")},L.createPromiseCapability=function De(){const se=Object.create(null);let N=!1;return Object.defineProperty(se,"settled",{get:()=>N}),se.promise=new Promise(function(V,ue){se.resolve=function(fe){N=!0,V(fe)},se.reject=function(fe){N=!0,ue(fe)}}),se},L.createValidAbsoluteUrl=function oe(se,N=null,V=null){if(!se)return null;try{if(V&&"string"==typeof se){if(V.addDefaultProtocol&&se.startsWith("www.")){const fe=se.match(/\./g);fe&&fe.length>=2&&(se=`http://${se}`)}if(V.tryConvertEncoding)try{se=ge(se)}catch{}}const ue=N?new URL(se,N):new URL(se);if(function te(se){if(!se)return!1;switch(se.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ue))return ue}catch{}return null},L.escapeString=function Q(se){return se.replace(/([()\\\n\r])/g,N=>"\n"===N?"\\n":"\r"===N?"\\r":`\\${N}`)},L.getModificationDate=function Fe(se=new Date){return[se.getUTCFullYear().toString(),(se.getUTCMonth()+1).toString().padStart(2,"0"),se.getUTCDate().toString().padStart(2,"0"),se.getUTCHours().toString().padStart(2,"0"),se.getUTCMinutes().toString().padStart(2,"0"),se.getUTCSeconds().toString().padStart(2,"0")].join("")},L.getVerbosityLevel=function X(){return I},L.info=function Y(se){I>=P.INFOS&&console.log(`Info: ${se}`)},L.isArrayBuffer=function ve(se){return"object"==typeof se&&null!==se&&void 0!==se.byteLength},L.isArrayEqual=function Me(se,N){if(se.length!==N.length)return!1;for(let V=0,ue=se.length;V<ue;V++)if(se[V]!==N[V])return!1;return!0},L.isAscii=function be(se){return/^[\x00-\x7F]*$/.test(se)},L.objectFromMap=function ae(se){const N=Object.create(null);for(const[V,ue]of se)N[V]=ue;return N},L.objectSize=function K(se){return Object.keys(se).length},L.setVerbosityLevel=function j(se){Number.isInteger(se)&&(I=se)},L.shadow=he,L.string32=function $(se){return String.fromCharCode(se>>24&255,se>>16&255,se>>8&255,255&se)},L.stringToBytes=W,L.stringToPDFString=function U(se){if(se[0]>="\xef"){let V;if("\xfe"===se[0]&&"\xff"===se[1]?V="utf-16be":"\xff"===se[0]&&"\xfe"===se[1]?V="utf-16le":"\xef"===se[0]&&"\xbb"===se[1]&&"\xbf"===se[2]&&(V="utf-8"),V)try{const ue=new TextDecoder(V,{fatal:!0}),fe=W(se);return ue.decode(fe)}catch(ue){ie(`stringToPDFString: "${ue}".`)}}const N=[];for(let V=0,ue=se.length;V<ue;V++){const fe=x[se.charCodeAt(V)];N.push(fe?String.fromCharCode(fe):se.charAt(V))}return N.join("")},L.stringToUTF16BEString=function _e(se){const N=["\xfe\xff"];for(let V=0,ue=se.length;V<ue;V++){const fe=se.charCodeAt(V);N.push(String.fromCharCode(fe>>8&255),String.fromCharCode(255&fe))}return N.join("")},L.stringToUTF8String=ge,L.unreachable=G,L.utf8StringToString=function Se(se){return unescape(encodeURIComponent(se))},L.warn=ie,re(2),L.IDENTITY_MATRIX=[1,0,0,1,0,0],L.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],L.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},L.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},L.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},L.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},L.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},L.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},L.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},L.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},L.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},L.AnnotationReplyType={GROUP:"Group",REPLY:"R"},L.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},L.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},L.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},L.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},L.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},L.PageActionEventType={O:"PageOpen",C:"PageClose"},L.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},L.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const P={ERRORS:0,WARNINGS:1,INFOS:5};L.VerbosityLevel=P,L.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},L.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},L.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},L.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let I=P.WARNINGS;function ie(se){I>=P.WARNINGS&&console.log(`Warning: ${se}`)}function G(se){throw new Error(se)}function he(se,N,V){return Object.defineProperty(se,N,{value:V,enumerable:!0,configurable:!0,writable:!1}),V}const O=function(){function N(V,ue){this.constructor===N&&G("Cannot initialize BaseException."),this.message=V,this.name=ue}return N.prototype=new Error,N.constructor=N,N}();function W(se){"string"!=typeof se&&G("Invalid argument for stringToBytes");const N=se.length,V=new Uint8Array(N);for(let ue=0;ue<N;++ue)V[ue]=255&se.charCodeAt(ue);return V}function z(se){return void 0!==se.length?se.length:void 0!==se.byteLength?se.byteLength:void G("Invalid argument for arrayByteLength")}L.BaseException=O,L.PasswordException=class c extends O{constructor(N,V){super(N,"PasswordException"),this.code=V}},L.UnknownErrorException=class h extends O{constructor(N,V){super(N,"UnknownErrorException"),this.details=V}},L.InvalidPDFException=class t extends O{constructor(N){super(N,"InvalidPDFException")}},L.MissingPDFException=class d extends O{constructor(N){super(N,"MissingPDFException")}},L.UnexpectedResponseException=class _ extends O{constructor(N,V){super(N,"UnexpectedResponseException"),this.status=V}},L.FormatError=class T extends O{constructor(N){super(N,"FormatError")}},L.AbortException=class E extends O{constructor(N){super(N,"AbortException")}},L.FeatureTest=class ne{static get isLittleEndian(){return he(this,"isLittleEndian",function pe(){const se=new Uint8Array(4);return se[0]=1,1===new Uint32Array(se.buffer,0,1)[0]}())}static get isEvalSupported(){return he(this,"isEvalSupported",function Pe(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return he(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const de=[...Array(256).keys()].map(se=>se.toString(16).padStart(2,"0"));class ce{static makeHexColor(N,V,ue){return`#${de[N]}${de[V]}${de[ue]}`}static scaleMinMax(N,V){let ue;N[0]?(N[0]<0&&(ue=V[0],V[0]=V[1],V[1]=ue),V[0]*=N[0],V[1]*=N[0],N[3]<0&&(ue=V[2],V[2]=V[3],V[3]=ue),V[2]*=N[3],V[3]*=N[3]):(ue=V[0],V[0]=V[2],V[2]=ue,ue=V[1],V[1]=V[3],V[3]=ue,N[1]<0&&(ue=V[2],V[2]=V[3],V[3]=ue),V[2]*=N[1],V[3]*=N[1],N[2]<0&&(ue=V[0],V[0]=V[1],V[1]=ue),V[0]*=N[2],V[1]*=N[2]),V[0]+=N[4],V[1]+=N[4],V[2]+=N[5],V[3]+=N[5]}static transform(N,V){return[N[0]*V[0]+N[2]*V[1],N[1]*V[0]+N[3]*V[1],N[0]*V[2]+N[2]*V[3],N[1]*V[2]+N[3]*V[3],N[0]*V[4]+N[2]*V[5]+N[4],N[1]*V[4]+N[3]*V[5]+N[5]]}static applyTransform(N,V){return[N[0]*V[0]+N[1]*V[2]+V[4],N[0]*V[1]+N[1]*V[3]+V[5]]}static applyInverseTransform(N,V){const ue=V[0]*V[3]-V[1]*V[2];return[(N[0]*V[3]-N[1]*V[2]+V[2]*V[5]-V[4]*V[3])/ue,(-N[0]*V[1]+N[1]*V[0]+V[4]*V[1]-V[5]*V[0])/ue]}static getAxialAlignedBoundingBox(N,V){const ue=ce.applyTransform(N,V),fe=ce.applyTransform(N.slice(2,4),V),ye=ce.applyTransform([N[0],N[3]],V),Ae=ce.applyTransform([N[2],N[1]],V);return[Math.min(ue[0],fe[0],ye[0],Ae[0]),Math.min(ue[1],fe[1],ye[1],Ae[1]),Math.max(ue[0],fe[0],ye[0],Ae[0]),Math.max(ue[1],fe[1],ye[1],Ae[1])]}static inverseTransform(N){const V=N[0]*N[3]-N[1]*N[2];return[N[3]/V,-N[1]/V,-N[2]/V,N[0]/V,(N[2]*N[5]-N[4]*N[3])/V,(N[4]*N[1]-N[5]*N[0])/V]}static apply3dTransform(N,V){return[N[0]*V[0]+N[1]*V[1]+N[2]*V[2],N[3]*V[0]+N[4]*V[1]+N[5]*V[2],N[6]*V[0]+N[7]*V[1]+N[8]*V[2]]}static singularValueDecompose2dScale(N){const V=[N[0],N[2],N[1],N[3]],ue=N[0]*V[0]+N[1]*V[2],Ae=N[2]*V[1]+N[3]*V[3],Te=(ue+Ae)/2,Oe=Math.sqrt((ue+Ae)**2-4*(ue*Ae-(N[2]*V[0]+N[3]*V[2])*(N[0]*V[1]+N[1]*V[3])))/2,Le=Te-Oe||1;return[Math.sqrt(Te+Oe||1),Math.sqrt(Le)]}static normalizeRect(N){const V=N.slice(0);return N[0]>N[2]&&(V[0]=N[2],V[2]=N[0]),N[1]>N[3]&&(V[1]=N[3],V[3]=N[1]),V}static intersect(N,V){const ue=Math.max(Math.min(N[0],N[2]),Math.min(V[0],V[2])),fe=Math.min(Math.max(N[0],N[2]),Math.max(V[0],V[2]));if(ue>fe)return null;const ye=Math.max(Math.min(N[1],N[3]),Math.min(V[1],V[3])),Ae=Math.min(Math.max(N[1],N[3]),Math.max(V[1],V[3]));return ye>Ae?null:[ue,ye,fe,Ae]}static bezierBoundingBox(N,V,ue,fe,ye,Ae,Te,Oe){const Ve=[],Le=[[],[]];let Be,Ue,Ne,Re,Ge,Ye,qe,He;for(let tt=0;tt<2;++tt)if(0===tt?(Ue=6*N-12*ue+6*ye,Be=-3*N+9*ue-9*ye+3*Te,Ne=3*ue-3*N):(Ue=6*V-12*fe+6*Ae,Be=-3*V+9*fe-9*Ae+3*Oe,Ne=3*fe-3*V),Math.abs(Be)<1e-12){if(Math.abs(Ue)<1e-12)continue;Re=-Ne/Ue,0<Re&&Re<1&&Ve.push(Re)}else qe=Ue*Ue-4*Ne*Be,He=Math.sqrt(qe),!(qe<0)&&(Ge=(-Ue+He)/(2*Be),0<Ge&&Ge<1&&Ve.push(Ge),Ye=(-Ue-He)/(2*Be),0<Ye&&Ye<1&&Ve.push(Ye));let We,Qe=Ve.length;const Ze=Qe;for(;Qe--;)Re=Ve[Qe],We=1-Re,Le[0][Qe]=We*We*We*N+3*We*We*Re*ue+3*We*Re*Re*ye+Re*Re*Re*Te,Le[1][Qe]=We*We*We*V+3*We*We*Re*fe+3*We*Re*Re*Ae+Re*Re*Re*Oe;return Le[0][Ze]=N,Le[1][Ze]=V,Le[0][Ze+1]=Te,Le[1][Ze+1]=Oe,Le[0].length=Le[1].length=Ze+2,[Math.min(...Le[0]),Math.min(...Le[1]),Math.max(...Le[0]),Math.max(...Le[1])]}}L.Util=ce;const x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ge(se){return decodeURIComponent(escape(se))}},(me,L,re)=>{re(3)},(me,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.isNodeJS=void 0;const re=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);L.isNodeJS=re},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var me,re,v,u,le,J,ee,B,zt,M;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:A,NodeCMapReaderFactory:l,NodeStandardFontDataFactory:m}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=A,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=l,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=m}function setPDFNetworkStreamFactory(A){createPDFNetworkStream=A}function getDocument(A){const l=new PDFDocumentLoadingTask;let m;if("string"==typeof A||A instanceof URL)m={url:A};else if((0,_util.isArrayBuffer)(A))m={data:A};else if(A instanceof PDFDataRangeTransport)m={range:A};else{if("object"!=typeof A)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!A.url&&!A.data&&!A.range)throw new Error("Invalid parameter object: need either .data, .range or .url");m=A}const s=Object.create(null);let o=null,p=null;for(const C in m){const y=m[C];switch(C){case"url":if(typeof window<"u")try{s[C]=new URL(y,window.location).href;continue}catch(r){(0,_util.warn)(`Cannot create valid URL: "${r}".`)}else if("string"==typeof y||y instanceof URL){s[C]=y.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":o=y;continue;case"worker":p=y;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&y instanceof Buffer)s[C]=new Uint8Array(y);else{if(y instanceof Uint8Array)break;if("string"==typeof y)s[C]=(0,_util.stringToBytes)(y);else if("object"!=typeof y||null===y||isNaN(y.length)){if(!(0,_util.isArrayBuffer)(y))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");s[C]=new Uint8Array(y)}else s[C]=new Uint8Array(y)}continue}s[C]=y}if(s.CMapReaderFactory=s.CMapReaderFactory||DefaultCMapReaderFactory,s.StandardFontDataFactory=s.StandardFontDataFactory||DefaultStandardFontDataFactory,s.ignoreErrors=!0!==s.stopAtErrors,s.fontExtraProperties=!0===s.fontExtraProperties,s.pdfBug=!0===s.pdfBug,s.enableXfa=!0===s.enableXfa,(!Number.isInteger(s.rangeChunkSize)||s.rangeChunkSize<1)&&(s.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof s.docBaseUrl||(0,_display_utils.isDataScheme)(s.docBaseUrl))&&(s.docBaseUrl=null),(!Number.isInteger(s.maxImageSize)||s.maxImageSize<-1)&&(s.maxImageSize=-1),"string"!=typeof s.cMapUrl&&(s.cMapUrl=null),"string"!=typeof s.standardFontDataUrl&&(s.standardFontDataUrl=null),"boolean"!=typeof s.useWorkerFetch&&(s.useWorkerFetch=s.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&s.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof s.isEvalSupported&&(s.isEvalSupported=!0),"boolean"!=typeof s.disableFontFace&&(s.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof s.useSystemFonts&&(s.useSystemFonts=!_is_node.isNodeJS&&!s.disableFontFace),("object"!=typeof s.ownerDocument||null===s.ownerDocument)&&(s.ownerDocument=globalThis.document),"boolean"!=typeof s.disableRange&&(s.disableRange=!1),"boolean"!=typeof s.disableStream&&(s.disableStream=!1),"boolean"!=typeof s.disableAutoFetch&&(s.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(s.verbosity),!p){const C={verbosity:s.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};p=C.port?PDFWorker.fromPort(C):new PDFWorker(C),l._worker=p}const F=l.docId;return p.promise.then(function(){if(l.destroyed)throw new Error("Loading aborted");const C=_fetchDocument(p,s,o,F),y=new Promise(function(r){let a;o?a=new _transport_stream.PDFDataTransportStream({length:s.length,initialData:s.initialData,progressiveDone:s.progressiveDone,contentDispositionFilename:s.contentDispositionFilename,disableRange:s.disableRange,disableStream:s.disableStream},o):s.data||(a=createPDFNetworkStream({url:s.url,length:s.length,httpHeaders:s.httpHeaders,withCredentials:s.withCredentials,rangeChunkSize:s.rangeChunkSize,disableRange:s.disableRange,disableStream:s.disableStream})),r(a)});return Promise.all([C,y]).then(function([r,a]){if(l.destroyed)throw new Error("Loading aborted");const P=new _message_handler.MessageHandler(F,r,p.port),b=new WorkerTransport(P,l,a,s);l._transport=b,P.send("Ready",null)})}).catch(l._capability.reject),l}function _fetchDocument(A,l,m,s){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(A,l,m,s){if(A.destroyed)throw new Error("Worker was destroyed");m&&(l.length=m.length,l.initialData=m.initialData,l.progressiveDone=m.progressiveDone,l.contentDispositionFilename=m.contentDispositionFilename);const o=yield A.messageHandler.sendWithPromise("GetDocRequest",{docId:s,apiVersion:"2.14.305",source:{data:l.data,url:l.url,password:l.password,disableAutoFetch:l.disableAutoFetch,rangeChunkSize:l.rangeChunkSize,length:l.length},maxImageSize:l.maxImageSize,disableFontFace:l.disableFontFace,docBaseUrl:l.docBaseUrl,ignoreErrors:l.ignoreErrors,isEvalSupported:l.isEvalSupported,fontExtraProperties:l.fontExtraProperties,enableXfa:l.enableXfa,useSystemFonts:l.useSystemFonts,cMapUrl:l.useWorkerFetch?l.cMapUrl:null,standardFontDataUrl:l.useWorkerFetch?l.standardFontDataUrl:null});if(A.destroyed)throw new Error("Worker was destroyed");return o})).apply(this,arguments)}const L=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+ti(L,me)._++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var l=this;return _asyncToGenerator(function*(){l.destroyed=!0,yield l._transport?.destroy(),l._transport=null,l._worker&&(l._worker.destroy(),l._worker=null)})()}};let PDFDocumentLoadingTask=L;me=new WeakMap,Ee(PDFDocumentLoadingTask,me,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(l,m,s=!1,o=null){this.length=l,this.initialData=m,this.progressiveDone=s,this.contentDispositionFilename=o,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(l){this._rangeListeners.push(l)}addProgressListener(l){this._progressListeners.push(l)}addProgressiveReadListener(l){this._progressiveReadListeners.push(l)}addProgressiveDoneListener(l){this._progressiveDoneListeners.push(l)}onDataRange(l,m){for(const s of this._rangeListeners)s(l,m)}onDataProgress(l,m){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(l,m)})}onDataProgressiveRead(l){this._readyCapability.promise.then(()=>{for(const m of this._progressiveReadListeners)m(l)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const l of this._progressiveDoneListeners)l()})}transportReady(){this._readyCapability.resolve()}requestDataRange(l,m){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(l,m){var o,s=this;this._pdfInfo=l,this._transport=m,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(o=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),s.stats||{streamTypes:{},fontTypes:{}}}),function(){return o.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(l){return this._transport.getPage(l)}getPageIndex(l){return this._transport.getPageIndex(l)}getDestinations(){return this._transport.getDestinations()}getDestination(l){return this._transport.getDestination(l)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(l=!1){return this._transport.startCleanup(l||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(l,m,s,o,p=!1){this._pageIndex=l,this._pageInfo=m,this._ownerDocument=o,this._transport=s,this._stats=p?new _display_utils.StatTimer:null,this._pdfBug=p,this.commonObjs=s.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:l,rotation:m=this.rotate,offsetX:s=0,offsetY:o=0,dontFlip:p=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:l,rotation:m,offsetX:s,offsetY:o,dontFlip:p})}getAnnotations({intent:l="display"}={}){const m=this._transport.getRenderingIntent(l);let s=this._annotationPromises.get(m.cacheKey);return s||(s=this._transport.getAnnotations(this._pageIndex,m.renderingIntent),this._annotationPromises.set(m.cacheKey,s),s=s.then(o=>{for(const p of o)void 0!==p.titleObj&&Object.defineProperty(p,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),p.titleObj.str)}),void 0!==p.contentsObj&&Object.defineProperty(p,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),p.contentsObj.str)});return o})),s}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var l=this;return _asyncToGenerator(function*(){return l._transport._htmlForXfa?.children[l._pageIndex]||null})()}render({canvasContext:l,viewport:m,intent:s="display",annotationMode:o=_util.AnnotationMode.ENABLE,transform:p=null,imageLayer:F=null,canvasFactory:C=null,background:y=null,optionalContentConfigPromise:r=null,annotationCanvasMap:a=null,pageColors:P=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&o===_util.AnnotationMode.ENABLE&&(o=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&o===_util.AnnotationMode.ENABLE&&(o=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const b=this._transport.getRenderingIntent(s,o);this.pendingCleanup=!1,r||(r=this._transport.getOptionalContentConfig());let w=this._intentStates.get(b.cacheKey);w||(w=Object.create(null),this._intentStates.set(b.cacheKey,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const R=C||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),D=!!(b.renderingIntent&_util.RenderingIntentFlag.PRINT);w.displayReadyCapability||(w.displayReadyCapability=(0,_util.createPromiseCapability)(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(b));const I=Y=>{w.renderTasks.delete(j),(this.cleanupAfterRender||D)&&(this.pendingCleanup=!0),this._tryCleanup(),Y?(j.capability.reject(Y),this._abortOperatorList({intentState:w,reason:Y instanceof Error?Y:new Error(Y)})):j.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},j=new InternalRenderTask({callback:I,params:{canvasContext:l,viewport:m,transform:p,imageLayer:F,background:y},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:a,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:R,useRequestAnimationFrame:!D,pdfBug:this._pdfBug,pageColors:P});(w.renderTasks||(w.renderTasks=new Set)).add(j);const X=j.task;return Promise.all([w.displayReadyCapability.promise,r]).then(([Y,ie])=>{this.pendingCleanup?I():(this._stats&&this._stats.time("Rendering"),j.initializeGraphics({transparency:Y,optionalContentConfig:ie}),j.operatorListChanged())}).catch(I),X}getOperatorList({intent:l="display",annotationMode:m=_util.AnnotationMode.ENABLE}={}){const o=this._transport.getRenderingIntent(l,m,!0);let F,p=this._intentStates.get(o.cacheKey);return p||(p=Object.create(null),this._intentStates.set(o.cacheKey,p)),p.opListReadCapability||(F=Object.create(null),F.operatorListChanged=function s(){p.operatorList.lastChunk&&(p.opListReadCapability.resolve(p.operatorList),p.renderTasks.delete(F))},p.opListReadCapability=(0,_util.createPromiseCapability)(),(p.renderTasks||(p.renderTasks=new Set)).add(F),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(o)),p.opListReadCapability.promise}streamTextContent({disableCombineTextItems:l=!1,includeMarkedContent:m=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==l,includeMarkedContent:!0===m},{highWaterMark:100,size:o=>o.items.length})}getTextContent(l={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>_xfa_text.XfaText.textContent(s));const m=this.streamTextContent(l);return new Promise(function(s,o){const F=m.getReader(),C={items:[],styles:Object.create(null)};!function p(){F.read().then(function({value:y,done:r}){r?s(C):(Object.assign(C.styles,y.styles),C.items.push(...y.items),p())},o)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const l=[];for(const m of this._intentStates.values())if(this._abortOperatorList({intentState:m,reason:new Error("Page was destroyed."),force:!0}),!m.opListReadCapability)for(const s of m.renderTasks)l.push(s.completed),s.cancel();this.objs.clear();for(const m of this._bitmaps)m.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(l)}cleanup(l=!1){return this.pendingCleanup=!0,this._tryCleanup(l)}_tryCleanup(l=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:m,operatorList:s}of this._intentStates.values())if(m.size>0||!s.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,l&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const m of this._bitmaps)m.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(l,m){const s=this._intentStates.get(m);!s||(this._stats&&this._stats.timeEnd("Page Request"),s.displayReadyCapability&&s.displayReadyCapability.resolve(l))}_renderPageChunk(l,m){for(let s=0,o=l.length;s<o;s++)m.operatorList.fnArray.push(l.fnArray[s]),m.operatorList.argsArray.push(l.argsArray[s]);m.operatorList.lastChunk=l.lastChunk;for(const s of m.renderTasks)s.operatorListChanged();l.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:l,cacheKey:m}){const o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:l,cacheKey:m,annotationStorage:l&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),p=this._intentStates.get(m);p.streamReader=o;const F=()=>{o.read().then(({value:C,done:y})=>{y?p.streamReader=null:this._transport.destroyed||(this._renderPageChunk(C,p),F())},C=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const y of p.renderTasks)y.operatorListChanged();this._tryCleanup()}if(p.displayReadyCapability)p.displayReadyCapability.reject(C);else{if(!p.opListReadCapability)throw C;p.opListReadCapability.reject(C)}}})};F()}_abortOperatorList({intentState:l,reason:m,force:s=!1}){if(l.streamReader){if(!s){if(l.renderTasks.size>0)return;if(m instanceof _display_utils.RenderingCancelledException)return void(l.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:l,reason:m,force:!0}),l.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(l.streamReader.cancel(new _util.AbortException(m.message)).catch(()=>{}),l.streamReader=null,!this._transport.destroyed){for(const[o,p]of this._intentStates)if(p===l){this._intentStates.delete(o);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(l,m){const s={data:structuredClone(l,m)};this._deferred.then(()=>{for(const o of this._listeners)o.call(this,s)})}addEventListener(l,m){this._listeners.push(m)}removeEventListener(l,m){const s=this._listeners.indexOf(m);this._listeners.splice(s,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const A=document?.currentScript?.src;A&&(PDFWorkerUtil.fallbackWorkerSrc=A.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(A,l){let m;try{if(m=new URL(A),!m.origin||"null"===m.origin)return!1}catch{return!1}const s=new URL(l,m);return m.origin===s.origin},PDFWorkerUtil.createCDNWrapper=function(A){return URL.createObjectURL(new Blob([`importScripts("${A}");`]))};const _PDFWorker=class{constructor({name:A=null,port:l=null,verbosity:m=(0,_util.getVerbosityLevel)()}={}){if(l&&we(_PDFWorker,re).has(l))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=A,this.destroyed=!1,this.verbosity=m,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,l)return we(_PDFWorker,re).set(l,this),void this._initializeFromPort(l);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(A){this._port=A,this._messageHandler=new _message_handler.MessageHandler("main","worker",A),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let A=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,A)||(A=PDFWorkerUtil.createCDNWrapper(new URL(A,window.location).href));const l=new Worker(A),m=new _message_handler.MessageHandler("main","worker",l),s=()=>{l.removeEventListener("error",o),m.destroy(),l.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=()=>{this._webWorker||s()};l.addEventListener("error",o),m.on("test",F=>{l.removeEventListener("error",o),this.destroyed?s():F?(this._messageHandler=m,this._port=l,this._webWorker=l,this._readyCapability.resolve(),m.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),m.destroy(),l.terminate())}),m.on("ready",F=>{if(l.removeEventListener("error",o),this.destroyed)s();else try{p()}catch{this._setupFakeWorker()}});const p=()=>{const F=new Uint8Array;m.send("test",F,[F.buffer])};return void p()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(A=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const l=new LoopbackPort;this._port=l;const m="fake"+PDFWorkerUtil.fakeWorkerId++,s=new _message_handler.MessageHandler(m+"_worker",m,l);A.setup(s,l);const o=new _message_handler.MessageHandler(m,m+"_worker",l);this._messageHandler=o,this._readyCapability.resolve(),o.send("configure",{verbosity:this.verbosity})}).catch(A=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${A.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),we(_PDFWorker,re).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(A){if(!A?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return we(this,re).has(A.port)?we(this,re).get(A.port):new _PDFWorker(A)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function A(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;re=new WeakMap,Ee(PDFWorker,re,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(l,m,s,o){Ee(this,v,null),Ee(this,u,new Map),Ee(this,le,new Map),Ee(this,J,null),this.messageHandler=l,this.loadingTask=m,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:m.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:o.ownerDocument,styleElement:o.styleElement}),this._params=o,o.useWorkerFetch||(this.CMapReaderFactory=new o.CMapReaderFactory({baseUrl:o.cMapUrl,isCompressed:o.cMapPacked}),this.StandardFontDataFactory=new o.StandardFontDataFactory({baseUrl:o.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return we(this,v)}getRenderingIntent(l,m=_util.AnnotationMode.ENABLE,s=!1){let o=_util.RenderingIntentFlag.DISPLAY,p="";switch(l){case"any":o=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":o=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${l}`)}switch(m){case _util.AnnotationMode.DISABLE:o+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:o+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:o+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,p=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${m}`)}return s&&(o+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:o,cacheKey:`${o}_${p}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const l=[];for(const s of we(this,u).values())l.push(s._destroy());we(this,u).clear(),we(this,le).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const m=this.messageHandler.sendWithPromise("Terminate",null);return l.push(m),Promise.all(l).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),je(this,J,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:l,loadingTask:m}=this;l.on("GetReader",(s,o)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=p=>{this._lastProgress={loaded:p.loaded,total:p.total}},o.onPull=()=>{this._fullReader.read().then(function({value:p,done:F}){F?o.close():((0,_util.assert)((0,_util.isArrayBuffer)(p),"GetReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(p),1,[p]))}).catch(p=>{o.error(p)})},o.onCancel=p=>{this._fullReader.cancel(p),o.ready.catch(F=>{if(!this.destroyed)throw F})}}),l.on("ReaderHeadersReady",s=>{const o=(0,_util.createPromiseCapability)(),p=this._fullReader;return p.headersReady.then(()=>{(!p.isStreamingSupported||!p.isRangeSupported)&&(this._lastProgress&&m.onProgress?.(this._lastProgress),p.onProgress=F=>{m.onProgress?.({loaded:F.loaded,total:F.total})}),o.resolve({isStreamingSupported:p.isStreamingSupported,isRangeSupported:p.isRangeSupported,contentLength:p.contentLength})},o.reject),o.promise}),l.on("GetRangeReader",(s,o)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const p=this._networkStream.getRangeReader(s.begin,s.end);p?(o.onPull=()=>{p.read().then(function({value:F,done:C}){C?o.close():((0,_util.assert)((0,_util.isArrayBuffer)(F),"GetRangeReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(F),1,[F]))}).catch(F=>{o.error(F)})},o.onCancel=F=>{p.cancel(F),o.ready.catch(C=>{if(!this.destroyed)throw C})}):o.close()}),l.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,m._capability.resolve(new PDFDocumentProxy(s,this))}),l.on("DocException",function(s){let o;switch(s.name){case"PasswordException":o=new _util.PasswordException(s.message,s.code);break;case"InvalidPDFException":o=new _util.InvalidPDFException(s.message);break;case"MissingPDFException":o=new _util.MissingPDFException(s.message);break;case"UnexpectedResponseException":o=new _util.UnexpectedResponseException(s.message,s.status);break;case"UnknownErrorException":o=new _util.UnknownErrorException(s.message,s.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}m._capability.reject(o)}),l.on("PasswordRequest",s=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),m.onPassword){const o=p=>{p instanceof Error?this._passwordCapability.reject(p):this._passwordCapability.resolve({password:p})};try{m.onPassword(o,s.code)}catch(p){this._passwordCapability.reject(p)}}else this._passwordCapability.reject(new _util.PasswordException(s.message,s.code));return this._passwordCapability.promise}),l.on("DataLoaded",s=>{m.onProgress?.({loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),l.on("StartRenderPage",s=>{this.destroyed||we(this,u).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),l.on("commonobj",([s,o,p])=>{if(!this.destroyed&&!this.commonObjs.has(s))switch(o){case"Font":const F=this._params;if("error"in p){const r=p.error;(0,_util.warn)(`Error during font loading: ${r}`),this.commonObjs.resolve(s,r);break}let C=null;F.pdfBug&&globalThis.FontInspector?.enabled&&(C={registerFont(r,a){globalThis.FontInspector.fontAdded(r,a)}});const y=new _font_loader.FontFaceObject(p,{isEvalSupported:F.isEvalSupported,disableFontFace:F.disableFontFace,ignoreErrors:F.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:C});this.fontLoader.bind(y).catch(r=>l.sendWithPromise("FontFallback",{id:s})).finally(()=>{!F.fontExtraProperties&&y.data&&(y.data=null),this.commonObjs.resolve(s,y)});break;case"FontPath":case"Image":this.commonObjs.resolve(s,p);break;default:throw new Error(`Got unknown common object type ${o}`)}}),l.on("obj",([s,o,p,F])=>{if(this.destroyed)return;const C=we(this,u).get(o);if(!C.objs.has(s))switch(p){case"Image":C.objs.resolve(s,F);const y=8e6;if(F){let r;if(F.bitmap){const{bitmap:a,width:P,height:b}=F;r=P*b*4,C._bitmaps.add(a)}else r=F.data?.length||0;r>y&&(C.cleanupAfterRender=!0)}break;case"Pattern":C.objs.resolve(s,F);break;default:throw new Error(`Got unknown object type ${p}`)}}),l.on("DocProgress",s=>{this.destroyed||m.onProgress?.({loaded:s.loaded,total:s.total})}),l.on("DocStats",s=>{this.destroyed||je(this,v,Object.freeze({streamTypes:Object.freeze(s.streamTypes),fontTypes:Object.freeze(s.fontTypes)}))}),l.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),l.on("FetchBuiltInCMap",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(s):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),l.on("FetchStandardFontData",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(s):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:l}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(l)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(l){if(!Number.isInteger(l)||l<=0||l>this._numPages)return Promise.reject(new Error("Invalid page request."));const m=l-1,s=we(this,le).get(m);if(s)return s;const o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:m}).then(p=>{if(this.destroyed)throw new Error("Transport destroyed");const F=new PDFPageProxy(m,p,this,this._params.ownerDocument,this._params.pdfBug);return we(this,u).set(m,F),F});return we(this,le).set(m,o),o}getPageIndex(l){return"object"!=typeof l||null===l||!Number.isInteger(l.num)||l.num<0||!Number.isInteger(l.gen)||l.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:l.num,gen:l.gen})}getAnnotations(l,m){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:l,intent:m})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(l){return"string"!=typeof l?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:l})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(l){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:l})}getStructTree(l){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:l})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(l=>new _optional_content_config.OptionalContentConfig(l))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return we(this,J)||je(this,J,this.messageHandler.sendWithPromise("GetMetadata",null).then(l=>({info:l[0],metadata:l[1]?new _metadata.Metadata(l[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(l=!1){var m=this;return _asyncToGenerator(function*(){if(yield m.messageHandler.sendWithPromise("Cleanup",null),!m.destroyed){for(const s of we(m,u).values())if(!s.cleanup())throw new Error(`startCleanup: Page ${s.pageNumber} is currently rendering.`);m.commonObjs.clear(),l||m.fontLoader.clear(),je(m,J,null),m._getFieldObjectsPromise=null,m._hasJSActionsPromise=null}})()}get loadingParams(){const l=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:l.disableAutoFetch,enableXfa:l.enableXfa})}}v=new WeakMap,u=new WeakMap,le=new WeakMap,J=new WeakMap;class PDFObjects{constructor(){Ee(this,B),Ee(this,ee,Object.create(null))}get(l,m=null){if(m){const o=xe(this,B,zt).call(this,l);return o.capability.promise.then(()=>m(o.data)),null}const s=we(this,ee)[l];if(!s?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${l}.`);return s.data}has(l){return we(this,ee)[l]?.capability.settled||!1}resolve(l,m=null){const s=xe(this,B,zt).call(this,l);s.data=m,s.capability.resolve()}clear(){je(this,ee,Object.create(null))}}ee=new WeakMap,B=new WeakSet,zt=function(l){return we(this,ee)[l]||(we(this,ee)[l]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(l){this._internalRenderTask=l,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const S=class{constructor({callback:l,params:m,objs:s,commonObjs:o,annotationCanvasMap:p,operatorList:F,pageIndex:C,canvasFactory:y,useRequestAnimationFrame:r=!1,pdfBug:a=!1,pageColors:P=null}){this.callback=l,this.params=m,this.objs=s,this.commonObjs=o,this.annotationCanvasMap=p,this.operatorListIdx=null,this.operatorList=F,this._pageIndex=C,this.canvasFactory=y,this._pdfBug=a,this.pageColors=P,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===r&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=m.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:l=!1,optionalContentConfig:m}){if(this.cancelled)return;if(this._canvas){if(we(S,M).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");we(S,M).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:o,transform:p,imageLayer:F,background:C}=this.params;this.gfx=new _canvas.CanvasGraphics(s,this.commonObjs,this.objs,this.canvasFactory,F,m,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:p,viewport:o,transparency:l,background:C}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(l=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&we(S,M).delete(this._canvas),this.callback(l||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var l=this;return _asyncToGenerator(function*(){l.cancelled||(l.operatorListIdx=l.gfx.executeOperatorList(l.operatorList,l.operatorListIdx,l._continueBound,l.stepper),l.operatorListIdx===l.operatorList.argsArray.length&&(l.running=!1,l.operatorList.lastChunk&&(l.gfx.endDrawing(),l._canvas&&we(S,M).delete(l._canvas),l.callback())))})()}};let InternalRenderTask=S;M=new WeakMap,Ee(InternalRenderTask,M,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(me,L,re)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.StatTimer=L.RenderingCancelledException=L.PixelsPerInch=L.PageViewport=L.PDFDateString=L.DOMStandardFontDataFactory=L.DOMSVGFactory=L.DOMCanvasFactory=L.DOMCMapReaderFactory=void 0,L.deprecated=function a(D){console.log("Deprecated API usage: "+D)},L.getFilenameFromUrl=function p(D){const I=D.indexOf("#"),j=D.indexOf("?"),X=Math.min(I>0?I:D.length,j>0?j:D.length);return D.substring(D.lastIndexOf("/",X)+1,X)},L.getPdfFilenameFromUrl=function F(D,I="document.pdf"){if("string"!=typeof D)return I;if(s(D))return(0,u.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),I;const X=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Y=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(D);let ie=X.exec(Y[1])||X.exec(Y[2])||X.exec(Y[3]);if(ie&&(ie=ie[0],ie.includes("%")))try{ie=X.exec(decodeURIComponent(ie))[0]}catch{}return ie||I},L.getXfaPageViewport=function w(D,{scale:I=1,rotation:j=0}){const{width:X,height:Y}=D.attributes.style,ie=[0,0,parseInt(X),parseInt(Y)];return new l({viewBox:ie,scale:I,rotation:j})},L.isDataScheme=s,L.isPdfFile=function o(D){return"string"==typeof D&&/\.pdf$/i.test(D)},L.isValidFetchUrl=y,L.loadScript=function r(D,I=!1){return new Promise((j,X)=>{const Y=document.createElement("script");Y.src=D,Y.onload=function(ie){I&&Y.remove(),j(ie)},Y.onerror=function(){X(new Error(`Cannot load script at: ${Y.src}`))},(document.head||document.documentElement).appendChild(Y)})};var v=re(6),u=re(1);const R=class{};let P,J=R;function B(D){return f.apply(this,arguments)}function f(){return(f=_asyncToGenerator(function*(D,I=!1){if(y(D,document.baseURI)){const j=yield fetch(D);if(!j.ok)throw new Error(j.statusText);return I?new Uint8Array(yield j.arrayBuffer()):(0,u.stringToBytes)(yield j.text())}return new Promise((j,X)=>{const Y=new XMLHttpRequest;Y.open("GET",D,!0),I&&(Y.responseType="arraybuffer"),Y.onreadystatechange=()=>{if(Y.readyState===XMLHttpRequest.DONE){if(200===Y.status||0===Y.status){let ie;if(I&&Y.response?ie=new Uint8Array(Y.response):!I&&Y.responseText&&(ie=(0,u.stringToBytes)(Y.responseText)),ie)return void j(ie)}X(new Error(Y.statusText))}},Y.send(null)})})).apply(this,arguments)}At(J,"CSS",96),At(J,"PDF",72),At(J,"PDF_TO_CSS_UNITS",R.CSS/R.PDF),L.PixelsPerInch=J,L.DOMCanvasFactory=class ee extends v.BaseCanvasFactory{constructor({ownerDocument:I=globalThis.document}={}){super(),this._document=I}_createCanvas(I,j){const X=this._document.createElement("canvas");return X.width=I,X.height=j,X}},L.DOMCMapReaderFactory=class M extends v.BaseCMapReaderFactory{_fetchData(I,j){return B(I,this.isCompressed).then(X=>({cMapData:X,compressionType:j}))}},L.DOMStandardFontDataFactory=class S extends v.BaseStandardFontDataFactory{_fetchData(I){return B(I,!0)}},L.DOMSVGFactory=class A extends v.BaseSVGFactory{_createSVG(I){return document.createElementNS("http://www.w3.org/2000/svg",I)}};class l{constructor({viewBox:I,scale:j,rotation:X,offsetX:Y=0,offsetY:ie=0,dontFlip:G=!1}){this.viewBox=I,this.scale=j,this.rotation=X,this.offsetX=Y,this.offsetY=ie;const Z=(I[2]+I[0])/2,te=(I[3]+I[1])/2;let oe,he,O,c,h,t,d,_;switch((X%=360)<0&&(X+=360),X){case 180:oe=-1,he=0,O=0,c=1;break;case 90:oe=0,he=1,O=1,c=0;break;case 270:oe=0,he=-1,O=-1,c=0;break;case 0:oe=1,he=0,O=0,c=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}G&&(O=-O,c=-c),0===oe?(h=Math.abs(te-I[1])*j+Y,t=Math.abs(Z-I[0])*j+ie,d=Math.abs(I[3]-I[1])*j,_=Math.abs(I[2]-I[0])*j):(h=Math.abs(Z-I[0])*j+Y,t=Math.abs(te-I[1])*j+ie,d=Math.abs(I[2]-I[0])*j,_=Math.abs(I[3]-I[1])*j),this.transform=[oe*j,he*j,O*j,c*j,h-oe*j*Z-O*j*te,t-he*j*Z-c*j*te],this.width=d,this.height=_}clone({scale:I=this.scale,rotation:j=this.rotation,offsetX:X=this.offsetX,offsetY:Y=this.offsetY,dontFlip:ie=!1}={}){return new l({viewBox:this.viewBox.slice(),scale:I,rotation:j,offsetX:X,offsetY:Y,dontFlip:ie})}convertToViewportPoint(I,j){return u.Util.applyTransform([I,j],this.transform)}convertToViewportRectangle(I){const j=u.Util.applyTransform([I[0],I[1]],this.transform),X=u.Util.applyTransform([I[2],I[3]],this.transform);return[j[0],j[1],X[0],X[1]]}convertToPdfPoint(I,j){return u.Util.applyInverseTransform([I,j],this.transform)}}function s(D){const I=D.length;let j=0;for(;j<I&&""===D[j].trim();)j++;return"data:"===D.substring(j,j+5).toLowerCase()}function y(D,I){try{const{protocol:j}=I?new URL(D,I):new URL(D);return"http:"===j||"https:"===j}catch{return!1}}L.PageViewport=l,L.RenderingCancelledException=class m extends u.BaseException{constructor(I,j){super(I,"RenderingCancelledException"),this.type=j}},L.StatTimer=class C{constructor(){this.started=Object.create(null),this.times=[]}time(I){I in this.started&&(0,u.warn)(`Timer is already running for ${I}`),this.started[I]=Date.now()}timeEnd(I){I in this.started||(0,u.warn)(`Timer has not been started for ${I}`),this.times.push({name:I,start:this.started[I],end:Date.now()}),delete this.started[I]}toString(){const I=[];let j=0;for(const X of this.times){const Y=X.name;Y.length>j&&(j=Y.length)}for(const X of this.times){const Y=X.end-X.start;I.push(`${X.name.padEnd(j)} ${Y}ms\n`)}return I.join("")}},L.PDFDateString=class b{static toDateObject(I){if(!I||"string"!=typeof I)return null;P||(P=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const j=P.exec(I);if(!j)return null;const X=parseInt(j[1],10);let Y=parseInt(j[2],10);Y=Y>=1&&Y<=12?Y-1:0;let ie=parseInt(j[3],10);ie=ie>=1&&ie<=31?ie:1;let G=parseInt(j[4],10);G=G>=0&&G<=23?G:0;let Z=parseInt(j[5],10);Z=Z>=0&&Z<=59?Z:0;let te=parseInt(j[6],10);te=te>=0&&te<=59?te:0;const oe=j[7]||"Z";let he=parseInt(j[8],10);he=he>=0&&he<=23?he:0;let O=parseInt(j[9],10)||0;return O=O>=0&&O<=59?O:0,"-"===oe?(G+=he,Z+=O):"+"===oe&&(G-=he,Z-=O),new Date(Date.UTC(X,Y,ie,G,Z,te))}}},(me,L,re)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.BaseStandardFontDataFactory=L.BaseSVGFactory=L.BaseCanvasFactory=L.BaseCMapReaderFactory=void 0;var v=re(1);class u{constructor(){this.constructor===u&&(0,v.unreachable)("Cannot initialize BaseCanvasFactory.")}create(f,M){if(f<=0||M<=0)throw new Error("Invalid canvas size");const S=this._createCanvas(f,M);return{canvas:S,context:S.getContext("2d")}}reset(f,M,S){if(!f.canvas)throw new Error("Canvas is not specified");if(M<=0||S<=0)throw new Error("Invalid canvas size");f.canvas.width=M,f.canvas.height=S}destroy(f){if(!f.canvas)throw new Error("Canvas is not specified");f.canvas.width=0,f.canvas.height=0,f.canvas=null,f.context=null}_createCanvas(f,M){(0,v.unreachable)("Abstract method `_createCanvas` called.")}}L.BaseCanvasFactory=u;class le{constructor({baseUrl:f=null,isCompressed:M=!1}){this.constructor===le&&(0,v.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=f,this.isCompressed=M}fetch({name:f}){var M=this;return _asyncToGenerator(function*(){if(!M.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!f)throw new Error("CMap name must be specified.");const S=M.baseUrl+f+(M.isCompressed?".bcmap":"");return M._fetchData(S,M.isCompressed?v.CMapCompressionType.BINARY:v.CMapCompressionType.NONE).catch(l=>{throw new Error(`Unable to load ${M.isCompressed?"binary ":""}CMap at: ${S}`)})})()}_fetchData(f,M){(0,v.unreachable)("Abstract method `_fetchData` called.")}}L.BaseCMapReaderFactory=le;class J{constructor({baseUrl:f=null}){this.constructor===J&&(0,v.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=f}fetch({filename:f}){var M=this;return _asyncToGenerator(function*(){if(!M.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!f)throw new Error("Font filename must be specified.");const S=`${M.baseUrl}${f}`;return M._fetchData(S).catch(A=>{throw new Error(`Unable to load font data at: ${S}`)})})()}_fetchData(f){(0,v.unreachable)("Abstract method `_fetchData` called.")}}L.BaseStandardFontDataFactory=J;class ee{constructor(){this.constructor===ee&&(0,v.unreachable)("Cannot initialize BaseSVGFactory.")}create(f,M){if(f<=0||M<=0)throw new Error("Invalid SVG dimensions");const S=this._createSVG("svg:svg");return S.setAttribute("version","1.1"),S.setAttribute("width",`${f}px`),S.setAttribute("height",`${M}px`),S.setAttribute("preserveAspectRatio","none"),S.setAttribute("viewBox",`0 0 ${f} ${M}`),S}createElement(f){if("string"!=typeof f)throw new Error("Invalid SVG element type");return this._createSVG(f)}_createSVG(f){(0,v.unreachable)("Abstract method `_createSVG` called.")}}L.BaseSVGFactory=ee},(me,L,re)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.FontLoader=L.FontFaceObject=void 0;var v=re(1);class u{constructor({docId:B,onUnsupportedFeature:f,ownerDocument:M=globalThis.document,styleElement:S=null}){this.constructor===u&&(0,v.unreachable)("Cannot initialize BaseFontLoader."),this.docId=B,this._onUnsupportedFeature=f,this._document=M,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(B){this.nativeFontFaces.push(B),this._document.fonts.add(B)}insertRule(B){let f=this.styleElement;f||(f=this.styleElement=this._document.createElement("style"),f.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(f));const M=f.sheet;M.insertRule(B,M.cssRules.length)}clear(){for(const B of this.nativeFontFaces)this._document.fonts.delete(B);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(B){var f=this;return _asyncToGenerator(function*(){if(B.attached||B.missingFile)return;if(B.attached=!0,f.isFontLoadingAPISupported){const S=B.createNativeFontFace();if(S){f.addNativeFontFace(S);try{yield S.loaded}catch(A){throw f._onUnsupportedFeature({featureId:v.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,v.warn)(`Failed to load font '${S.family}': '${A}'.`),B.disableFontFace=!0,A}}return}const M=B.createFontFaceRule();if(M){if(f.insertRule(M),f.isSyncFontLoadingSupported)return;yield new Promise(S=>{const A=f._queueLoadingCallback(S);f._prepareFontLoadEvent([M],[B],A)})}})()}_queueLoadingCallback(B){(0,v.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,v.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,v.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,v.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(B,f,M){(0,v.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let le;L.FontLoader=le,L.FontLoader=le=class extends u{constructor(B){super(B),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let B=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(B=!0),(0,v.shadow)(this,"isSyncFontLoadingSupported",B)}_queueLoadingCallback(B){const M=this.loadingContext,S={id:"pdfjs-font-loading-"+M.nextRequestId++,done:!1,complete:function f(){for((0,v.assert)(!S.done,"completeRequest() cannot be called twice."),S.done=!0;M.requests.length>0&&M.requests[0].done;){const A=M.requests.shift();setTimeout(A.callback,0)}},callback:B};return M.requests.push(S),S}get _loadTestFont(){return(0,v.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(B,f,M){function S(j,X){return j.charCodeAt(X)<<24|j.charCodeAt(X+1)<<16|j.charCodeAt(X+2)<<8|255&j.charCodeAt(X+3)}function A(j,X,Y,ie){return j.substring(0,X)+ie+j.substring(X+Y)}let l,m;const s=this._document.createElement("canvas");s.width=1,s.height=1;const o=s.getContext("2d");let p=0;const C=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=A(y,976,C.length,C);const P=1482184792;let b=S(y,16);for(l=0,m=C.length-3;l<m;l+=4)b=b-P+S(C,l)|0;l<C.length&&(b=b-P+S(C+"XXX",l)|0),y=A(y,16,4,(0,v.string32)(b));const w=`url(data:font/opentype;base64,${btoa(y)});`;this.insertRule(`@font-face {font-family:"${C}";src:${w}}`);const D=[];for(const j of f)D.push(j.loadedName);D.push(C);const I=this._document.createElement("div");I.style.visibility="hidden",I.style.width=I.style.height="10px",I.style.position="absolute",I.style.top=I.style.left="0px";for(const j of D){const X=this._document.createElement("span");X.textContent="Hi",X.style.fontFamily=j,I.appendChild(X)}this._document.body.appendChild(I),function F(j,X){if(p++,p>30)return(0,v.warn)("Load test font never loaded."),void X();o.font="30px "+j,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?X():setTimeout(F.bind(null,j,X))}(C,()=>{I.remove(),M.complete()})}},L.FontFaceObject=class J{constructor(B,{isEvalSupported:f=!0,disableFontFace:M=!1,ignoreErrors:S=!1,onUnsupportedFeature:A,fontRegistry:l=null}){this.compiledGlyphs=Object.create(null);for(const m in B)this[m]=B[m];this.isEvalSupported=!1!==f,this.disableFontFace=!0===M,this.ignoreErrors=!0===S,this._onUnsupportedFeature=A,this.fontRegistry=l}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let B;if(this.cssFontInfo){const f={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(f.style=`oblique ${this.cssFontInfo.italicAngle}deg`),B=new FontFace(this.cssFontInfo.fontFamily,this.data,f)}else B=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),B}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const B=(0,v.bytesToString)(this.data),f=`url(data:${this.mimetype};base64,${btoa(B)});`;let M;if(this.cssFontInfo){let S=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(S+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),M=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${S}src:${f}}`}else M=`@font-face {font-family:"${this.loadedName}";src:${f}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,f),M}getPathGenerator(B,f){if(void 0!==this.compiledGlyphs[f])return this.compiledGlyphs[f];let M;try{M=B.get(this.loadedName+"_path_"+f)}catch(S){if(!this.ignoreErrors)throw S;return this._onUnsupportedFeature({featureId:v.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,v.warn)(`getPathGenerator - ignoring character: "${S}".`),this.compiledGlyphs[f]=function(A,l){}}if(this.isEvalSupported&&v.FeatureTest.isEvalSupported){const S=[];for(const A of M){const l=void 0!==A.args?A.args.join(","):"";S.push("c.",A.cmd,"(",l,");\n")}return this.compiledGlyphs[f]=new Function("c","size",S.join(""))}return this.compiledGlyphs[f]=function(S,A){for(const l of M)"scale"===l.cmd&&(l.args=[A,-A]),S[l.cmd].apply(S,l.args)}}}},(me,L,re)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.AnnotationStorage=void 0;var v=re(9),u=re(1);L.AnnotationStorage=class le{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(ee,B){const f=this._storage.get(ee);return void 0===f?B:Object.assign(B,f)}getRawValue(ee){return this._storage.get(ee)}setValue(ee,B){const f=this._storage.get(ee);let M=!1;if(void 0!==f)for(const[S,A]of Object.entries(B))f[S]!==A&&(M=!0,f[S]=A);else M=!0,this._storage.set(ee,B);M&&this._setModified()}getAll(){return this._storage.size>0?(0,u.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const ee=new v.MurmurHash3_64;for(const[B,f]of this._storage)ee.update(`${B}:${JSON.stringify(f)}`);return ee.hexdigest()}}},(me,L,re)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.MurmurHash3_64=void 0;var v=re(1);const u=3285377520,le=4294901760,J=65535;L.MurmurHash3_64=class ee{constructor(f){this.h1=f?4294967295&f:u,this.h2=f?4294967295&f:u}update(f){let M,S;if("string"==typeof f){M=new Uint8Array(2*f.length),S=0;for(let P=0,b=f.length;P<b;P++){const w=f.charCodeAt(P);w<=255?M[S++]=w:(M[S++]=w>>>8,M[S++]=255&w)}}else{if(!(0,v.isArrayBuffer)(f))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");M=f.slice(),S=M.byteLength}const A=S>>2,l=S-4*A,m=new Uint32Array(M.buffer,0,A);let s=0,o=0,p=this.h1,F=this.h2;const C=3432918353,y=461845907,r=C&J,a=y&J;for(let P=0;P<A;P++)1&P?(s=m[P],s=s*C&le|s*r&J,s=s<<15|s>>>17,s=s*y&le|s*a&J,p^=s,p=p<<13|p>>>19,p=5*p+3864292196):(o=m[P],o=o*C&le|o*r&J,o=o<<15|o>>>17,o=o*y&le|o*a&J,F^=o,F=F<<13|F>>>19,F=5*F+3864292196);switch(s=0,l){case 3:s^=M[4*A+2]<<16;case 2:s^=M[4*A+1]<<8;case 1:s^=M[4*A],s=s*C&le|s*r&J,s=s<<15|s>>>17,s=s*y&le|s*a&J,1&A?p^=s:F^=s}this.h1=p,this.h2=F}hexdigest(){let f=this.h1,M=this.h2;f^=M>>>1,f=3981806797*f&le|36045*f&J,M=4283543511*M&le|(2950163797*(M<<16|f>>>16)&le)>>>16,f^=M>>>1,f=444984403*f&le|60499*f&J,M=3301882366*M&le|(3120437893*(M<<16|f>>>16)&le)>>>16,f^=M>>>1;const S=(f>>>0).toString(16),A=(M>>>0).toString(16);return S.padStart(8,"0")+A.padStart(8,"0")}}},(me,L,re)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.CanvasGraphics=void 0;var v=re(1),u=re(11),le=re(12),J=re(3),ee=re(5);const M=4096,s=16;function F(O){if(O._transformStack&&(O._transformStack=[]),!O.mozCurrentTransform){O._originalSave=O.save,O._originalRestore=O.restore,O._originalRotate=O.rotate,O._originalScale=O.scale,O._originalTranslate=O.translate,O._originalTransform=O.transform,O._originalSetTransform=O.setTransform,O._originalResetTransform=O.resetTransform,O._transformMatrix=O._transformMatrix||[1,0,0,1,0,0],O._transformStack=[];try{const c=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(O),"lineWidth");O._setLineWidth=c.set,O._getLineWidth=c.get,Object.defineProperty(O,"lineWidth",{set:function(t){this._setLineWidth(1.000001*t)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(O,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(O,"mozCurrentTransformInverse",{get:function(){const[h,t,d,_,T,E]=this._transformMatrix,k=h*_-t*d,W=t*d-h*_;return[_/k,t/W,d/W,h/k,(_*T-d*E)/W,(t*T-h*E)/k]}}),O.save=function(){const h=this._transformMatrix;this._transformStack.push(h),this._transformMatrix=h.slice(0,6),this._originalSave()},O.restore=function(){0===this._transformStack.length&&(0,v.warn)("Tried to restore a ctx when the stack was already empty.");const h=this._transformStack.pop();h&&(this._transformMatrix=h,this._originalRestore())},O.translate=function(h,t){const d=this._transformMatrix;d[4]=d[0]*h+d[2]*t+d[4],d[5]=d[1]*h+d[3]*t+d[5],this._originalTranslate(h,t)},O.scale=function(h,t){const d=this._transformMatrix;d[0]*=h,d[1]*=h,d[2]*=t,d[3]*=t,this._originalScale(h,t)},O.transform=function(h,t,d,_,T,E){const k=this._transformMatrix;this._transformMatrix=[k[0]*h+k[2]*t,k[1]*h+k[3]*t,k[0]*d+k[2]*_,k[1]*d+k[3]*_,k[0]*T+k[2]*E+k[4],k[1]*T+k[3]*E+k[5]],O._originalTransform(h,t,d,_,T,E)},O.setTransform=function(h,t,d,_,T,E){this._transformMatrix=[h,t,d,_,T,E],O._originalSetTransform(h,t,d,_,T,E)},O.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],O._originalResetTransform()},O.rotate=function(h){const t=Math.cos(h),d=Math.sin(h),_=this._transformMatrix;this._transformMatrix=[_[0]*t+_[2]*d,_[1]*t+_[3]*d,_[0]*-d+_[2]*t,_[1]*-d+_[3]*t,_[4],_[5]],this._originalRotate(h)}}}class C{constructor(c){this.canvasFactory=c,this.cache=Object.create(null)}getCanvas(c,h,t,d){let _;return void 0!==this.cache[c]?(_=this.cache[c],this.canvasFactory.reset(_,h,t),_.context.setTransform(1,0,0,1,0,0)):(_=this.canvasFactory.create(h,t),this.cache[c]=_),d&&F(_.context),_}delete(c){delete this.cache[c]}clear(){for(const c in this.cache)this.canvasFactory.destroy(this.cache[c]),delete this.cache[c]}}function y(O,c,h,t,d,_,T,E,k,W){const[z,H,$,K,ae,pe]=O.mozCurrentTransform;if(0===H&&0===$){const ce=Math.round(T*z+ae),U=Math.round(E*K+pe),be=Math.abs(Math.round((T+k)*z+ae)-ce)||1,ge=Math.abs(Math.round((E+W)*K+pe)-U)||1;return O.setTransform(Math.sign(z),0,0,Math.sign(K),ce,U),O.drawImage(c,h,t,d,_,0,0,be,ge),O.setTransform(z,H,$,K,ae,pe),[be,ge]}if(0===z&&0===K){const ce=Math.round(E*$+ae),U=Math.round(T*H+pe),be=Math.abs(Math.round((E+W)*$+ae)-ce)||1,ge=Math.abs(Math.round((T+k)*H+pe)-U)||1;return O.setTransform(0,Math.sign(H),Math.sign($),0,ce,U),O.drawImage(c,h,t,d,_,0,0,ge,be),O.setTransform(z,H,$,K,ae,pe),[ge,be]}return O.drawImage(c,h,t,d,_,T,E,k,W),[Math.hypot(z,H)*k,Math.hypot($,K)*W]}class a{constructor(c,h){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=v.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=v.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=v.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,c,h])}clone(){const c=Object.create(this);return c.clipBox=this.clipBox.slice(),c}setCurrentPoint(c,h){this.x=c,this.y=h}updatePathMinMax(c,h,t){[h,t]=v.Util.applyTransform([h,t],c),this.minX=Math.min(this.minX,h),this.minY=Math.min(this.minY,t),this.maxX=Math.max(this.maxX,h),this.maxY=Math.max(this.maxY,t)}updateRectMinMax(c,h){const t=v.Util.applyTransform(h,c),d=v.Util.applyTransform(h.slice(2),c);this.minX=Math.min(this.minX,t[0],d[0]),this.minY=Math.min(this.minY,t[1],d[1]),this.maxX=Math.max(this.maxX,t[0],d[0]),this.maxY=Math.max(this.maxY,t[1],d[1])}updateScalingPathMinMax(c,h){v.Util.scaleMinMax(c,h),this.minX=Math.min(this.minX,h[0]),this.maxX=Math.max(this.maxX,h[1]),this.minY=Math.min(this.minY,h[2]),this.maxY=Math.max(this.maxY,h[3])}updateCurvePathMinMax(c,h,t,d,_,T,E,k,W,z){const H=v.Util.bezierBoundingBox(h,t,d,_,T,E,k,W);if(z)return z[0]=Math.min(z[0],H[0],H[2]),z[1]=Math.max(z[1],H[0],H[2]),z[2]=Math.min(z[2],H[1],H[3]),void(z[3]=Math.max(z[3],H[1],H[3]));this.updateRectMinMax(c,H)}getPathBoundingBox(c=u.PathType.FILL,h=null){const t=[this.minX,this.minY,this.maxX,this.maxY];if(c===u.PathType.STROKE){h||(0,v.unreachable)("Stroke bounding box must include transform.");const d=v.Util.singularValueDecompose2dScale(h),_=d[0]*this.lineWidth/2,T=d[1]*this.lineWidth/2;t[0]-=_,t[1]-=T,t[2]+=_,t[3]+=T}return t}updateClipFromPath(){const c=v.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(c||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(c){this.clipBox=c,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(c=u.PathType.FILL,h=null){return v.Util.intersect(this.clipBox,this.getPathBoundingBox(c,h))}}function P(O,c,h=null){if(typeof ImageData<"u"&&c instanceof ImageData)return void O.putImageData(c,0,0);const t=c.height,d=c.width,_=t%s,T=(t-_)/s,E=0===_?T:T+1,k=O.createImageData(d,s);let z,W=0;const H=c.data,$=k.data;let K,ae,pe,Pe,ne,de,ce,x;if(h)switch(h.length){case 1:ne=h[0],de=h[0],ce=h[0],x=h[0];break;case 4:ne=h[0],de=h[1],ce=h[2],x=h[3]}if(c.kind===v.ImageKind.GRAYSCALE_1BPP){const U=H.byteLength,Q=new Uint32Array($.buffer,0,$.byteLength>>2),be=Q.length,_e=d+7>>3;let ge=4294967295,Se=v.FeatureTest.isLittleEndian?4278190080:255;for(x&&255===x[0]&&0===x[255]&&([ge,Se]=[Se,ge]),K=0;K<E;K++){for(pe=K<T?s:_,z=0,ae=0;ae<pe;ae++){const ve=U-W;let Me=0;const Fe=ve>_e?d:8*ve-7,De=-8&Fe;let se=0,N=0;for(;Me<De;Me+=8)N=H[W++],Q[z++]=128&N?ge:Se,Q[z++]=64&N?ge:Se,Q[z++]=32&N?ge:Se,Q[z++]=16&N?ge:Se,Q[z++]=8&N?ge:Se,Q[z++]=4&N?ge:Se,Q[z++]=2&N?ge:Se,Q[z++]=1&N?ge:Se;for(;Me<Fe;Me++)0===se&&(N=H[W++],se=128),Q[z++]=N&se?ge:Se,se>>=1}for(;z<be;)Q[z++]=0;O.putImageData(k,0,K*s)}}else if(c.kind===v.ImageKind.RGBA_32BPP){const U=!!(ne||de||ce);for(ae=0,Pe=d*s*4,K=0;K<T;K++){if($.set(H.subarray(W,W+Pe)),W+=Pe,U)for(let Q=0;Q<Pe;Q+=4)ne&&($[Q+0]=ne[$[Q+0]]),de&&($[Q+1]=de[$[Q+1]]),ce&&($[Q+2]=ce[$[Q+2]]);O.putImageData(k,0,ae),ae+=s}if(K<E){if(Pe=d*_*4,$.set(H.subarray(W,W+Pe)),U)for(let Q=0;Q<Pe;Q+=4)ne&&($[Q+0]=ne[$[Q+0]]),de&&($[Q+1]=de[$[Q+1]]),ce&&($[Q+2]=ce[$[Q+2]]);O.putImageData(k,0,ae)}}else{if(c.kind!==v.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${c.kind}`);{const U=!!(ne||de||ce);for(pe=s,Pe=d*pe,K=0;K<E;K++){for(K>=T&&(pe=_,Pe=d*pe),z=0,ae=Pe;ae--;)$[z++]=H[W++],$[z++]=H[W++],$[z++]=H[W++],$[z++]=255;if(U)for(let Q=0;Q<z;Q+=4)ne&&($[Q+0]=ne[$[Q+0]]),de&&($[Q+1]=de[$[Q+1]]),ce&&($[Q+2]=ce[$[Q+2]]);O.putImageData(k,0,K*s)}}}}function b(O,c){if(c.bitmap)return void O.drawImage(c.bitmap,0,0);const h=c.height,t=c.width,d=h%s,_=(h-d)/s,T=0===d?_:_+1,E=O.createImageData(t,s);let k=0;const W=c.data,z=E.data;for(let H=0;H<T;H++){const $=H<_?s:d;({srcPos:k}=(0,le.applyMaskImageData)({src:W,srcPos:k,dest:z,width:t,height:$})),O.putImageData(E,0,H*s)}}function w(O,c){const h=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let t=0,d=h.length;t<d;t++){const _=h[t];void 0!==O[_]&&(c[_]=O[_])}void 0!==O.setLineDash&&(c.setLineDash(O.getLineDash()),c.lineDashOffset=O.lineDashOffset)}function R(O,c){O.strokeStyle=O.fillStyle=c||"#000000",O.fillRule="nonzero",O.globalAlpha=1,O.lineWidth=1,O.lineCap="butt",O.lineJoin="miter",O.miterLimit=10,O.globalCompositeOperation="source-over",O.font="10px sans-serif",void 0!==O.setLineDash&&(O.setLineDash([]),O.lineDashOffset=0)}function D(O,c,h,t){const d=O.length;for(let _=3;_<d;_+=4){const T=O[_];if(0===T)O[_-3]=c,O[_-2]=h,O[_-1]=t;else if(T<255){const E=255-T;O[_-3]=O[_-3]*T+c*E>>8,O[_-2]=O[_-2]*T+h*E>>8,O[_-1]=O[_-1]*T+t*E>>8}}}function I(O,c,h){const t=O.length;for(let _=3;_<t;_+=4)c[_]=c[_]*(h?h[O[_]]:O[_])*.00392156862745098|0}function j(O,c,h){const t=O.length;for(let d=3;d<t;d+=4){const _=77*O[d-3]+152*O[d-2]+28*O[d-1];c[d]=h?c[d]*h[_>>8]>>8:c[d]*_>>16}}function ie(O,c){const h=v.Util.singularValueDecompose2dScale(O);h[0]=Math.fround(h[0]),h[1]=Math.fround(h[1]);const t=Math.fround((globalThis.devicePixelRatio||1)*ee.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==c?c:h[0]<=t||h[1]<=t}const G=["butt","round","square"],Z=["miter","round","bevel"],te={},oe={};class he{constructor(c,h,t,d,_,T,E,k){this.ctx=c,this.current=new a(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=h,this.objs=t,this.canvasFactory=d,this.imageLayer=_,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=T,this.cachedCanvases=new C(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=E,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=k?.background||null,this.foregroundColor=k?.foreground||null,c&&F(c),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(c,h=null){return"string"==typeof c?c.startsWith("g_")?this.commonObjs.get(c):this.objs.get(c):h}beginDrawing({transform:c,viewport:h,transparency:t=!1,background:d=null}){const _=this.ctx.canvas.width,T=this.ctx.canvas.height,E=d||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const k=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const W=this.backgroundColor=this.ctx.fillStyle;let z=!0,H=E;if(this.ctx.fillStyle=E,H=this.ctx.fillStyle,z="string"==typeof H&&/^#[0-9A-Fa-f]{6}$/.test(H),"#000000"===k&&"#ffffff"===W||k===W||!z)this.foregroundColor=this.backgroundColor=null;else{const $=parseInt(H.slice(1),16),ae=($&&65280)>>8,pe=$&&255,Pe=de=>(de/=255)<=.03928?de/12.92:((de+.055)/1.055)**2.4,ne=Math.round(.2126*Pe(($&&16711680)>>16)+.7152*Pe(ae)+.0722*Pe(pe));this.selectColor=(de,ce,x)=>{const U=.2126*Pe(de)+.7152*Pe(ce)+.0722*Pe(x);return Math.round(U)===ne?W:k}}}if(this.ctx.fillStyle=this.backgroundColor||E,this.ctx.fillRect(0,0,_,T),this.ctx.restore(),t){const k=this.cachedCanvases.getCanvas("transparent",_,T,!0);this.compositeCtx=this.ctx,this.transparentCanvas=k.canvas,this.ctx=k.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),R(this.ctx,this.foregroundColor),c&&(this.ctx.transform.apply(this.ctx,c),this.outputScaleX=c[0],this.outputScaleY=c[0]),this.ctx.transform.apply(this.ctx,h.transform),this.viewportScale=h.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(c,h,t,d){const _=c.argsArray,T=c.fnArray;let E=h||0;const k=_.length;if(k===E)return E;const W=k-E>10&&"function"==typeof t,z=W?Date.now()+15:0;let H=0;const $=this.commonObjs,K=this.objs;let ae;for(;;){if(void 0!==d&&E===d.nextBreakPoint)return d.breakIt(E,t),E;if(ae=T[E],ae!==v.OPS.dependency)this[ae].apply(this,_[E]);else for(const pe of _[E]){const Pe=pe.startsWith("g_")?$:K;if(!Pe.has(pe))return Pe.get(pe,t),E}if(E++,E===k)return E;if(W&&++H>10){if(Date.now()>z)return t(),E;H=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const c of this._cachedBitmapsMap.values()){for(const h of c.values())typeof HTMLCanvasElement<"u"&&h instanceof HTMLCanvasElement&&(h.width=h.height=0);c.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(c,h){const t=c.width,d=c.height;let z,H,_=Math.max(Math.hypot(h[0],h[1]),1),T=Math.max(Math.hypot(h[2],h[3]),1),E=t,k=d,W="prescale1";for(;_>2&&E>1||T>2&&k>1;){let $=E,K=k;_>2&&E>1&&($=Math.ceil(E/2),_/=E/$),T>2&&k>1&&(K=Math.ceil(k/2),T/=k/K),z=this.cachedCanvases.getCanvas(W,$,K,!1),H=z.context,H.clearRect(0,0,$,K),H.drawImage(c,0,0,E,k,0,0,$,K),c=z.canvas,E=$,k=K,W="prescale1"===W?"prescale2":"prescale1"}return{img:c,paintWidth:E,paintHeight:k}}_createMaskCanvas(c){const h=this.ctx,{width:t,height:d}=c,_=this.current.fillColor,T=this.current.patternFill,E=h.mozCurrentTransform;let k,W,z,H;if((c.bitmap||c.data)&&c.count>1){const be=c.bitmap||c.data.buffer,_e=E.slice(0,4);W=JSON.stringify(T?_e:[_e,_]),k=this._cachedBitmapsMap.get(be),k||(k=new Map,this._cachedBitmapsMap.set(be,k));const ge=k.get(W);if(ge&&!T)return{canvas:ge,offsetX:Math.round(Math.min(E[0],E[2])+E[4]),offsetY:Math.round(Math.min(E[1],E[3])+E[5])};z=ge}z||(H=this.cachedCanvases.getCanvas("maskCanvas",t,d,!1),b(H.context,c));let $=v.Util.transform(E,[1/t,0,0,-1/d,0,0]);$=v.Util.transform($,[1,0,0,1,0,-d]);const K=v.Util.applyTransform([0,0],$),ae=v.Util.applyTransform([t,d],$),pe=v.Util.normalizeRect([K[0],K[1],ae[0],ae[1]]),Pe=Math.round(pe[2]-pe[0])||1,ne=Math.round(pe[3]-pe[1])||1,de=this.cachedCanvases.getCanvas("fillCanvas",Pe,ne,!0),ce=de.context,x=Math.min(K[0],ae[0]),U=Math.min(K[1],ae[1]);ce.translate(-x,-U),ce.transform.apply(ce,$),z||(z=this._scaleImage(H.canvas,ce.mozCurrentTransformInverse),z=z.img,k&&T&&k.set(W,z)),ce.imageSmoothingEnabled=ie(ce.mozCurrentTransform,c.interpolate),y(ce,z,0,0,z.width,z.height,0,0,t,d),ce.globalCompositeOperation="source-in";const Q=v.Util.transform(ce.mozCurrentTransformInverse,[1,0,0,1,-x,-U]);return ce.fillStyle=T?_.getPattern(h,this,Q,u.PathType.FILL):_,ce.fillRect(0,0,t,d),k&&!T&&(this.cachedCanvases.delete("fillCanvas"),k.set(W,de.canvas)),{canvas:de.canvas,offsetX:Math.round(x),offsetY:Math.round(U)}}setLineWidth(c){c!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=c,this.ctx.lineWidth=c}setLineCap(c){this.ctx.lineCap=G[c]}setLineJoin(c){this.ctx.lineJoin=Z[c]}setMiterLimit(c){this.ctx.miterLimit=c}setDash(c,h){const t=this.ctx;void 0!==t.setLineDash&&(t.setLineDash(c),t.lineDashOffset=h)}setRenderingIntent(c){}setFlatness(c){}setGState(c){for(let h=0,t=c.length;h<t;h++){const d=c[h],T=d[1];switch(d[0]){case"LW":this.setLineWidth(T);break;case"LC":this.setLineCap(T);break;case"LJ":this.setLineJoin(T);break;case"ML":this.setMiterLimit(T);break;case"D":this.setDash(T[0],T[1]);break;case"RI":this.setRenderingIntent(T);break;case"FL":this.setFlatness(T);break;case"Font":this.setFont(T[0],T[1]);break;case"CA":this.current.strokeAlpha=d[1];break;case"ca":this.current.fillAlpha=d[1],this.ctx.globalAlpha=d[1];break;case"BM":this.ctx.globalCompositeOperation=T;break;case"SMask":this.current.activeSMask=T?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=T}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const c=this.inSMaskMode;this.current.activeSMask&&!c?this.beginSMaskMode():!this.current.activeSMask&&c&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const d=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=d.context;const _=this.ctx;_.setTransform.apply(_,this.suspendedCtx.mozCurrentTransform),w(this.suspendedCtx,_),function p(O,c){if(O._removeMirroring)throw new Error("Context is already forwarding operations.");O.__originalSave=O.save,O.__originalRestore=O.restore,O.__originalRotate=O.rotate,O.__originalScale=O.scale,O.__originalTranslate=O.translate,O.__originalTransform=O.transform,O.__originalSetTransform=O.setTransform,O.__originalResetTransform=O.resetTransform,O.__originalClip=O.clip,O.__originalMoveTo=O.moveTo,O.__originalLineTo=O.lineTo,O.__originalBezierCurveTo=O.bezierCurveTo,O.__originalRect=O.rect,O.__originalClosePath=O.closePath,O.__originalBeginPath=O.beginPath,O._removeMirroring=()=>{O.save=O.__originalSave,O.restore=O.__originalRestore,O.rotate=O.__originalRotate,O.scale=O.__originalScale,O.translate=O.__originalTranslate,O.transform=O.__originalTransform,O.setTransform=O.__originalSetTransform,O.resetTransform=O.__originalResetTransform,O.clip=O.__originalClip,O.moveTo=O.__originalMoveTo,O.lineTo=O.__originalLineTo,O.bezierCurveTo=O.__originalBezierCurveTo,O.rect=O.__originalRect,O.closePath=O.__originalClosePath,O.beginPath=O.__originalBeginPath,delete O._removeMirroring},O.save=function(){c.save(),this.__originalSave()},O.restore=function(){c.restore(),this.__originalRestore()},O.translate=function(t,d){c.translate(t,d),this.__originalTranslate(t,d)},O.scale=function(t,d){c.scale(t,d),this.__originalScale(t,d)},O.transform=function(t,d,_,T,E,k){c.transform(t,d,_,T,E,k),this.__originalTransform(t,d,_,T,E,k)},O.setTransform=function(t,d,_,T,E,k){c.setTransform(t,d,_,T,E,k),this.__originalSetTransform(t,d,_,T,E,k)},O.resetTransform=function(){c.resetTransform(),this.__originalResetTransform()},O.rotate=function(t){c.rotate(t),this.__originalRotate(t)},O.clip=function(t){c.clip(t),this.__originalClip(t)},O.moveTo=function(h,t){c.moveTo(h,t),this.__originalMoveTo(h,t)},O.lineTo=function(h,t){c.lineTo(h,t),this.__originalLineTo(h,t)},O.bezierCurveTo=function(h,t,d,_,T,E){c.bezierCurveTo(h,t,d,_,T,E),this.__originalBezierCurveTo(h,t,d,_,T,E)},O.rect=function(h,t,d,_){c.rect(h,t,d,_),this.__originalRect(h,t,d,_)},O.closePath=function(){c.closePath(),this.__originalClosePath()},O.beginPath=function(){c.beginPath(),this.__originalBeginPath()}}(_,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),w(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(c){this.current.activeSMask&&(c?(c[0]=Math.floor(c[0]),c[1]=Math.floor(c[1]),c[2]=Math.ceil(c[2]),c[3]=Math.ceil(c[3])):c=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function Y(O,c,h,t){const d=t[0],_=t[1],T=t[2]-d,E=t[3]-_;0===T||0===E||(function X(O,c,h,t,d,_,T,E,k,W,z){const H=!!_,$=H?_[0]:0,K=H?_[1]:0,ae=H?_[2]:0;let pe;pe="Luminosity"===d?j:I;const ne=Math.min(t,Math.ceil(1048576/h));for(let de=0;de<t;de+=ne){const ce=Math.min(ne,t-de),x=O.getImageData(E-W,de+(k-z),h,ce),U=c.getImageData(E,de+k,h,ce);H&&D(x.data,$,K,ae),pe(x.data,U.data,T),c.putImageData(U,E,de+k)}}(c.context,h,T,E,c.subtype,c.backdrop,c.transferMap,d,_,c.offsetX,c.offsetY),O.save(),O.globalAlpha=1,O.globalCompositeOperation="source-over",O.setTransform(1,0,0,1,0,0),O.drawImage(h.canvas,0,0),O.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,c),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(w(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const c=this.current;this.stateStack.push(c),this.current=c.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),w(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(c,h,t,d,_,T){this.ctx.transform(c,h,t,d,_,T),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(c,h,t){const d=this.ctx,_=this.current;let k,W,T=_.x,E=_.y;const z=d.mozCurrentTransform,H=0===z[0]&&0===z[3]||0===z[1]&&0===z[2],$=H?t.slice(0):null;for(let K=0,ae=0,pe=c.length;K<pe;K++)switch(0|c[K]){case v.OPS.rectangle:T=h[ae++],E=h[ae++];const Pe=h[ae++],ne=h[ae++],de=T+Pe,ce=E+ne;d.moveTo(T,E),0===Pe||0===ne?d.lineTo(de,ce):(d.lineTo(de,E),d.lineTo(de,ce),d.lineTo(T,ce)),H||_.updateRectMinMax(z,[T,E,de,ce]),d.closePath();break;case v.OPS.moveTo:T=h[ae++],E=h[ae++],d.moveTo(T,E),H||_.updatePathMinMax(z,T,E);break;case v.OPS.lineTo:T=h[ae++],E=h[ae++],d.lineTo(T,E),H||_.updatePathMinMax(z,T,E);break;case v.OPS.curveTo:k=T,W=E,T=h[ae+4],E=h[ae+5],d.bezierCurveTo(h[ae],h[ae+1],h[ae+2],h[ae+3],T,E),_.updateCurvePathMinMax(z,k,W,h[ae],h[ae+1],h[ae+2],h[ae+3],T,E,$),ae+=6;break;case v.OPS.curveTo2:k=T,W=E,d.bezierCurveTo(T,E,h[ae],h[ae+1],h[ae+2],h[ae+3]),_.updateCurvePathMinMax(z,k,W,T,E,h[ae],h[ae+1],h[ae+2],h[ae+3],$),T=h[ae+2],E=h[ae+3],ae+=4;break;case v.OPS.curveTo3:k=T,W=E,T=h[ae+2],E=h[ae+3],d.bezierCurveTo(h[ae],h[ae+1],T,E,T,E),_.updateCurvePathMinMax(z,k,W,h[ae],h[ae+1],T,E,T,E,$),ae+=4;break;case v.OPS.closePath:d.closePath()}H&&_.updateScalingPathMinMax(z,$),_.setCurrentPoint(T,E)}closePath(){this.ctx.closePath()}stroke(c){c=!(typeof c<"u")||c;const h=this.ctx,t=this.current.strokeColor;h.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof t&&t?.getPattern?(h.save(),h.strokeStyle=t.getPattern(h,this,h.mozCurrentTransformInverse,u.PathType.STROKE),this.rescaleAndStroke(!1),h.restore()):this.rescaleAndStroke(!0)),c&&this.consumePath(this.current.getClippedPathBoundingBox()),h.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(c){c=!(typeof c<"u")||c;const h=this.ctx,t=this.current.fillColor;let _=!1;this.current.patternFill&&(h.save(),h.fillStyle=t.getPattern(h,this,h.mozCurrentTransformInverse,u.PathType.FILL),_=!0);const T=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==T&&(this.pendingEOFill?(h.fill("evenodd"),this.pendingEOFill=!1):h.fill()),_&&h.restore(),c&&this.consumePath(T)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=te}eoClip(){this.pendingClip=oe}beginText(){this.current.textMatrix=v.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const c=this.pendingTextPaths,h=this.ctx;if(void 0!==c){h.save(),h.beginPath();for(let t=0;t<c.length;t++){const d=c[t];h.setTransform.apply(h,d.transform),h.translate(d.x,d.y),d.addToPath(h,d.fontSize)}h.restore(),h.clip(),h.beginPath(),delete this.pendingTextPaths}else h.beginPath()}setCharSpacing(c){this.current.charSpacing=c}setWordSpacing(c){this.current.wordSpacing=c}setHScale(c){this.current.textHScale=c/100}setLeading(c){this.current.leading=-c}setFont(c,h){const t=this.commonObjs.get(c),d=this.current;if(!t)throw new Error(`Can't find font for ${c}`);if(d.fontMatrix=t.fontMatrix||v.FONT_IDENTITY_MATRIX,(0===d.fontMatrix[0]||0===d.fontMatrix[3])&&(0,v.warn)("Invalid font matrix for font "+c),h<0?(h=-h,d.fontDirection=-1):d.fontDirection=1,this.current.font=t,this.current.fontSize=h,t.isType3Font)return;let T="normal";t.black?T="900":t.bold&&(T="bold");const E=t.italic?"italic":"normal",k=`"${t.loadedName||"sans-serif"}", ${t.fallbackName}`;let W=h;h<16?W=16:h>100&&(W=100),this.current.fontSizeScale=h/W,this.ctx.font=`${E} ${T} ${W}px ${k}`}setTextRenderingMode(c){this.current.textRenderingMode=c}setTextRise(c){this.current.textRise=c}moveText(c,h){this.current.x=this.current.lineX+=c,this.current.y=this.current.lineY+=h}setLeadingMoveText(c,h){this.setLeading(-h),this.moveText(c,h)}setTextMatrix(c,h,t,d,_,T){this.current.textMatrix=[c,h,t,d,_,T],this.current.textMatrixScale=Math.hypot(c,h),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(c,h,t,d){const _=this.ctx,T=this.current,E=T.font,k=T.textRenderingMode,W=T.fontSize/T.fontSizeScale,z=k&v.TextRenderingMode.FILL_STROKE_MASK,H=!!(k&v.TextRenderingMode.ADD_TO_PATH_FLAG),$=T.patternFill&&!E.missingFile;let K;(E.disableFontFace||H||$)&&(K=E.getPathGenerator(this.commonObjs,c)),E.disableFontFace||$?(_.save(),_.translate(h,t),_.beginPath(),K(_,W),d&&_.setTransform.apply(_,d),(z===v.TextRenderingMode.FILL||z===v.TextRenderingMode.FILL_STROKE)&&_.fill(),(z===v.TextRenderingMode.STROKE||z===v.TextRenderingMode.FILL_STROKE)&&_.stroke(),_.restore()):((z===v.TextRenderingMode.FILL||z===v.TextRenderingMode.FILL_STROKE)&&_.fillText(c,h,t),(z===v.TextRenderingMode.STROKE||z===v.TextRenderingMode.FILL_STROKE)&&_.strokeText(c,h,t)),H&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:_.mozCurrentTransform,x:h,y:t,fontSize:W,addToPath:K})}get isFontSubpixelAAEnabled(){const{context:c}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);c.scale(1.5,1),c.fillText("I",0,10);const h=c.getImageData(0,0,10,10).data;let t=!1;for(let d=3;d<h.length;d+=4)if(h[d]>0&&h[d]<255){t=!0;break}return(0,v.shadow)(this,"isFontSubpixelAAEnabled",t)}showText(c){const h=this.current,t=h.font;if(t.isType3Font)return this.showType3Text(c);const d=h.fontSize;if(0===d)return;const _=this.ctx,T=h.fontSizeScale,E=h.charSpacing,k=h.wordSpacing,W=h.fontDirection,z=h.textHScale*W,H=c.length,$=t.vertical,K=$?1:-1,ae=t.defaultVMetrics,pe=d*h.fontMatrix[0],Pe=h.textRenderingMode===v.TextRenderingMode.FILL&&!t.disableFontFace&&!h.patternFill;let ne;if(_.save(),_.transform.apply(_,h.textMatrix),_.translate(h.x,h.y+h.textRise),_.scale(z,W>0?-1:1),h.patternFill){_.save();const Q=h.fillColor.getPattern(_,this,_.mozCurrentTransformInverse,u.PathType.FILL);ne=_.mozCurrentTransform,_.restore(),_.fillStyle=Q}let de=h.lineWidth;const ce=h.textMatrixScale;if(0===ce||0===de){const Q=h.textRenderingMode&v.TextRenderingMode.FILL_STROKE_MASK;(Q===v.TextRenderingMode.STROKE||Q===v.TextRenderingMode.FILL_STROKE)&&(de=this.getSinglePixelWidth())}else de/=ce;1!==T&&(_.scale(T,T),de/=T),_.lineWidth=de;let U,x=0;for(U=0;U<H;++U){const Q=c[U];if("number"==typeof Q){x+=K*Q*d/1e3;continue}let be=!1;const _e=(Q.isSpace?k:0)+E,ge=Q.fontChar,Se=Q.accent;let ve,Me,De,Fe=Q.width;if($){const se=Q.vmetric||ae,N=-(Q.vmetric?se[1]:.5*Fe)*pe;Fe=se?-se[0]:Fe,ve=N/T,Me=(x+se[2]*pe)/T}else ve=x/T,Me=0;if(t.remeasure&&Fe>0){const se=1e3*_.measureText(ge).width/d*T;if(Fe<se&&this.isFontSubpixelAAEnabled){const N=Fe/se;be=!0,_.save(),_.scale(N,1),ve/=N}else Fe!==se&&(ve+=(Fe-se)/2e3*d/T)}this.contentVisible&&(Q.isInFont||t.missingFile)&&(Pe&&!Se?_.fillText(ge,ve,Me):(this.paintChar(ge,ve,Me,ne),Se&&this.paintChar(Se.fontChar,ve+d*Se.offset.x/T,Me-d*Se.offset.y/T,ne))),De=$?Fe*pe-_e*W:Fe*pe+_e*W,x+=De,be&&_.restore()}$?h.y-=x:h.x+=x*z,_.restore(),this.compose()}showType3Text(c){const h=this.ctx,t=this.current,d=t.font,_=t.fontSize,T=t.fontDirection,E=d.vertical?1:-1,k=t.charSpacing,W=t.wordSpacing,z=t.textHScale*T,H=t.fontMatrix||v.FONT_IDENTITY_MATRIX,$=c.length;let ae,pe,Pe,ne;if(t.textRenderingMode!==v.TextRenderingMode.INVISIBLE&&0!==_){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,h.save(),h.transform.apply(h,t.textMatrix),h.translate(t.x,t.y),h.scale(z,T),ae=0;ae<$;++ae){if(pe=c[ae],"number"==typeof pe){ne=E*pe*_/1e3,this.ctx.translate(ne,0),t.x+=ne*z;continue}const de=(pe.isSpace?W:0)+k,ce=d.charProcOperatorList[pe.operatorListId];ce?(this.contentVisible&&(this.processingType3=pe,this.save(),h.scale(_,_),h.transform.apply(h,H),this.executeOperatorList(ce),this.restore()),Pe=v.Util.applyTransform([pe.width,0],H)[0]*_+de,h.translate(Pe,0),t.x+=Pe*z):(0,v.warn)(`Type3 character "${pe.operatorListId}" is not available.`)}h.restore(),this.processingType3=null}}setCharWidth(c,h){}setCharWidthAndBounds(c,h,t,d,_,T){this.ctx.rect(t,d,_-t,T-d),this.ctx.clip(),this.endPath()}getColorN_Pattern(c){let h;if("TilingPattern"===c[0]){const t=c[1],d=this.baseTransform||this.ctx.mozCurrentTransform.slice();h=new u.TilingPattern(c,t,this.ctx,{createCanvasGraphics:T=>new he(T,this.commonObjs,this.objs,this.canvasFactory)},d)}else h=this._getPattern(c[1],c[2]);return h}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(c,h,t){const d=this.selectColor?.(c,h,t)||v.Util.makeHexColor(c,h,t);this.ctx.strokeStyle=d,this.current.strokeColor=d}setFillRGBColor(c,h,t){const d=this.selectColor?.(c,h,t)||v.Util.makeHexColor(c,h,t);this.ctx.fillStyle=d,this.current.fillColor=d,this.current.patternFill=!1}_getPattern(c,h=null){let t;return this.cachedPatterns.has(c)?t=this.cachedPatterns.get(c):(t=(0,u.getShadingPattern)(this.objs.get(c)),this.cachedPatterns.set(c,t)),h&&(t.matrix=h),t}shadingFill(c){if(!this.contentVisible)return;const h=this.ctx;this.save();const t=this._getPattern(c);h.fillStyle=t.getPattern(h,this,h.mozCurrentTransformInverse,u.PathType.SHADING);const d=h.mozCurrentTransformInverse;if(d){const _=h.canvas,T=_.width,E=_.height,k=v.Util.applyTransform([0,0],d),W=v.Util.applyTransform([0,E],d),z=v.Util.applyTransform([T,0],d),H=v.Util.applyTransform([T,E],d),$=Math.min(k[0],W[0],z[0],H[0]),K=Math.min(k[1],W[1],z[1],H[1]),ae=Math.max(k[0],W[0],z[0],H[0]),pe=Math.max(k[1],W[1],z[1],H[1]);this.ctx.fillRect($,K,ae-$,pe-K)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,v.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,v.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(c,h){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(c)&&6===c.length&&this.transform.apply(this,c),this.baseTransform=this.ctx.mozCurrentTransform,h)&&(this.ctx.rect(h[0],h[1],h[2]-h[0],h[3]-h[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,h),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(c){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const h=this.ctx;c.isolated||(0,v.info)("TODO: Support non-isolated groups."),c.knockout&&(0,v.warn)("Knockout groups not supported.");const t=h.mozCurrentTransform;if(c.matrix&&h.transform.apply(h,c.matrix),!c.bbox)throw new Error("Bounding box is required.");let d=v.Util.getAxialAlignedBoundingBox(c.bbox,h.mozCurrentTransform);d=v.Util.intersect(d,[0,0,h.canvas.width,h.canvas.height])||[0,0,0,0];const T=Math.floor(d[0]),E=Math.floor(d[1]);let k=Math.max(Math.ceil(d[2])-T,1),W=Math.max(Math.ceil(d[3])-E,1),z=1,H=1;k>M&&(z=k/M,k=M),W>M&&(H=W/M,W=M),this.current.startNewPathAndClipBox([0,0,k,W]);let $="groupAt"+this.groupLevel;c.smask&&($+="_smask_"+this.smaskCounter++%2);const K=this.cachedCanvases.getCanvas($,k,W,!0),ae=K.context;ae.scale(1/z,1/H),ae.translate(-T,-E),ae.transform.apply(ae,t),c.smask?this.smaskStack.push({canvas:K.canvas,context:ae,offsetX:T,offsetY:E,scaleX:z,scaleY:H,subtype:c.smask.subtype,backdrop:c.smask.backdrop,transferMap:c.smask.transferMap||null,startTransformInverse:null}):(h.setTransform(1,0,0,1,0,0),h.translate(T,E),h.scale(z,H),h.save()),w(h,ae),this.ctx=ae,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(h),this.groupLevel++}endGroup(c){if(!this.contentVisible)return;this.groupLevel--;const h=this.ctx,t=this.groupStack.pop();if(this.ctx=t,this.ctx.imageSmoothingEnabled=!1,c.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const d=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,d);const _=v.Util.getAxialAlignedBoundingBox([0,0,h.canvas.width,h.canvas.height],d);this.ctx.drawImage(h.canvas,0,0),this.ctx.restore(),this.compose(_)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(c,h,t,d,_){if(this.save(),Array.isArray(h)&&4===h.length){const T=h[2]-h[0],E=h[3]-h[1];if(_&&this.annotationCanvasMap){(t=t.slice())[4]-=h[0],t[5]-=h[1],(h=h.slice())[0]=h[1]=0,h[2]=T,h[3]=E;const[k,W]=v.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:z}=this,H=Math.ceil(T*this.outputScaleX*z),$=Math.ceil(E*this.outputScaleY*z);this.annotationCanvas=this.canvasFactory.create(H,$);const{canvas:K,context:ae}=this.annotationCanvas,pe=`var(--zoom-factor) * ${ee.PixelsPerInch.PDF_TO_CSS_UNITS}`;K.style.width=`calc(${T}px * ${pe})`,K.style.height=`calc(${E}px * ${pe})`,this.annotationCanvasMap.set(c,K),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ae,this.ctx.setTransform(k,0,0,-W,0,E*W),F(this.ctx),R(this.ctx,this.foregroundColor)}else R(this.ctx,this.foregroundColor),this.ctx.rect(h[0],h[1],T,E),this.ctx.clip(),this.endPath()}this.current=new a(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,t),this.transform.apply(this,d)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(c){if(!this.contentVisible)return;const h=c.count;(c=this.getObject(c.data,c)).count=h;const t=this.ctx,d=this.processingType3;if(d&&(void 0===d.compiled&&(d.compiled=function r(O){const{width:c,height:h}=O;if(c>1e3||h>1e3)return null;const d=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),_=c+1;let E,k,W,T=new Uint8Array(_*(h+1));const z=c+7&-8;let H=new Uint8Array(z*h),$=0;for(const ce of O.data){let x=128;for(;x>0;)H[$++]=ce&x?0:255,x>>=1}let K=0;for($=0,0!==H[$]&&(T[0]=1,++K),k=1;k<c;k++)H[$]!==H[$+1]&&(T[k]=H[$]?2:1,++K),$++;for(0!==H[$]&&(T[k]=2,++K),E=1;E<h;E++){$=E*z,W=E*_,H[$-z]!==H[$]&&(T[W]=H[$]?1:8,++K);let ce=(H[$]?4:0)+(H[$-z]?8:0);for(k=1;k<c;k++)ce=(ce>>2)+(H[$+1]?4:0)+(H[$-z+1]?8:0),d[ce]&&(T[W+k]=d[ce],++K),$++;if(H[$-z]!==H[$]&&(T[W+k]=H[$]?2:4,++K),K>1e3)return null}for($=z*(h-1),W=E*_,0!==H[$]&&(T[W]=8,++K),k=1;k<c;k++)H[$]!==H[$+1]&&(T[W+k]=H[$]?4:8,++K),$++;if(0!==H[$]&&(T[W+k]=4,++K),K>1e3)return null;const ae=new Int32Array([0,_,-1,0,-_,0,0,0,1]);let pe,Pe,ne;for(J.isNodeJS?Pe=[]:pe=new Path2D,E=0;K&&E<=h;E++){let ce=E*_;const x=ce+c;for(;ce<x&&!T[ce];)ce++;if(ce===x)continue;pe?pe.moveTo(ce%_,E):ne=[ce%_,E];const U=ce;let Q=T[ce];do{const be=ae[Q];do{ce+=be}while(!T[ce]);const _e=T[ce];5!==_e&&10!==_e?(Q=_e,T[ce]=0):(Q=_e&51*Q>>4,T[ce]&=Q>>2|Q<<2),pe?pe.lineTo(ce%_,ce/_|0):ne.push(ce%_,ce/_|0),T[ce]||--K}while(U!==ce);pe||Pe.push(ne),--E}return H=null,T=null,function(ce){if(ce.save(),ce.scale(1/c,-1/h),ce.translate(0,-h),pe)ce.fill(pe);else{ce.beginPath();for(const x of Pe){ce.moveTo(x[0],x[1]);for(let U=2,Q=x.length;U<Q;U+=2)ce.lineTo(x[U],x[U+1])}ce.fill()}ce.beginPath(),ce.restore()}}(c)),d.compiled))return void d.compiled(t);const _=this._createMaskCanvas(c),T=_.canvas;t.save(),t.setTransform(1,0,0,1,0,0),t.drawImage(T,_.offsetX,_.offsetY),t.restore(),this.compose()}paintImageMaskXObjectRepeat(c,h,t=0,d=0,_,T){if(!this.contentVisible)return;c=this.getObject(c.data,c);const E=this.ctx;E.save();const k=E.mozCurrentTransform;E.transform(h,t,d,_,0,0);const W=this._createMaskCanvas(c);E.setTransform(1,0,0,1,0,0);for(let z=0,H=T.length;z<H;z+=2){const $=v.Util.transform(k,[h,t,d,_,T[z],T[z+1]]),[K,ae]=v.Util.applyTransform([0,0],$);E.drawImage(W.canvas,K,ae)}E.restore(),this.compose()}paintImageMaskXObjectGroup(c){if(!this.contentVisible)return;const h=this.ctx,t=this.current.fillColor,d=this.current.patternFill;for(let _=0,T=c.length;_<T;_++){const E=c[_],k=E.width,W=E.height,z=this.cachedCanvases.getCanvas("maskCanvas",k,W,!1),H=z.context;H.save(),b(H,E),H.globalCompositeOperation="source-in",H.fillStyle=d?t.getPattern(H,this,h.mozCurrentTransformInverse,u.PathType.FILL):t,H.fillRect(0,0,k,W),H.restore(),h.save(),h.transform.apply(h,E.transform),h.scale(1,-1),y(h,z.canvas,0,0,k,W,0,-1,1,1),h.restore()}this.compose()}paintImageXObject(c){if(!this.contentVisible)return;const h=this.getObject(c);h?this.paintInlineImageXObject(h):(0,v.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(c,h,t,d){if(!this.contentVisible)return;const _=this.getObject(c);if(!_)return void(0,v.warn)("Dependent image isn't ready yet");const T=_.width,E=_.height,k=[];for(let W=0,z=d.length;W<z;W+=2)k.push({transform:[h,0,0,t,d[W],d[W+1]],x:0,y:0,w:T,h:E});this.paintInlineImageXObjectGroup(_,k)}paintInlineImageXObject(c){if(!this.contentVisible)return;const h=c.width,t=c.height,d=this.ctx;let _;if(this.save(),d.scale(1/h,-1/t),"function"==typeof HTMLElement&&c instanceof HTMLElement||!c.data)_=c;else{const W=this.cachedCanvases.getCanvas("inlineImage",h,t,!1);P(W.context,c,this.current.transferMaps),_=W.canvas}const T=this._scaleImage(_,d.mozCurrentTransformInverse);d.imageSmoothingEnabled=ie(d.mozCurrentTransform,c.interpolate);const[E,k]=y(d,T.img,0,0,T.paintWidth,T.paintHeight,0,-t,h,t);if(this.imageLayer){const W=this.getCanvasPosition(0,-t);this.imageLayer.appendImage({imgData:c,left:W[0],top:W[1],width:E,height:k})}this.compose(),this.restore()}paintInlineImageXObjectGroup(c,h){if(!this.contentVisible)return;const t=this.ctx,d=c.width,_=c.height,T=this.cachedCanvases.getCanvas("inlineImage",d,_,!1);P(T.context,c,this.current.transferMaps);for(let k=0,W=h.length;k<W;k++){const z=h[k];if(t.save(),t.transform.apply(t,z.transform),t.scale(1,-1),y(t,T.canvas,z.x,z.y,z.w,z.h,0,-1,1,1),this.imageLayer){const H=this.getCanvasPosition(z.x,z.y);this.imageLayer.appendImage({imgData:c,left:H[0],top:H[1],width:d,height:_})}t.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(c){}markPointProps(c,h){}beginMarkedContent(c){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(c,h){this.markedContentStack.push("OC"===c?{visible:this.optionalContentConfig.isVisible(h)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(c){const h=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(c);const t=this.ctx;this.pendingClip&&(h||(this.pendingClip===oe?t.clip("evenodd"):t.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),t.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const c=this.ctx.mozCurrentTransform;if(0===c[1]&&0===c[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(c[0]),Math.abs(c[3]));else{const h=Math.abs(c[0]*c[3]-c[2]*c[1]),t=Math.hypot(c[0],c[2]),d=Math.hypot(c[1],c[3]);this._cachedGetSinglePixelWidth=Math.max(t,d)/h}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:c}=this.current,h=this.ctx.mozCurrentTransform;let t,d;if(0===h[1]&&0===h[2]){const _=Math.abs(h[0]),T=Math.abs(h[3]);if(0===c)t=1/_,d=1/T;else{const E=_*c,k=T*c;t=E<1?1/E:1,d=k<1?1/k:1}}else{const _=Math.abs(h[0]*h[3]-h[2]*h[1]),T=Math.hypot(h[0],h[1]),E=Math.hypot(h[2],h[3]);if(0===c)t=E/_,d=T/_;else{const k=c*_;t=E>k?E/k:1,d=T>k?T/k:1}}this._cachedScaleForStroking=[t,d]}return this._cachedScaleForStroking}rescaleAndStroke(c){const{ctx:h}=this,{lineWidth:t}=this.current,[d,_]=this.getScaleForStroking();if(h.lineWidth=t||1,1===d&&1===_)return void h.stroke();let T,E,k;c&&(T=h.mozCurrentTransform.slice(),E=h.getLineDash().slice(),k=h.lineDashOffset),h.scale(d,_);const W=Math.max(d,_);h.setLineDash(h.getLineDash().map(z=>z/W)),h.lineDashOffset/=W,h.stroke(),c&&(h.setTransform(...T),h.setLineDash(E),h.lineDashOffset=k)}getCanvasPosition(c,h){const t=this.ctx.mozCurrentTransform;return[t[0]*c+t[2]*h+t[4],t[1]*c+t[3]*h+t[5]]}isContentVisible(){for(let c=this.markedContentStack.length-1;c>=0;c--)if(!this.markedContentStack[c].visible)return!1;return!0}}L.CanvasGraphics=he;for(const O in v.OPS)void 0!==he.prototype[O]&&(he.prototype[v.OPS[O]]=he.prototype[O])},(me,L,re)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.TilingPattern=L.PathType=void 0,L.getShadingPattern=function l(o){switch(o[0]){case"RadialAxial":return new B(o);case"Mesh":return new S(o);case"Dummy":return new A}throw new Error(`Unknown IR type: ${o[0]}`)};var v=re(1),u=re(3);const le={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function J(o,p){if(!p||u.isNodeJS)return;const F=p[2]-p[0],C=p[3]-p[1],y=new Path2D;y.rect(p[0],p[1],F,C),o.clip(y)}L.PathType=le;class ee{constructor(){this.constructor===ee&&(0,v.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,v.unreachable)("Abstract method `getPattern` called.")}}class B extends ee{constructor(p){super(),this._type=p[1],this._bbox=p[2],this._colorStops=p[3],this._p0=p[4],this._p1=p[5],this._r0=p[6],this._r1=p[7],this.matrix=null}_createGradient(p){let F;"axial"===this._type?F=p.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(F=p.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const C of this._colorStops)F.addColorStop(C[0],C[1]);return F}getPattern(p,F,C,y){let r;if(y===le.STROKE||y===le.FILL){const a=F.current.getClippedPathBoundingBox(y,p.mozCurrentTransform)||[0,0,0,0],P=Math.ceil(a[2]-a[0])||1,b=Math.ceil(a[3]-a[1])||1,w=F.cachedCanvases.getCanvas("pattern",P,b,!0),R=w.context;R.clearRect(0,0,R.canvas.width,R.canvas.height),R.beginPath(),R.rect(0,0,R.canvas.width,R.canvas.height),R.translate(-a[0],-a[1]),C=v.Util.transform(C,[1,0,0,1,a[0],a[1]]),R.transform.apply(R,F.baseTransform),this.matrix&&R.transform.apply(R,this.matrix),J(R,this._bbox),R.fillStyle=this._createGradient(R),R.fill(),r=p.createPattern(w.canvas,"no-repeat");const D=new DOMMatrix(C);try{r.setTransform(D)}catch(I){(0,v.warn)(`RadialAxialShadingPattern.getPattern: "${I?.message}".`)}}else J(p,this._bbox),r=this._createGradient(p);return r}}function f(o,p,F,C,y,r,a,P){const b=p.coords,w=p.colors,R=o.data,D=4*o.width;let I;b[F+1]>b[C+1]&&(I=F,F=C,C=I,I=r,r=a,a=I),b[C+1]>b[y+1]&&(I=C,C=y,y=I,I=a,a=P,P=I),b[F+1]>b[C+1]&&(I=F,F=C,C=I,I=r,r=a,a=I);const j=(b[F]+p.offsetX)*p.scaleX,X=(b[F+1]+p.offsetY)*p.scaleY,Y=(b[C]+p.offsetX)*p.scaleX,ie=(b[C+1]+p.offsetY)*p.scaleY,G=(b[y]+p.offsetX)*p.scaleX,Z=(b[y+1]+p.offsetY)*p.scaleY;if(X>=Z)return;const te=w[r],oe=w[r+1],he=w[r+2],O=w[a],c=w[a+1],h=w[a+2],t=w[P],d=w[P+1],_=w[P+2],T=Math.round(X),E=Math.round(Z);let k,W,z,H,$,K,ae,pe;for(let Pe=T;Pe<=E;Pe++){if(Pe<ie){let U;U=Pe<X?0:(X-Pe)/(X-ie),k=j-(j-Y)*U,W=te-(te-O)*U,z=oe-(oe-c)*U,H=he-(he-h)*U}else{let U;U=Pe>Z?1:ie===Z?0:(ie-Pe)/(ie-Z),k=Y-(Y-G)*U,W=O-(O-t)*U,z=c-(c-d)*U,H=h-(h-_)*U}let ne;ne=Pe<X?0:Pe>Z?1:(X-Pe)/(X-Z),$=j-(j-G)*ne,K=te-(te-t)*ne,ae=oe-(oe-d)*ne,pe=he-(he-_)*ne;const de=Math.round(Math.min(k,$)),ce=Math.round(Math.max(k,$));let x=D*Pe+4*de;for(let U=de;U<=ce;U++)ne=(k-U)/(k-$),ne<0?ne=0:ne>1&&(ne=1),R[x++]=W-(W-K)*ne|0,R[x++]=z-(z-ae)*ne|0,R[x++]=H-(H-pe)*ne|0,R[x++]=255}}function M(o,p,F){const C=p.coords,y=p.colors;let r,a;switch(p.type){case"lattice":const P=p.verticesPerRow,b=Math.floor(C.length/P)-1,w=P-1;for(r=0;r<b;r++){let R=r*P;for(let D=0;D<w;D++,R++)f(o,F,C[R],C[R+1],C[R+P],y[R],y[R+1],y[R+P]),f(o,F,C[R+P+1],C[R+1],C[R+P],y[R+P+1],y[R+1],y[R+P])}break;case"triangles":for(r=0,a=C.length;r<a;r+=3)f(o,F,C[r],C[r+1],C[r+2],y[r],y[r+1],y[r+2]);break;default:throw new Error("illegal figure")}}class S extends ee{constructor(p){super(),this._coords=p[2],this._colors=p[3],this._figures=p[4],this._bounds=p[5],this._bbox=p[7],this._background=p[8],this.matrix=null}_createMeshCanvas(p,F,C){const P=Math.floor(this._bounds[0]),b=Math.floor(this._bounds[1]),w=Math.ceil(this._bounds[2])-P,R=Math.ceil(this._bounds[3])-b,D=Math.min(Math.ceil(Math.abs(w*p[0]*1.1)),3e3),I=Math.min(Math.ceil(Math.abs(R*p[1]*1.1)),3e3),j=w/D,X=R/I,Y={coords:this._coords,colors:this._colors,offsetX:-P,offsetY:-b,scaleX:1/j,scaleY:1/X},Z=C.getCanvas("mesh",D+4,I+4,!1),te=Z.context,oe=te.createImageData(D,I);if(F){const O=oe.data;for(let c=0,h=O.length;c<h;c+=4)O[c]=F[0],O[c+1]=F[1],O[c+2]=F[2],O[c+3]=255}for(const O of this._figures)M(oe,O,Y);return te.putImageData(oe,2,2),{canvas:Z.canvas,offsetX:P-2*j,offsetY:b-2*X,scaleX:j,scaleY:X}}getPattern(p,F,C,y){let r;if(J(p,this._bbox),y===le.SHADING)r=v.Util.singularValueDecompose2dScale(p.mozCurrentTransform);else if(r=v.Util.singularValueDecompose2dScale(F.baseTransform),this.matrix){const P=v.Util.singularValueDecompose2dScale(this.matrix);r=[r[0]*P[0],r[1]*P[1]]}const a=this._createMeshCanvas(r,y===le.SHADING?null:this._background,F.cachedCanvases);return y!==le.SHADING&&(p.setTransform.apply(p,F.baseTransform),this.matrix&&p.transform.apply(p,this.matrix)),p.translate(a.offsetX,a.offsetY),p.scale(a.scaleX,a.scaleY),p.createPattern(a.canvas,"no-repeat")}}class A extends ee{getPattern(){return"hotpink"}}class s{static get MAX_PATTERN_SIZE(){return(0,v.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(p,F,C,y,r){this.operatorList=p[2],this.matrix=p[3]||[1,0,0,1,0,0],this.bbox=p[4],this.xstep=p[5],this.ystep=p[6],this.paintType=p[7],this.tilingType=p[8],this.color=F,this.ctx=C,this.canvasGraphicsFactory=y,this.baseTransform=r}createPatternCanvas(p){const F=this.operatorList,C=this.bbox,y=this.xstep,r=this.ystep,a=this.paintType,b=this.color,w=this.canvasGraphicsFactory;(0,v.info)("TilingType: "+this.tilingType);const R=C[0],D=C[1],I=C[2],j=C[3],X=v.Util.singularValueDecompose2dScale(this.matrix),Y=v.Util.singularValueDecompose2dScale(this.baseTransform),ie=[X[0]*Y[0],X[1]*Y[1]],G=this.getSizeAndScale(y,this.ctx.canvas.width,ie[0]),Z=this.getSizeAndScale(r,this.ctx.canvas.height,ie[1]),te=p.cachedCanvases.getCanvas("pattern",G.size,Z.size,!0),oe=te.context,he=w.createCanvasGraphics(oe);he.groupLevel=p.groupLevel,this.setFillAndStrokeStyleToContext(he,a,b);let O=R,c=D,h=I,t=j;return R<0&&(O=0,h+=Math.abs(R)),D<0&&(c=0,t+=Math.abs(D)),oe.translate(-G.scale*O,-Z.scale*c),he.transform(G.scale,0,0,Z.scale,0,0),oe.save(),this.clipBbox(he,O,c,h,t),he.baseTransform=he.ctx.mozCurrentTransform.slice(),he.executeOperatorList(F),he.endDrawing(),{canvas:te.canvas,scaleX:G.scale,scaleY:Z.scale,offsetX:O,offsetY:c}}getSizeAndScale(p,F,C){p=Math.abs(p);const y=Math.max(s.MAX_PATTERN_SIZE,F);let r=Math.ceil(p*C);return r>=y?r=y:C=r/p,{scale:C,size:r}}clipBbox(p,F,C,y,r){p.ctx.rect(F,C,y-F,r-C),p.current.updateRectMinMax(p.ctx.mozCurrentTransform,[F,C,y,r]),p.clip(),p.endPath()}setFillAndStrokeStyleToContext(p,F,C){const y=p.ctx,r=p.current;switch(F){case 1:const a=this.ctx;y.fillStyle=a.fillStyle,y.strokeStyle=a.strokeStyle,r.fillColor=a.fillStyle,r.strokeColor=a.strokeStyle;break;case 2:const P=v.Util.makeHexColor(C[0],C[1],C[2]);y.fillStyle=P,y.strokeStyle=P,r.fillColor=P,r.strokeColor=P;break;default:throw new v.FormatError(`Unsupported paint type: ${F}`)}}getPattern(p,F,C,y){let r=C;y!==le.SHADING&&(r=v.Util.transform(r,F.baseTransform),this.matrix&&(r=v.Util.transform(r,this.matrix)));const a=this.createPatternCanvas(F);let P=new DOMMatrix(r);P=P.translate(a.offsetX,a.offsetY),P=P.scale(1/a.scaleX,1/a.scaleY);const b=p.createPattern(a.canvas,"repeat");try{b.setTransform(P)}catch(w){(0,v.warn)(`TilingPattern.getPattern: "${w?.message}".`)}return b}}L.TilingPattern=s},(me,L,re)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.applyMaskImageData=function u({src:le,srcPos:J=0,dest:ee,destPos:B=0,width:f,height:M,inverseDecode:S=!1}){const A=v.FeatureTest.isLittleEndian?4278190080:255,[l,m]=S?[0,A]:[A,0],s=f>>3,o=7&f,p=le.length;ee=new Uint32Array(ee.buffer);for(let F=0;F<M;F++){for(const y=J+s;J<y;J++){const r=J<p?le[J]:255;ee[B++]=128&r?m:l,ee[B++]=64&r?m:l,ee[B++]=32&r?m:l,ee[B++]=16&r?m:l,ee[B++]=8&r?m:l,ee[B++]=4&r?m:l,ee[B++]=2&r?m:l,ee[B++]=1&r?m:l}if(0===o)continue;const C=J<p?le[J++]:255;for(let y=0;y<o;y++)ee[B++]=C&1<<7-y?m:l}return{srcPos:J,destPos:B}};var v=re(1)},(me,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.GlobalWorkerOptions=void 0;const re=Object.create(null);L.GlobalWorkerOptions=re,re.workerPort=void 0===re.workerPort?null:re.workerPort,re.workerSrc=void 0===re.workerSrc?"":re.workerSrc},(me,L,re)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.MessageHandler=void 0;var v=re(1);function J(B){switch(B instanceof Error||"object"==typeof B&&null!==B||(0,v.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),B.name){case"AbortException":return new v.AbortException(B.message);case"MissingPDFException":return new v.MissingPDFException(B.message);case"PasswordException":return new v.PasswordException(B.message,B.code);case"UnexpectedResponseException":return new v.UnexpectedResponseException(B.message,B.status);case"UnknownErrorException":return new v.UnknownErrorException(B.message,B.details);default:return new v.UnknownErrorException(B.message,B.toString())}}L.MessageHandler=class ee{constructor(f,M,S){this.sourceName=f,this.targetName=M,this.comObj=S,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=A=>{const l=A.data;if(l.targetName!==this.sourceName)return;if(l.stream)return void this._processStreamMessage(l);if(l.callback){const s=l.callbackId,o=this.callbackCapabilities[s];if(!o)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],1===l.callback)o.resolve(l.data);else{if(2!==l.callback)throw new Error("Unexpected callback case");o.reject(J(l.reason))}return}const m=this.actionHandler[l.action];if(!m)throw new Error(`Unknown action from worker: ${l.action}`);if(l.callbackId){const s=this.sourceName,o=l.sourceName;new Promise(function(p){p(m(l.data))}).then(function(p){S.postMessage({sourceName:s,targetName:o,callback:1,callbackId:l.callbackId,data:p})},function(p){S.postMessage({sourceName:s,targetName:o,callback:2,callbackId:l.callbackId,reason:J(p)})})}else l.streamId?this._createStreamSink(l):m(l.data)},S.addEventListener("message",this._onComObjOnMessage)}on(f,M){const S=this.actionHandler;if(S[f])throw new Error(`There is already an actionName called "${f}"`);S[f]=M}send(f,M,S){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,data:M},S)}sendWithPromise(f,M,S){const A=this.callbackId++,l=(0,v.createPromiseCapability)();this.callbackCapabilities[A]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,callbackId:A,data:M},S)}catch(m){l.reject(m)}return l.promise}sendWithStream(f,M,S,A){const l=this.streamId++,m=this.sourceName,s=this.targetName,o=this.comObj;return new ReadableStream({start:p=>{const F=(0,v.createPromiseCapability)();return this.streamControllers[l]={controller:p,startCall:F,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:m,targetName:s,action:f,streamId:l,data:M,desiredSize:p.desiredSize},A),F.promise},pull:p=>{const F=(0,v.createPromiseCapability)();return this.streamControllers[l].pullCall=F,o.postMessage({sourceName:m,targetName:s,stream:6,streamId:l,desiredSize:p.desiredSize}),F.promise},cancel:p=>{(0,v.assert)(p instanceof Error,"cancel must have a valid reason");const F=(0,v.createPromiseCapability)();return this.streamControllers[l].cancelCall=F,this.streamControllers[l].isClosed=!0,o.postMessage({sourceName:m,targetName:s,stream:1,streamId:l,reason:J(p)}),F.promise}},S)}_createStreamSink(f){const M=f.streamId,S=this.sourceName,A=f.sourceName,l=this.comObj,m=this,s=this.actionHandler[f.action],o={enqueue(p,F=1,C){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=F,y>0&&this.desiredSize<=0&&(this.sinkCapability=(0,v.createPromiseCapability)(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:S,targetName:A,stream:4,streamId:M,chunk:p},C)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:S,targetName:A,stream:3,streamId:M}),delete m.streamSinks[M])},error(p){(0,v.assert)(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:S,targetName:A,stream:5,streamId:M,reason:J(p)}))},sinkCapability:(0,v.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:f.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[M]=o,new Promise(function(p){p(s(f.data,o))}).then(function(){l.postMessage({sourceName:S,targetName:A,stream:8,streamId:M,success:!0})},function(p){l.postMessage({sourceName:S,targetName:A,stream:8,streamId:M,reason:J(p)})})}_processStreamMessage(f){const M=f.streamId,S=this.sourceName,A=f.sourceName,l=this.comObj,m=this.streamControllers[M],s=this.streamSinks[M];switch(f.stream){case 8:f.success?m.startCall.resolve():m.startCall.reject(J(f.reason));break;case 7:f.success?m.pullCall.resolve():m.pullCall.reject(J(f.reason));break;case 6:if(!s){l.postMessage({sourceName:S,targetName:A,stream:7,streamId:M,success:!0});break}s.desiredSize<=0&&f.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=f.desiredSize,new Promise(function(o){o(s.onPull&&s.onPull())}).then(function(){l.postMessage({sourceName:S,targetName:A,stream:7,streamId:M,success:!0})},function(o){l.postMessage({sourceName:S,targetName:A,stream:7,streamId:M,reason:J(o)})});break;case 4:if((0,v.assert)(m,"enqueue should have stream controller"),m.isClosed)break;m.controller.enqueue(f.chunk);break;case 3:if((0,v.assert)(m,"close should have stream controller"),m.isClosed)break;m.isClosed=!0,m.controller.close(),this._deleteStreamController(m,M);break;case 5:(0,v.assert)(m,"error should have stream controller"),m.controller.error(J(f.reason)),this._deleteStreamController(m,M);break;case 2:f.success?m.cancelCall.resolve():m.cancelCall.reject(J(f.reason)),this._deleteStreamController(m,M);break;case 1:if(!s)break;new Promise(function(o){o(s.onCancel&&s.onCancel(J(f.reason)))}).then(function(){l.postMessage({sourceName:S,targetName:A,stream:2,streamId:M,success:!0})},function(o){l.postMessage({sourceName:S,targetName:A,stream:2,streamId:M,reason:J(o)})}),s.sinkCapability.reject(J(f.reason)),s.isCancelled=!0,delete this.streamSinks[M];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(f,M){var S=this;return _asyncToGenerator(function*(){yield Promise.allSettled([f.startCall&&f.startCall.promise,f.pullCall&&f.pullCall.promise,f.cancelCall&&f.cancelCall.promise]),delete S.streamControllers[M]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(me,L,re)=>{var le,J;Object.defineProperty(L,"__esModule",{value:!0}),L.Metadata=void 0;var v=re(1);le=new WeakMap,J=new WeakMap,L.Metadata=class u{constructor({parsedData:B,rawData:f}){Ee(this,le,void 0),Ee(this,J,void 0),je(this,le,B),je(this,J,f)}getRaw(){return we(this,J)}get(B){return we(this,le).get(B)??null}getAll(){return(0,v.objectFromMap)(we(this,le))}has(B){return we(this,le).has(B)}}},(me,L,re)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.OptionalContentConfig=void 0;var v=re(1);class u{constructor(ee,B){this.visible=!0,this.name=ee,this.intent=B}}L.OptionalContentConfig=class le{constructor(ee){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==ee){this.name=ee.name,this.creator=ee.creator,this._order=ee.order;for(const B of ee.groups)this._groups.set(B.id,new u(B.name,B.intent));if("OFF"===ee.baseState)for(const B of this._groups)B.visible=!1;for(const B of ee.on)this._groups.get(B).visible=!0;for(const B of ee.off)this._groups.get(B).visible=!1}}_evaluateVisibilityExpression(ee){const B=ee.length;if(B<2)return!0;const f=ee[0];for(let M=1;M<B;M++){const S=ee[M];let A;if(Array.isArray(S))A=this._evaluateVisibilityExpression(S);else{if(!this._groups.has(S))return(0,v.warn)(`Optional content group not found: ${S}`),!0;A=this._groups.get(S).visible}switch(f){case"And":if(!A)return!1;break;case"Or":if(A)return!0;break;case"Not":return!A;default:return!0}}return"And"===f}isVisible(ee){if(0===this._groups.size)return!0;if(!ee)return(0,v.warn)("Optional content group not defined."),!0;if("OCG"===ee.type)return this._groups.has(ee.id)?this._groups.get(ee.id).visible:((0,v.warn)(`Optional content group not found: ${ee.id}`),!0);if("OCMD"===ee.type){if(ee.expression)return this._evaluateVisibilityExpression(ee.expression);if(!ee.policy||"AnyOn"===ee.policy){for(const B of ee.ids){if(!this._groups.has(B))return(0,v.warn)(`Optional content group not found: ${B}`),!0;if(this._groups.get(B).visible)return!0}return!1}if("AllOn"===ee.policy){for(const B of ee.ids){if(!this._groups.has(B))return(0,v.warn)(`Optional content group not found: ${B}`),!0;if(!this._groups.get(B).visible)return!1}return!0}if("AnyOff"===ee.policy){for(const B of ee.ids){if(!this._groups.has(B))return(0,v.warn)(`Optional content group not found: ${B}`),!0;if(!this._groups.get(B).visible)return!0}return!1}if("AllOff"===ee.policy){for(const B of ee.ids){if(!this._groups.has(B))return(0,v.warn)(`Optional content group not found: ${B}`),!0;if(this._groups.get(B).visible)return!1}return!0}return(0,v.warn)(`Unknown optional content policy ${ee.policy}.`),!0}return(0,v.warn)(`Unknown group type ${ee.type}.`),!0}setVisibility(ee,B=!0){this._groups.has(ee)?this._groups.get(ee).visible=!!B:(0,v.warn)(`Optional content group not found: ${ee}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,v.objectFromMap)(this._groups):null}getGroup(ee){return this._groups.get(ee)||null}}},(me,L,re)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFDataTransportStream=void 0;var v=re(1),u=re(5);L.PDFDataTransportStream=class le{constructor(f,M){(0,v.assert)(M,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=f.progressiveDone||!1,this._contentDispositionFilename=f.contentDispositionFilename||null;const S=f.initialData;if(S?.length>0){const A=new Uint8Array(S).buffer;this._queuedChunks.push(A)}this._pdfDataRangeTransport=M,this._isStreamingSupported=!f.disableStream,this._isRangeSupported=!f.disableRange,this._contentLength=f.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((A,l)=>{this._onReceiveData({begin:A,chunk:l})}),this._pdfDataRangeTransport.addProgressListener((A,l)=>{this._onProgress({loaded:A,total:l})}),this._pdfDataRangeTransport.addProgressiveReadListener(A=>{this._onReceiveData({chunk:A})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(f){const M=new Uint8Array(f.chunk).buffer;if(void 0===f.begin)this._fullRequestReader?this._fullRequestReader._enqueue(M):this._queuedChunks.push(M);else{const S=this._rangeReaders.some(function(A){return A._begin===f.begin&&(A._enqueue(M),!0)});(0,v.assert)(S,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(f){if(void 0===f.total){const M=this._rangeReaders[0];M?.onProgress&&M.onProgress({loaded:f.loaded})}else{const M=this._fullRequestReader;M?.onProgress&&M.onProgress({loaded:f.loaded,total:f.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(f){const M=this._rangeReaders.indexOf(f);M>=0&&this._rangeReaders.splice(M,1)}getFullReader(){(0,v.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const f=this._queuedChunks;return this._queuedChunks=null,new J(this,f,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(f,M){if(M<=this._progressiveDataLength)return null;const S=new ee(this,f,M);return this._pdfDataRangeTransport.requestDataRange(f,M),this._rangeReaders.push(S),S}cancelAllRequests(f){this._fullRequestReader&&this._fullRequestReader.cancel(f);for(const M of this._rangeReaders.slice(0))M.cancel(f);this._pdfDataRangeTransport.abort()}};class J{constructor(f,M,S=!1,A=null){this._stream=f,this._done=S||!1,this._filename=(0,u.isPdfFile)(A)?A:null,this._queuedChunks=M||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),f._fullRequestReader=this,this.onProgress=null}_enqueue(f){this._done||(this._requests.length>0?this._requests.shift().resolve({value:f,done:!1}):this._queuedChunks.push(f),this._loaded+=f.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var f=this;return _asyncToGenerator(function*(){if(f._queuedChunks.length>0)return{value:f._queuedChunks.shift(),done:!1};if(f._done)return{value:void 0,done:!0};const M=(0,v.createPromiseCapability)();return f._requests.push(M),M.promise})()}cancel(f){this._done=!0;for(const M of this._requests)M.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ee{constructor(f,M,S){this._stream=f,this._begin=M,this._end=S,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(f){if(!this._done){if(0===this._requests.length)this._queuedChunk=f;else{this._requests.shift().resolve({value:f,done:!1});for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var f=this;return _asyncToGenerator(function*(){if(f._queuedChunk){const S=f._queuedChunk;return f._queuedChunk=null,{value:S,done:!1}}if(f._done)return{value:void 0,done:!0};const M=(0,v.createPromiseCapability)();return f._requests.push(M),M.promise})()}cancel(f){this._done=!0;for(const M of this._requests)M.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(me,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.XfaText=void 0;class re{static textContent(u){const le=[],J={items:le,styles:Object.create(null)};return function ee(B){if(!B)return;let f=null;const M=B.name;if("#text"===M)f=B.value;else{if(!re.shouldBuildText(M))return;B?.attributes?.textContent?f=B.attributes.textContent:B.value&&(f=B.value)}if(null!==f&&le.push({str:f}),B.children)for(const S of B.children)ee(S)}(u),J}static shouldBuildText(u){return!("textarea"===u||"input"===u||"option"===u||"select"===u)}}L.XfaText=re},(me,L,re)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.NodeStandardFontDataFactory=L.NodeCanvasFactory=L.NodeCMapReaderFactory=void 0;var v=re(6);const u=function(B){return new Promise((f,M)=>{__webpack_require__(172).readFile(B,(A,l)=>{!A&&l?f(new Uint8Array(l)):M(new Error(A))})})};L.NodeCanvasFactory=class le extends v.BaseCanvasFactory{_createCanvas(f,M){return __webpack_require__(3414).createCanvas(f,M)}},L.NodeCMapReaderFactory=class J extends v.BaseCMapReaderFactory{_fetchData(f,M){return u(f).then(S=>({cMapData:S,compressionType:M}))}},L.NodeStandardFontDataFactory=class ee extends v.BaseStandardFontDataFactory{_fetchData(f){return u(f)}}},(me,L,re)=>{var O,qt;Object.defineProperty(L,"__esModule",{value:!0}),L.AnnotationLayer=void 0;var v=re(1),u=re(5),le=re(8),J=re(21),ee=re(22);const B=1e3,f=new WeakSet;function M(h){return{width:h[2]-h[0],height:h[3]-h[1]}}class S{static create(t){switch(t.data.annotationType){case v.AnnotationType.LINK:return new l(t);case v.AnnotationType.TEXT:return new m(t);case v.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new o(t);case"Btn":return t.data.radioButton?new F(t):t.data.checkBox?new p(t):new C(t);case"Ch":return new y(t)}return new s(t);case v.AnnotationType.POPUP:return new r(t);case v.AnnotationType.FREETEXT:return new P(t);case v.AnnotationType.LINE:return new b(t);case v.AnnotationType.SQUARE:return new w(t);case v.AnnotationType.CIRCLE:return new R(t);case v.AnnotationType.POLYLINE:return new D(t);case v.AnnotationType.CARET:return new j(t);case v.AnnotationType.INK:return new X(t);case v.AnnotationType.POLYGON:return new I(t);case v.AnnotationType.HIGHLIGHT:return new Y(t);case v.AnnotationType.UNDERLINE:return new ie(t);case v.AnnotationType.SQUIGGLY:return new G(t);case v.AnnotationType.STRIKEOUT:return new Z(t);case v.AnnotationType.STAMP:return new te(t);case v.AnnotationType.FILEATTACHMENT:return new oe(t);default:return new A(t)}}}class A{constructor(t,{isRenderable:d=!1,ignoreBorder:_=!1,createQuadrilaterals:T=!1}={}){this.isRenderable=d,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this._mouseState=t.mouseState,d&&(this.container=this._createContainer(_)),T&&(this.quadrilaterals=this._createQuadrilaterals(_))}_createContainer(t=!1){const d=this.data,_=this.page,T=this.viewport,E=document.createElement("section");let{width:k,height:W}=M(d.rect);E.setAttribute("data-annotation-id",d.id);const z=v.Util.normalizeRect([d.rect[0],_.view[3]-d.rect[1]+_.view[1],d.rect[2],_.view[3]-d.rect[3]+_.view[1]]);if(d.hasOwnCanvas){const H=T.transform.slice(),[$,K]=v.Util.singularValueDecompose2dScale(H);k=Math.ceil(k*$),W=Math.ceil(W*K),z[0]*=$,z[1]*=K;for(let ae=0;ae<4;ae++)H[ae]=Math.sign(H[ae]);E.style.transform=`matrix(${H.join(",")})`}else E.style.transform=`matrix(${T.transform.join(",")})`;if(E.style.transformOrigin=`${-z[0]}px ${-z[1]}px`,!t&&d.borderStyle.width>0){E.style.borderWidth=`${d.borderStyle.width}px`,d.borderStyle.style!==v.AnnotationBorderStyleType.UNDERLINE&&(k-=2*d.borderStyle.width,W-=2*d.borderStyle.width);const H=d.borderStyle.horizontalCornerRadius,$=d.borderStyle.verticalCornerRadius;switch((H>0||$>0)&&(E.style.borderRadius=`${H}px / ${$}px`),d.borderStyle.style){case v.AnnotationBorderStyleType.SOLID:E.style.borderStyle="solid";break;case v.AnnotationBorderStyleType.DASHED:E.style.borderStyle="dashed";break;case v.AnnotationBorderStyleType.BEVELED:(0,v.warn)("Unimplemented border style: beveled");break;case v.AnnotationBorderStyleType.INSET:(0,v.warn)("Unimplemented border style: inset");break;case v.AnnotationBorderStyleType.UNDERLINE:E.style.borderBottomStyle="solid"}d.borderColor||d.color?E.style.borderColor=v.Util.makeHexColor(0|d.color[0],0|d.color[1],0|d.color[2]):E.style.borderWidth=0}return E.style.left=`${z[0]}px`,E.style.top=`${z[1]}px`,d.hasOwnCanvas?E.style.width=E.style.height="auto":(E.style.width=`${k}px`,E.style.height=`${W}px`),E}get _commonActions(){const t=(d,_,T)=>{const E=T.detail[d];T.target.style[_]=J.ColorConverters[`${E[0]}_HTML`](E.slice(1))};return(0,v.shadow)(this,"_commonActions",{display:d=>{const _=d.detail.display%2==1;d.target.style.visibility=_?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:_,print:0===d.detail.display||3===d.detail.display})},print:d=>{this.annotationStorage.setValue(this.data.id,{print:d.detail.print})},hidden:d=>{d.target.style.visibility=d.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:d.detail.hidden})},focus:d=>{setTimeout(()=>d.target.focus({preventScroll:!1}),0)},userName:d=>{d.target.title=d.detail.userName},readonly:d=>{d.detail.readonly?d.target.setAttribute("readonly",""):d.target.removeAttribute("readonly")},required:d=>{d.detail.required?d.target.setAttribute("required",""):d.target.removeAttribute("required")},bgColor:d=>{t("bgColor","backgroundColor",d)},fillColor:d=>{t("fillColor","backgroundColor",d)},fgColor:d=>{t("fgColor","color",d)},textColor:d=>{t("textColor","color",d)},borderColor:d=>{t("borderColor","borderColor",d)},strokeColor:d=>{t("strokeColor","borderColor",d)}})}_dispatchEventFromSandbox(t,d){const _=this._commonActions;for(const T of Object.keys(d.detail)){const E=t[T]||_[T];E&&E(d)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const d=this.annotationStorage.getRawValue(this.data.id);if(!d)return;const _=this._commonActions;for(const[T,E]of Object.entries(d)){const k=_[T];k&&(k({detail:E,target:t}),delete d[T])}}_createQuadrilaterals(t=!1){if(!this.data.quadPoints)return null;const d=[],_=this.data.rect;for(const T of this.data.quadPoints)this.data.rect=[T[2].x,T[2].y,T[1].x,T[1].y],d.push(this._createContainer(t));return this.data.rect=_,d}_createPopup(t,d){let _=this.container;this.quadrilaterals&&(t=t||this.quadrilaterals,_=this.quadrilaterals[0]),t||((t=document.createElement("div")).style.height=_.style.height,t.style.width=_.style.width,_.appendChild(t));const E=new a({container:_,trigger:t,color:d.color,titleObj:d.titleObj,modificationDate:d.modificationDate,contentsObj:d.contentsObj,richText:d.richText,hideWrapper:!0}).render();E.style.left=_.style.width,_.appendChild(E)}_renderQuadrilaterals(t){for(const d of this.quadrilaterals)d.className=t;return this.quadrilaterals}render(){(0,v.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,d=null){const _=[];if(this._fieldObjects){const T=this._fieldObjects[t];if(T)for(const{page:E,id:k,exportValues:W}of T){if(-1===E||k===d)continue;const z="string"==typeof W?W:null,H=document.getElementById(k);!H||f.has(H)?_.push({id:k,exportValue:z,domElement:H}):(0,v.warn)(`_getElementsByName - element not allowed: ${k}`)}return _}for(const T of document.getElementsByName(t)){const{id:E,exportValue:k}=T;E!==d&&(!f.has(T)||_.push({id:E,exportValue:k,domElement:T}))}return _}static get platform(){const t=typeof navigator<"u"?navigator.platform:"";return(0,v.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}}class l extends A{constructor(t,d=null){super(t,{isRenderable:!!(t.data.url||t.data.dest||t.data.action||t.data.isTooltipOnly||t.data.resetForm||t.data.actions&&(t.data.actions.Action||t.data.actions["Mouse Up"]||t.data.actions["Mouse Down"])),ignoreBorder:!!d?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:t,linkService:d}=this,_=document.createElement("a");if(t.url)d.addLinkAttributes(_,t.url,t.newWindow);else if(t.action)this._bindNamedAction(_,t.action);else if(t.dest)this._bindLink(_,t.dest);else{let T=!1;t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(T=!0,this._bindJSAction(_,t)),t.resetForm?this._bindResetFormAction(_,t.resetForm):T||this._bindLink(_,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((T,E)=>{const k=0===E?_:_.cloneNode();return T.appendChild(k),T}):(this.container.className="linkAnnotation",this.container.appendChild(_),this.container)}_bindLink(t,d){t.href=this.linkService.getDestinationHash(d),t.onclick=()=>(d&&this.linkService.goToDestination(d),!1),(d||""===d)&&(t.className="internalLink")}_bindNamedAction(t,d){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(d),!1),t.className="internalLink"}_bindJSAction(t,d){t.href=this.linkService.getAnchorUrl("");const _=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const T of Object.keys(d.actions)){const E=_.get(T);!E||(t[E]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:d.id,name:T}}),!1))}t.onclick||(t.onclick=()=>!1),t.className="internalLink"}_bindResetFormAction(t,d){const _=t.onclick;if(_||(t.href=this.linkService.getAnchorUrl("")),t.className="internalLink",!this._fieldObjects)return(0,v.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(_||(t.onclick=()=>!1));t.onclick=()=>{_&&_();const{fields:T,refs:E,include:k}=d,W=[];if(0!==T.length||0!==E.length){const $=new Set(E);for(const K of T){const ae=this._fieldObjects[K]||[];for(const{id:pe}of ae)$.add(pe)}for(const K of Object.values(this._fieldObjects))for(const ae of K)$.has(ae.id)===k&&W.push(ae)}else for(const $ of Object.values(this._fieldObjects))W.push(...$);const z=this.annotationStorage,H=[];for(const $ of W){const{id:K}=$;switch(H.push(K),$.type){case"text":case"combobox":case"listbox":z.setValue(K,{value:$.defaultValue||""});break;case"checkbox":case"radiobutton":z.setValue(K,{value:$.defaultValue===$.exportValues});break;default:continue}const ae=document.getElementById(K);!ae||!f.has(ae)||ae.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:H,name:"ResetForm"}}),!1}}}class m extends A{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str)})}render(){this.container.className="textAnnotation";const t=document.createElement("img");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(t,this.data),this.container.appendChild(t),this.container}}class s extends A{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(t){const{isWin:d,isMac:_}=A.platform;return d&&t.ctrlKey||_&&t.metaKey}_setEventListener(t,d,_,T){d.includes("mouse")?t.addEventListener(d,E=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:_,value:T(E),shift:E.shiftKey,modifier:this._getKeyModifier(E)}})}):t.addEventListener(d,E=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:_,value:T(E)}})})}_setEventListeners(t,d,_){for(const[T,E]of d)("Action"===E||this.data.actions?.[E])&&this._setEventListener(t,T,E,_)}_setBackgroundColor(t){const d=this.data.backgroundColor||null;t.style.backgroundColor=null===d?"transparent":v.Util.makeHexColor(d[0],d[1],d[2])}}class o extends s{constructor(t){super(t,{isRenderable:t.renderForms||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,d,_,T){const E=this.annotationStorage;for(const k of this._getElementsByName(t.name,t.id))k.domElement&&(k.domElement[d]=_),E.setValue(k.id,{[T]:_})}render(){const t=this.annotationStorage,d=this.data.id;this.container.className="textWidgetAnnotation";let _=null;if(this.renderForms){const T=t.getValue(d,{value:this.data.fieldValue}),E=T.formattedValue||T.value||"",k={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(_=document.createElement("textarea"),_.textContent=E):(_=document.createElement("input"),_.type="text",_.setAttribute("value",E)),f.add(_),_.disabled=this.data.readOnly,_.name=this.data.fieldName,_.tabIndex=B,k.userValue=E,_.setAttribute("id",d),_.addEventListener("input",z=>{t.setValue(d,{value:z.target.value}),this.setPropertyOnSiblings(_,"value",z.target.value,"value")}),_.addEventListener("resetform",z=>{_.value=k.userValue=this.data.defaultFieldValue??"",k.formattedValue=null});let W=z=>{const{formattedValue:H}=k;null!=H&&(z.target.value=H),z.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){_.addEventListener("focus",H=>{k.userValue&&(H.target.value=k.userValue),k.valueOnFocus=H.target.value}),_.addEventListener("updatefromsandbox",H=>{this._dispatchEventFromSandbox({value(K){k.userValue=K.detail.value??"",t.setValue(d,{value:k.userValue.toString()}),K.target.value=k.userValue},formattedValue(K){const{formattedValue:ae}=K.detail;k.formattedValue=ae,null!=ae&&K.target!==document.activeElement&&(K.target.value=ae),t.setValue(d,{formattedValue:ae})},selRange(K){K.target.setSelectionRange(...K.detail.selRange)}},H)}),_.addEventListener("keydown",H=>{let $=-1;if("Escape"===H.key?$=0:"Enter"===H.key?$=2:"Tab"===H.key&&($=3),-1===$)return;const{value:K}=H.target;k.valueOnFocus!==K&&(k.userValue=K,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:d,name:"Keystroke",value:K,willCommit:!0,commitKey:$,selStart:H.target.selectionStart,selEnd:H.target.selectionEnd}}))});const z=W;W=null,_.addEventListener("blur",H=>{const{value:$}=H.target;k.userValue=$,this._mouseState.isDown&&k.valueOnFocus!==$&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:d,name:"Keystroke",value:$,willCommit:!0,commitKey:1,selStart:H.target.selectionStart,selEnd:H.target.selectionEnd}}),z(H)}),this.data.actions?.Keystroke&&_.addEventListener("beforeinput",H=>{const{data:$,target:K}=H,{value:ae,selectionStart:pe,selectionEnd:Pe}=K;let ne=pe,de=Pe;switch(H.inputType){case"deleteWordBackward":{const ce=ae.substring(0,pe).match(/\w*[^\w]*$/);ce&&(ne-=ce[0].length);break}case"deleteWordForward":{const ce=ae.substring(pe).match(/^[^\w]*\w*/);ce&&(de+=ce[0].length);break}case"deleteContentBackward":pe===Pe&&(ne-=1);break;case"deleteContentForward":pe===Pe&&(de+=1)}H.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:d,name:"Keystroke",value:ae,change:$||"",willCommit:!1,selStart:ne,selEnd:de}})}),this._setEventListeners(_,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],H=>H.target.value)}if(W&&_.addEventListener("blur",W),null!==this.data.maxLen&&(_.maxLength=this.data.maxLen),this.data.comb){const H=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;_.classList.add("comb"),_.style.letterSpacing=`calc(${H}px - 1ch)`}}else _=document.createElement("div"),_.textContent=this.data.fieldValue,_.style.verticalAlign="middle",_.style.display="table-cell";return this._setTextStyle(_),this._setBackgroundColor(_),this._setDefaultPropertiesFromJS(_),this.container.appendChild(_),this.container}_setTextStyle(t){const{fontSize:_,fontColor:T}=this.data.defaultAppearanceData,E=t.style;_&&(E.fontSize=`${_}px`),E.color=v.Util.makeHexColor(T[0],T[1],T[2]),null!==this.data.textAlignment&&(E.textAlign=["left","center","right"][this.data.textAlignment])}}class p extends s{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,d=this.data,_=d.id;let T=t.getValue(_,{value:d.exportValue===d.fieldValue}).value;"string"==typeof T&&(T="Off"!==T,t.setValue(_,{value:T})),this.container.className="buttonWidgetAnnotation checkBox";const E=document.createElement("input");return f.add(E),E.disabled=d.readOnly,E.type="checkbox",E.name=d.fieldName,T&&E.setAttribute("checked",!0),E.setAttribute("id",_),E.setAttribute("exportValue",d.exportValue),E.tabIndex=B,E.addEventListener("change",k=>{const{name:W,checked:z}=k.target;for(const H of this._getElementsByName(W,_)){const $=z&&H.exportValue===d.exportValue;H.domElement&&(H.domElement.checked=$),t.setValue(H.id,{value:$})}t.setValue(_,{value:z})}),E.addEventListener("resetform",k=>{k.target.checked=(d.defaultFieldValue||"Off")===d.exportValue}),this.enableScripting&&this.hasJSActions&&(E.addEventListener("updatefromsandbox",k=>{this._dispatchEventFromSandbox({value(z){z.target.checked="Off"!==z.detail.value,t.setValue(_,{value:z.target.checked})}},k)}),this._setEventListeners(E,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],k=>k.target.checked)),this._setBackgroundColor(E),this._setDefaultPropertiesFromJS(E),this.container.appendChild(E),this.container}}class F extends s{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const t=this.annotationStorage,d=this.data,_=d.id;let T=t.getValue(_,{value:d.fieldValue===d.buttonValue}).value;"string"==typeof T&&(T=T!==d.buttonValue,t.setValue(_,{value:T}));const E=document.createElement("input");if(f.add(E),E.disabled=d.readOnly,E.type="radio",E.name=d.fieldName,T&&E.setAttribute("checked",!0),E.setAttribute("id",_),E.tabIndex=B,E.addEventListener("change",k=>{const{name:W,checked:z}=k.target;for(const H of this._getElementsByName(W,_))t.setValue(H.id,{value:!1});t.setValue(_,{value:z})}),E.addEventListener("resetform",k=>{const W=d.defaultFieldValue;k.target.checked=null!=W&&W===d.buttonValue}),this.enableScripting&&this.hasJSActions){const k=d.buttonValue;E.addEventListener("updatefromsandbox",W=>{this._dispatchEventFromSandbox({value:H=>{const $=k===H.detail.value;for(const K of this._getElementsByName(H.target.name)){const ae=$&&K.id===_;K.domElement&&(K.domElement.checked=ae),t.setValue(K.id,{value:ae})}}},W)}),this._setEventListeners(E,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],W=>W.target.checked)}return this._setBackgroundColor(E),this._setDefaultPropertiesFromJS(E),this.container.appendChild(E),this.container}}class C extends l{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();return t.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(t.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(t),t}}class y extends s{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const t=this.annotationStorage,d=this.data.id,_=t.getValue(d,{value:this.data.fieldValue});let{fontSize:T}=this.data.defaultAppearanceData;T||(T=9);const E=`calc(${T}px * var(--zoom-factor))`,k=document.createElement("select");f.add(k),k.disabled=this.data.readOnly,k.name=this.data.fieldName,k.setAttribute("id",d),k.tabIndex=B,k.style.fontSize=`${T}px`,this.data.combo||(k.size=this.data.options.length,this.data.multiSelect&&(k.multiple=!0)),k.addEventListener("resetform",H=>{const $=this.data.defaultFieldValue;for(const K of k.options)K.selected=K.value===$});for(const H of this.data.options){const $=document.createElement("option");$.textContent=H.displayValue,$.value=H.exportValue,this.data.combo&&($.style.fontSize=E),_.value.includes(H.exportValue)&&$.setAttribute("selected",!0),k.appendChild($)}const W=(H,$)=>{const K=$?"value":"textContent",ae=H.target.options;return H.target.multiple?Array.prototype.filter.call(ae,pe=>pe.selected).map(pe=>pe[K]):-1===ae.selectedIndex?null:ae[ae.selectedIndex][K]},z=H=>Array.prototype.map.call(H.target.options,K=>({displayValue:K.textContent,exportValue:K.value}));return this.enableScripting&&this.hasJSActions?(k.addEventListener("updatefromsandbox",H=>{this._dispatchEventFromSandbox({value(K){const ae=K.detail.value,pe=new Set(Array.isArray(ae)?ae:[ae]);for(const Pe of k.options)Pe.selected=pe.has(Pe.value);t.setValue(d,{value:W(K,!0)})},multipleSelection(K){k.multiple=!0},remove(K){const ae=k.options,pe=K.detail.remove;ae[pe].selected=!1,k.remove(pe),ae.length>0&&-1===Array.prototype.findIndex.call(ae,ne=>ne.selected)&&(ae[0].selected=!0),t.setValue(d,{value:W(K,!0),items:z(K)})},clear(K){for(;0!==k.length;)k.remove(0);t.setValue(d,{value:null,items:[]})},insert(K){const{index:ae,displayValue:pe,exportValue:Pe}=K.detail.insert,ne=document.createElement("option");ne.textContent=pe,ne.value=Pe,k.insertBefore(ne,k.children[ae]),t.setValue(d,{value:W(K,!0),items:z(K)})},items(K){const{items:ae}=K.detail;for(;0!==k.length;)k.remove(0);for(const pe of ae){const{displayValue:Pe,exportValue:ne}=pe,de=document.createElement("option");de.textContent=Pe,de.value=ne,k.appendChild(de)}k.options.length>0&&(k.options[0].selected=!0),t.setValue(d,{value:W(K,!0),items:z(K)})},indices(K){const ae=new Set(K.detail.indices);for(const pe of K.target.options)pe.selected=ae.has(pe.index);t.setValue(d,{value:W(K,!0)})},editable(K){K.target.disabled=!K.detail.editable}},H)}),k.addEventListener("input",H=>{const $=W(H,!0),K=W(H,!1);t.setValue(d,{value:$}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:d,name:"Keystroke",value:K,changeEx:$,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(k,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],H=>H.target.checked)):k.addEventListener("input",function(H){t.setValue(d,{value:W(H,!0)})}),this._setBackgroundColor(k),this._setDefaultPropertiesFromJS(k),this.container.appendChild(k),this.container}}class r extends A{constructor(t){super(t,{isRenderable:!!(t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const _=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===_.length)return this.container;const T=new a({container:this.container,trigger:Array.from(_),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),E=this.page,k=v.Util.normalizeRect([this.data.parentRect[0],E.view[3]-this.data.parentRect[1]+E.view[1],this.data.parentRect[2],E.view[3]-this.data.parentRect[3]+E.view[1]]),W=k[0]+this.data.parentRect[2]-this.data.parentRect[0],z=k[1];return this.container.style.transformOrigin=`${-W}px ${-z}px`,this.container.style.left=`${W}px`,this.container.style.top=`${z}px`,this.container.appendChild(T.render()),this.container}}class a{constructor(t){this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.richText=t.richText,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}render(){const d=document.createElement("div");d.className="popupWrapper",this.hideElement=this.hideWrapper?d:this.container,this.hideElement.hidden=!0;const _=document.createElement("div");_.className="popup";const T=this.color;T&&(_.style.backgroundColor=v.Util.makeHexColor(0|.7*(255-T[0])+T[0],0|.7*(255-T[1])+T[1],0|.7*(255-T[2])+T[2]));const E=document.createElement("h1");E.dir=this.titleObj.dir,E.textContent=this.titleObj.str,_.appendChild(E);const k=u.PDFDateString.toDateObject(this.modificationDate);if(k){const W=document.createElement("span");W.className="popupDate",W.textContent="{{date}}, {{time}}",W.dataset.l10nId="annotation_date_string",W.dataset.l10nArgs=JSON.stringify({date:k.toLocaleDateString(),time:k.toLocaleTimeString()}),_.appendChild(W)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const W=this._formatContents(this.contentsObj);_.appendChild(W)}else ee.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:_}),_.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const W of this.trigger)W.addEventListener("click",this._toggle.bind(this)),W.addEventListener("mouseover",this._show.bind(this,!1)),W.addEventListener("mouseout",this._hide.bind(this,!1));return _.addEventListener("click",this._hide.bind(this,!0)),d.appendChild(_),d}_formatContents({str:t,dir:d}){const _=document.createElement("p");_.className="popupContent",_.dir=d;const T=t.split(/(?:\r\n?|\n)/);for(let E=0,k=T.length;E<k;++E)_.appendChild(document.createTextNode(T[E])),E<k-1&&_.appendChild(document.createElement("br"));return _}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(t=!1){t&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(t=!0){t&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class P extends A{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class b extends A{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const t=this.data,{width:d,height:_}=M(t.rect),T=this.svgFactory.create(d,_),E=this.svgFactory.createElement("svg:line");return E.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),E.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),E.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),E.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),E.setAttribute("stroke-width",t.borderStyle.width||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),T.appendChild(E),this.container.append(T),this._createPopup(E,t),this.container}}class w extends A{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const t=this.data,{width:d,height:_}=M(t.rect),T=this.svgFactory.create(d,_),E=t.borderStyle.width,k=this.svgFactory.createElement("svg:rect");return k.setAttribute("x",E/2),k.setAttribute("y",E/2),k.setAttribute("width",d-E),k.setAttribute("height",_-E),k.setAttribute("stroke-width",E||1),k.setAttribute("stroke","transparent"),k.setAttribute("fill","transparent"),T.appendChild(k),this.container.append(T),this._createPopup(k,t),this.container}}class R extends A{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const t=this.data,{width:d,height:_}=M(t.rect),T=this.svgFactory.create(d,_),E=t.borderStyle.width,k=this.svgFactory.createElement("svg:ellipse");return k.setAttribute("cx",d/2),k.setAttribute("cy",_/2),k.setAttribute("rx",d/2-E/2),k.setAttribute("ry",_/2-E/2),k.setAttribute("stroke-width",E||1),k.setAttribute("stroke","transparent"),k.setAttribute("fill","transparent"),T.appendChild(k),this.container.append(T),this._createPopup(k,t),this.container}}class D extends A{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:d,height:_}=M(t.rect),T=this.svgFactory.create(d,_);let E=[];for(const W of t.vertices)E.push(W.x-t.rect[0]+","+(t.rect[3]-W.y));E=E.join(" ");const k=this.svgFactory.createElement(this.svgElementName);return k.setAttribute("points",E),k.setAttribute("stroke-width",t.borderStyle.width||1),k.setAttribute("stroke","transparent"),k.setAttribute("fill","transparent"),T.appendChild(k),this.container.append(T),this._createPopup(k,t),this.container}}class I extends D{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class j extends A{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class X extends A{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:d,height:_}=M(t.rect),T=this.svgFactory.create(d,_);for(const E of t.inkLists){let k=[];for(const z of E)k.push(`${z.x-t.rect[0]},${t.rect[3]-z.y}`);k=k.join(" ");const W=this.svgFactory.createElement(this.svgElementName);W.setAttribute("points",k),W.setAttribute("stroke-width",t.borderStyle.width||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),this._createPopup(W,t),T.appendChild(W)}return this.container.append(T),this.container}}class Y extends A{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class ie extends A{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class G extends A{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Z extends A{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class te extends A{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class oe extends A{constructor(t){super(t,{isRenderable:!0});const{filename:d,content:_}=this.data.file;this.filename=(0,u.getFilenameFromUrl)(d),this.content=_,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:d,content:_})}render(){this.container.className="fileAttachmentAnnotation";const t=document.createElement("div");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(t,this.data),this.container.appendChild(t),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class he{static render(t){const d=[],_=[];for(const E of t.annotations){if(!E)continue;const{width:k,height:W}=M(E.rect);if(!(k<=0||W<=0)){if(E.annotationType===v.AnnotationType.POPUP){_.push(E);continue}d.push(E)}}_.length&&d.push(..._);const T=t.div;for(const E of d){const k=S.create({data:E,layer:T,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new u.DOMSVGFactory,annotationStorage:t.annotationStorage||new le.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,mouseState:t.mouseState||{isDown:!1}});if(k.isRenderable){const W=k.render();if(E.hidden&&(W.style.visibility="hidden"),Array.isArray(W))for(const z of W)T.appendChild(z);else k instanceof r?T.prepend(W):T.appendChild(W)}}xe(this,O,qt).call(this,T,t.annotationCanvasMap)}static update(t){const{page:d,viewport:_,annotations:T,annotationCanvasMap:E,div:k}=t,W=_.transform,z=`matrix(${W.join(",")})`;let H,$;for(const K of T){const ae=k.querySelectorAll(`[data-annotation-id="${K.id}"]`);if(ae)for(const pe of ae)if(K.hasOwnCanvas){const Pe=v.Util.normalizeRect([K.rect[0],d.view[3]-K.rect[1]+d.view[1],K.rect[2],d.view[3]-K.rect[3]+d.view[1]]);if(!$){H=Math.abs(W[0]||W[1]);const ce=W.slice();for(let x=0;x<4;x++)ce[x]=Math.sign(ce[x]);$=`matrix(${ce.join(",")})`}const ne=Pe[0]*H,de=Pe[1]*H;pe.style.left=`${ne}px`,pe.style.top=`${de}px`,pe.style.transformOrigin=`${-ne}px ${-de}px`,pe.style.transform=$}else pe.style.transform=z}xe(this,O,qt).call(this,k,E),k.hidden=!1}}O=new WeakSet,qt=function(t,d){if(d){for(const[_,T]of d){const E=t.querySelector(`[data-annotation-id="${_}"]`);if(!E)continue;const{firstChild:k}=E;"CANVAS"===k.nodeName?E.replaceChild(T,k):E.insertBefore(T,k)}d.clear()}},Ee(he,O),L.AnnotationLayer=he},(me,L)=>{function re(u){return Math.floor(255*Math.max(0,Math.min(1,u))).toString(16).padStart(2,"0")}Object.defineProperty(L,"__esModule",{value:!0}),L.ColorConverters=void 0,L.ColorConverters=class v{static CMYK_G([le,J,ee,B]){return["G",1-Math.min(1,.3*le+.59*ee+.11*J+B)]}static G_CMYK([le]){return["CMYK",0,0,0,1-le]}static G_RGB([le]){return["RGB",le,le,le]}static G_HTML([le]){const J=re(le);return`#${J}${J}${J}`}static RGB_G([le,J,ee]){return["G",.3*le+.59*J+.11*ee]}static RGB_HTML([le,J,ee]){return`#${re(le)}${re(J)}${re(ee)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([le,J,ee,B]){return["RGB",1-Math.min(1,le+B),1-Math.min(1,ee+B),1-Math.min(1,J+B)]}static CMYK_HTML(le){return this.RGB_HTML(this.CMYK_RGB(le))}static RGB_CMYK([le,J,ee]){const B=1-le,f=1-J,M=1-ee;return["CMYK",B,f,M,Math.min(B,f,M)]}}},(me,L,re)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.XfaLayer=void 0;var v=re(18);L.XfaLayer=class u{static setupStorage(J,ee,B,f,M){const S=f.getValue(ee,{value:null});switch(B.name){case"textarea":if(null!==S.value&&(J.textContent=S.value),"print"===M)break;J.addEventListener("input",A=>{f.setValue(ee,{value:A.target.value})});break;case"input":if("radio"===B.attributes.type||"checkbox"===B.attributes.type){if(S.value===B.attributes.xfaOn?J.setAttribute("checked",!0):S.value===B.attributes.xfaOff&&J.removeAttribute("checked"),"print"===M)break;J.addEventListener("change",A=>{f.setValue(ee,{value:A.target.getAttribute(A.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==S.value&&J.setAttribute("value",S.value),"print"===M)break;J.addEventListener("input",A=>{f.setValue(ee,{value:A.target.value})})}break;case"select":if(null!==S.value)for(const A of B.children)A.attributes.value===S.value&&(A.attributes.selected=!0);J.addEventListener("input",A=>{const l=A.target.options;f.setValue(ee,{value:-1===l.selectedIndex?"":l[l.selectedIndex].value})})}}static setAttributes({html:J,element:ee,storage:B=null,intent:f,linkService:M}){const{attributes:S}=ee,A=J instanceof HTMLAnchorElement;"radio"===S.type&&(S.name=`${S.name}-${f}`);for(const[l,m]of Object.entries(S))if(null!=m&&"dataId"!==l)if("style"!==l)if("textContent"===l)J.textContent=m;else if("class"===l)m.length&&J.setAttribute(l,m.join(" "));else{if(A&&("href"===l||"newWindow"===l))continue;J.setAttribute(l,m)}else Object.assign(J.style,m);A&&M.addLinkAttributes(J,S.href,S.newWindow),B&&S.dataId&&this.setupStorage(J,S.dataId,ee,B)}static render(J){const ee=J.annotationStorage,B=J.linkService,f=J.xfaHtml,M=J.intent||"display",S=document.createElement(f.name);f.attributes&&this.setAttributes({html:S,element:f,intent:M,linkService:B});const A=[[f,-1,S]],l=J.div;if(l.appendChild(S),J.viewport){const s=`matrix(${J.viewport.transform.join(",")})`;l.style.transform=s}"richText"!==M&&l.setAttribute("class","xfaLayer xfaFont");const m=[];for(;A.length>0;){const[s,o,p]=A[A.length-1];if(o+1===s.children.length){A.pop();continue}const F=s.children[++A[A.length-1][1]];if(null===F)continue;const{name:C}=F;if("#text"===C){const r=document.createTextNode(F.value);m.push(r),p.appendChild(r);continue}let y;if(y=F?.attributes?.xmlns?document.createElementNS(F.attributes.xmlns,C):document.createElement(C),p.appendChild(y),F.attributes&&this.setAttributes({html:y,element:F,storage:ee,intent:M,linkService:B}),F.children&&F.children.length>0)A.push([F,-1,y]);else if(F.value){const r=document.createTextNode(F.value);v.XfaText.shouldBuildText(C)&&m.push(r),y.appendChild(r)}}for(const s of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))s.setAttribute("readOnly",!0);return{textDivs:m}}static update(J){const ee=`matrix(${J.viewport.transform.join(",")})`;J.div.style.transform=ee,J.div.hidden=!1}}},(me,L,re)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.renderTextLayer=function p(F){const C=new o({textContent:F.textContent,textContentStream:F.textContentStream,container:F.container,viewport:F.viewport,textDivs:F.textDivs,textContentItemsStr:F.textContentItemsStr,enhanceTextSelection:F.enhanceTextSelection});return C._render(F.timeout),C};var v=re(1);const ee=new Map,B=/^\s+$/g;function M(F,C,y,r){const a=document.createElement("span"),P=F._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==C.str,hasEOL:C.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==C.str,hasEOL:C.hasEOL};F._textDivs.push(a);const b=v.Util.transform(F._viewport.transform,C.transform);let w=Math.atan2(b[1],b[0]);const R=y[C.fontName];R.vertical&&(w+=Math.PI/2);const D=Math.hypot(b[2],b[3]),I=D*function f(F,C){const y=ee.get(F);if(y)return y;C.save(),C.font=`30px ${F}`;const r=C.measureText("");let a=r.fontBoundingBoxAscent,P=Math.abs(r.fontBoundingBoxDescent);if(a){C.restore();const w=a/(a+P);return ee.set(F,w),w}C.strokeStyle="red",C.clearRect(0,0,30,30),C.strokeText("g",0,0);let b=C.getImageData(0,0,30,30).data;P=0;for(let w=b.length-1-3;w>=0;w-=4)if(b[w]>0){P=Math.ceil(w/4/30);break}C.clearRect(0,0,30,30),C.strokeText("A",0,30),b=C.getImageData(0,0,30,30).data,a=0;for(let w=0,R=b.length;w<R;w+=4)if(b[w]>0){a=30-Math.floor(w/4/30);break}if(C.restore(),a){const w=a/(a+P);return ee.set(F,w),w}return ee.set(F,.8),.8}(R.fontFamily,r);let j,X;0===w?(j=b[4],X=b[5]-I):(j=b[4]+I*Math.sin(w),X=b[5]-I*Math.cos(w)),a.style.left=`${j}px`,a.style.top=`${X}px`,a.style.fontSize=`${D}px`,a.style.fontFamily=R.fontFamily,a.setAttribute("role","presentation"),a.textContent=C.str,a.dir=C.dir,F._fontInspectorEnabled&&(a.dataset.fontName=C.fontName),0!==w&&(P.angle=w*(180/Math.PI));let Y=!1;if(C.str.length>1||F._enhanceTextSelection&&B.test(C.str))Y=!0;else if(" "!==C.str&&C.transform[0]!==C.transform[3]){const ie=Math.abs(C.transform[0]),G=Math.abs(C.transform[3]);ie!==G&&Math.max(ie,G)/Math.min(ie,G)>1.5&&(Y=!0)}if(Y&&(P.canvasWidth=R.vertical?C.height*F._viewport.scale:C.width*F._viewport.scale),F._textDivProperties.set(a,P),F._textContentStream&&F._layoutText(a),F._enhanceTextSelection&&P.hasText){let ie=1,G=0;0!==w&&(ie=Math.cos(w),G=Math.sin(w));const Z=(R.vertical?C.height:C.width)*F._viewport.scale,te=D;let oe,he;0!==w?(oe=[ie,G,-G,ie,j,X],he=v.Util.getAxialAlignedBoundingBox([0,0,Z,te],oe)):he=[j,X,j+Z,X+te],F._bounds.push({left:he[0],top:he[1],right:he[2],bottom:he[3],div:a,size:[Z,te],m:oe})}}function S(F){if(F._canceled)return;const C=F._textDivs,y=F._capability,r=C.length;if(r>1e5)return F._renderingDone=!0,void y.resolve();if(!F._textContentStream)for(let a=0;a<r;a++)F._layoutText(C[a]);F._renderingDone=!0,y.resolve()}function A(F,C,y){let r=0;for(let a=0;a<y;a++){const P=F[C++];P>0&&(r=r?Math.min(P,r):P)}return r}function s(F,C){C.sort(function(a,P){return a.x1-P.x1||a.index-P.index});const r=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const a of C){let P=0;for(;P<r.length&&r[P].end<=a.y1;)P++;let b=r.length-1;for(;b>=0&&r[b].start>=a.y2;)b--;let w,R,D,I,j=-1/0;for(D=P;D<=b;D++){let ie;w=r[D],R=w.boundary,ie=R.x2>a.x1?R.index>a.index?R.x1New:a.x1:void 0===R.x2New?(R.x2+a.x1)/2:R.x2New,ie>j&&(j=ie)}for(a.x1New=j,D=P;D<=b;D++)w=r[D],R=w.boundary,void 0===R.x2New?R.x2>a.x1?R.index>a.index&&(R.x2New=R.x2):R.x2New=j:R.x2New>j&&(R.x2New=Math.max(j,R.x2));const X=[];let Y=null;for(D=P;D<=b;D++){w=r[D],R=w.boundary;const ie=R.x2>a.x2?R:a;Y===ie?X[X.length-1].end=w.end:(X.push({start:w.start,end:w.end,boundary:ie}),Y=ie)}for(r[P].start<a.y1&&(X[0].start=a.y1,X.unshift({start:r[P].start,end:a.y1,boundary:r[P].boundary})),a.y2<r[b].end&&(X[X.length-1].end=a.y2,X.push({start:a.y2,end:r[b].end,boundary:r[b].boundary})),D=P;D<=b;D++){if(w=r[D],R=w.boundary,void 0!==R.x2New)continue;let ie=!1;for(I=P-1;!ie&&I>=0&&r[I].start>=R.y1;I--)ie=r[I].boundary===R;for(I=b+1;!ie&&I<r.length&&r[I].end<=R.y2;I++)ie=r[I].boundary===R;for(I=0;!ie&&I<X.length;I++)ie=X[I].boundary===R;ie||(R.x2New=j)}Array.prototype.splice.apply(r,[P,b-P+1].concat(X))}for(const a of r){const P=a.boundary;void 0===P.x2New&&(P.x2New=Math.max(F,P.x2))}}class o{constructor({textContent:C,textContentStream:y,container:r,viewport:a,textDivs:P,textContentItemsStr:b,enhanceTextSelection:w}){this._textContent=C,this._textContentStream=y,this._container=r,this._document=r.ownerDocument,this._viewport=a,this._textDivs=P||[],this._textContentItemsStr=b||[],this._enhanceTextSelection=!!w,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,v.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new v.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(C,y){for(let r=0,a=C.length;r<a;r++)if(void 0!==C[r].str)this._textContentItemsStr.push(C[r].str),M(this,C[r],y,this._layoutTextCtx);else if("beginMarkedContentProps"===C[r].type||"beginMarkedContent"===C[r].type){const P=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==C[r].id&&this._container.setAttribute("id",`${C[r].id}`),P.appendChild(this._container)}else"endMarkedContent"===C[r].type&&(this._container=this._container.parentNode)}_layoutText(C){const y=this._textDivProperties.get(C);let r="";if(0!==y.canvasWidth&&y.hasText){const{fontSize:a,fontFamily:P}=C.style;(a!==this._layoutTextLastFontSize||P!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${a} ${P}`,this._layoutTextLastFontSize=a,this._layoutTextLastFontFamily=P);const{width:b}=this._layoutTextCtx.measureText(C.textContent);if(b>0){const w=y.canvasWidth/b;this._enhanceTextSelection&&(y.scale=w),r=`scaleX(${w})`}}if(0!==y.angle&&(r=`rotate(${y.angle}deg) ${r}`),r.length>0&&(this._enhanceTextSelection&&(y.originalTransform=r),C.style.transform=r),y.hasText&&this._container.appendChild(C),y.hasEOL){const a=document.createElement("br");a.setAttribute("role","presentation"),this._container.appendChild(a)}}_render(C=0){const y=(0,v.createPromiseCapability)();let r=Object.create(null);const a=this._document.createElement("canvas");if(a.height=a.width=30,this._layoutTextCtx=a.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),y.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const P=()=>{this._reader.read().then(({value:b,done:w})=>{w?y.resolve():(Object.assign(r,b.styles),this._processItems(b.items,r),P())},y.reject)};this._reader=this._textContentStream.getReader(),P()}}y.promise.then(()=>{r=null,C?this._renderTimer=setTimeout(()=>{S(this),this._renderTimer=null},C):S(this)},this._capability.reject)}expandTextDivs(C=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function l(F){const C=F._bounds,y=F._viewport,r=function m(F,C,y){const r=y.map(function(P,b){return{x1:P.left,y1:P.top,x2:P.right,y2:P.bottom,index:b,x1New:void 0,x2New:void 0}});s(F,r);const a=new Array(y.length);for(const P of r)a[P.index]={left:P.x1New,top:0,right:P.x2New,bottom:0};y.map(function(P,b){const w=a[b],R=r[b];R.x1=P.top,R.y1=F-w.right,R.x2=P.bottom,R.y2=F-w.left,R.index=b,R.x1New=void 0,R.x2New=void 0}),s(C,r);for(const P of r){const b=P.index;a[b].top=P.x1New,a[b].bottom=P.x2New}return a}(y.width,y.height,C);for(let a=0;a<r.length;a++){const P=C[a].div,b=F._textDivProperties.get(P);if(0===b.angle){b.paddingLeft=C[a].left-r[a].left,b.paddingTop=C[a].top-r[a].top,b.paddingRight=r[a].right-C[a].right,b.paddingBottom=r[a].bottom-C[a].bottom,F._textDivProperties.set(P,b);continue}const w=r[a],R=C[a],D=R.m,I=D[0],j=D[1],X=[[0,0],[0,R.size[1]],[R.size[0],0],R.size],Y=new Float64Array(64);for(let G=0,Z=X.length;G<Z;G++){const te=v.Util.applyTransform(X[G],D);Y[G+0]=I&&(w.left-te[0])/I,Y[G+4]=j&&(w.top-te[1])/j,Y[G+8]=I&&(w.right-te[0])/I,Y[G+12]=j&&(w.bottom-te[1])/j,Y[G+16]=j&&(w.left-te[0])/-j,Y[G+20]=I&&(w.top-te[1])/I,Y[G+24]=j&&(w.right-te[0])/-j,Y[G+28]=I&&(w.bottom-te[1])/I,Y[G+32]=I&&(w.left-te[0])/-I,Y[G+36]=j&&(w.top-te[1])/-j,Y[G+40]=I&&(w.right-te[0])/-I,Y[G+44]=j&&(w.bottom-te[1])/-j,Y[G+48]=j&&(w.left-te[0])/j,Y[G+52]=I&&(w.top-te[1])/-I,Y[G+56]=j&&(w.right-te[0])/j,Y[G+60]=I&&(w.bottom-te[1])/-I}const ie=1+Math.min(Math.abs(I),Math.abs(j));b.paddingLeft=A(Y,32,16)/ie,b.paddingTop=A(Y,48,16)/ie,b.paddingRight=A(Y,0,16)/ie,b.paddingBottom=A(Y,16,16)/ie,F._textDivProperties.set(P,b)}}(this),this._bounds=null);const y=[],r=[];for(let a=0,P=this._textDivs.length;a<P;a++){const b=this._textDivs[a],w=this._textDivProperties.get(b);!w.hasText||(C?(y.length=0,r.length=0,w.originalTransform&&y.push(w.originalTransform),w.paddingTop>0?(r.push(`${w.paddingTop}px`),y.push(`translateY(${-w.paddingTop}px)`)):r.push(0),r.push(w.paddingRight>0?w.paddingRight/w.scale+"px":0),r.push(w.paddingBottom>0?`${w.paddingBottom}px`:0),w.paddingLeft>0?(r.push(w.paddingLeft/w.scale+"px"),y.push(`translateX(${-w.paddingLeft/w.scale}px)`)):r.push(0),b.style.padding=r.join(" "),y.length&&(b.style.transform=y.join(" "))):(b.style.padding=null,b.style.transform=w.originalTransform))}}}},(me,L,re)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.SVGGraphics=void 0;var v=re(1),u=re(5),le=re(3);let J=class{constructor(){(0,v.unreachable)("Not implemented: SVGGraphics")}};L.SVGGraphics=J;{let s=function(r){let a=[];const P=[];for(const b of r)"save"!==b.fn?"restore"===b.fn?a=P.pop():a.push(b):(a.push({fnId:92,fn:"group",items:[]}),P.push(a),a=a[a.length-1].items);return a},o=function(r){if(Number.isInteger(r))return r.toString();const a=r.toFixed(10);let P=a.length-1;if("0"!==a[P])return a;do{P--}while("0"===a[P]);return a.substring(0,"."===a[P]?P:P+1)},p=function(r){if(0===r[4]&&0===r[5]){if(0===r[1]&&0===r[2])return 1===r[0]&&1===r[3]?"":`scale(${o(r[0])} ${o(r[3])})`;if(r[0]===r[3]&&r[1]===-r[2]){const a=180*Math.acos(r[0])/Math.PI;return`rotate(${o(a)})`}}else if(1===r[0]&&0===r[1]&&0===r[2]&&1===r[3])return`translate(${o(r[4])} ${o(r[5])})`;return`matrix(${o(r[0])} ${o(r[1])} ${o(r[2])} ${o(r[3])} ${o(r[4])} ${o(r[5])})`};const ee={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},B="http://www.w3.org/XML/1998/namespace",f="http://www.w3.org/1999/xlink",M=["butt","round","square"],S=["miter","round","bevel"],A=function(r,a="",P=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!P)return URL.createObjectURL(new Blob([r],{type:a}));const b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let w=`data:${a};base64,`;for(let R=0,D=r.length;R<D;R+=3){const I=255&r[R],j=255&r[R+1],X=255&r[R+2];w+=b[I>>2]+b[(3&I)<<4|j>>4]+b[R+1<D?(15&j)<<2|X>>6:64]+b[R+2<D?63&X:64]}return w},l=function(){const r=new Uint8Array([137,80,78,71,13,10,26,10]),P=new Int32Array(256);for(let X=0;X<256;X++){let Y=X;for(let ie=0;ie<8;ie++)Y=1&Y?3988292384^Y>>1&2147483647:Y>>1&2147483647;P[X]=Y}function w(X,Y,ie,G){let Z=G;const te=Y.length;ie[Z]=te>>24&255,ie[Z+1]=te>>16&255,ie[Z+2]=te>>8&255,ie[Z+3]=255&te,Z+=4,ie[Z]=255&X.charCodeAt(0),ie[Z+1]=255&X.charCodeAt(1),ie[Z+2]=255&X.charCodeAt(2),ie[Z+3]=255&X.charCodeAt(3),Z+=4,ie.set(Y,Z),Z+=Y.length;const oe=function b(X,Y,ie){let G=-1;for(let Z=Y;Z<ie;Z++)G=G>>>8^P[255&(G^X[Z])];return-1^G}(ie,G+4,Z);ie[Z]=oe>>24&255,ie[Z+1]=oe>>16&255,ie[Z+2]=oe>>8&255,ie[Z+3]=255&oe}function I(X){let Y=X.length;const ie=65535,G=Math.ceil(Y/ie),Z=new Uint8Array(2+Y+5*G+4);let te=0;Z[te++]=120,Z[te++]=156;let oe=0;for(;Y>ie;)Z[te++]=0,Z[te++]=255,Z[te++]=255,Z[te++]=0,Z[te++]=0,Z.set(X.subarray(oe,oe+ie),te),te+=ie,oe+=ie,Y-=ie;Z[te++]=1,Z[te++]=255&Y,Z[te++]=Y>>8&255,Z[te++]=255&~Y,Z[te++]=(65535&~Y)>>8&255,Z.set(X.subarray(oe),te),te+=X.length-oe;const he=function R(X,Y,ie){let G=1,Z=0;for(let te=Y;te<ie;++te)G=(G+(255&X[te]))%65521,Z=(Z+G)%65521;return Z<<16|G}(X,0,X.length);return Z[te++]=he>>24&255,Z[te++]=he>>16&255,Z[te++]=he>>8&255,Z[te++]=255&he,Z}return function(Y,ie,G){return function j(X,Y,ie,G){const Z=X.width,te=X.height;let oe,he,O;const c=X.data;switch(Y){case v.ImageKind.GRAYSCALE_1BPP:he=0,oe=1,O=Z+7>>3;break;case v.ImageKind.RGB_24BPP:he=2,oe=8,O=3*Z;break;case v.ImageKind.RGBA_32BPP:he=6,oe=8,O=4*Z;break;default:throw new Error("invalid format")}const h=new Uint8Array((1+O)*te);let t=0,d=0;for(let z=0;z<te;++z)h[t++]=0,h.set(c.subarray(d,d+O),t),d+=O,t+=O;if(Y===v.ImageKind.GRAYSCALE_1BPP&&G){t=0;for(let z=0;z<te;z++){t++;for(let H=0;H<O;H++)h[t++]^=255}}const _=new Uint8Array([Z>>24&255,Z>>16&255,Z>>8&255,255&Z,te>>24&255,te>>16&255,te>>8&255,255&te,oe,he,0,0,0]),T=function D(X){if(!le.isNodeJS)return I(X);try{let Y;Y=parseInt(process.versions.node)>=8?X:Buffer.from(X);const ie=__webpack_require__(2258).deflateSync(Y,{level:9});return ie instanceof Uint8Array?ie:new Uint8Array(ie)}catch(Y){(0,v.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Y)}return I(X)}(h),k=new Uint8Array(r.length+36+_.length+T.length);let W=0;return k.set(r,W),W+=r.length,w("IHDR",_,k,W),W+=12+_.length,w("IDATA",T,k,W),W+=12+T.length,w("IEND",new Uint8Array(0),k,W),A(k,"image/png",ie)}(Y,void 0===Y.kind?v.ImageKind.GRAYSCALE_1BPP:Y.kind,ie,G)}}();class m{constructor(){this.fontSizeScale=1,this.fontWeight=ee.fontWeight,this.fontSize=0,this.textMatrix=v.IDENTITY_MATRIX,this.fontMatrix=v.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=v.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ee.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(a,P){this.x=a,this.y=P}}let F=0,C=0,y=0;L.SVGGraphics=J=class{constructor(r,a,P=!1){this.svgFactory=new u.DOMSVGFactory,this.current=new m,this.transformMatrix=v.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=r,this.objs=a,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!P,this._operatorIdMapping=[];for(const b in v.OPS)this._operatorIdMapping[v.OPS[b]]=b}save(){this.transformStack.push(this.transformMatrix);const r=this.current;this.extraStack.push(r),this.current=r.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(r){this.save(),this.executeOpTree(r),this.restore()}loadDependencies(r){const a=r.fnArray,P=r.argsArray;for(let b=0,w=a.length;b<w;b++)if(a[b]===v.OPS.dependency)for(const R of P[b]){const D=R.startsWith("g_")?this.commonObjs:this.objs,I=new Promise(j=>{D.get(R,j)});this.current.dependencies.push(I)}return Promise.all(this.current.dependencies)}transform(r,a,P,b,w,R){this.transformMatrix=v.Util.transform(this.transformMatrix,[r,a,P,b,w,R]),this.tgrp=null}getSVG(r,a){this.viewport=a;const P=this._initialize(a);return this.loadDependencies(r).then(()=>(this.transformMatrix=v.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(r)),P))}convertOpList(r){const a=this._operatorIdMapping,P=r.argsArray,b=r.fnArray,w=[];for(let R=0,D=b.length;R<D;R++){const I=b[R];w.push({fnId:I,fn:a[I],args:P[R]})}return s(w)}executeOpTree(r){for(const a of r){const P=a.fn,w=a.args;switch(0|a.fnId){case v.OPS.beginText:this.beginText();break;case v.OPS.dependency:break;case v.OPS.setLeading:this.setLeading(w);break;case v.OPS.setLeadingMoveText:this.setLeadingMoveText(w[0],w[1]);break;case v.OPS.setFont:this.setFont(w);break;case v.OPS.showText:case v.OPS.showSpacedText:this.showText(w[0]);break;case v.OPS.endText:this.endText();break;case v.OPS.moveText:this.moveText(w[0],w[1]);break;case v.OPS.setCharSpacing:this.setCharSpacing(w[0]);break;case v.OPS.setWordSpacing:this.setWordSpacing(w[0]);break;case v.OPS.setHScale:this.setHScale(w[0]);break;case v.OPS.setTextMatrix:this.setTextMatrix(w[0],w[1],w[2],w[3],w[4],w[5]);break;case v.OPS.setTextRise:this.setTextRise(w[0]);break;case v.OPS.setTextRenderingMode:this.setTextRenderingMode(w[0]);break;case v.OPS.setLineWidth:this.setLineWidth(w[0]);break;case v.OPS.setLineJoin:this.setLineJoin(w[0]);break;case v.OPS.setLineCap:this.setLineCap(w[0]);break;case v.OPS.setMiterLimit:this.setMiterLimit(w[0]);break;case v.OPS.setFillRGBColor:this.setFillRGBColor(w[0],w[1],w[2]);break;case v.OPS.setStrokeRGBColor:this.setStrokeRGBColor(w[0],w[1],w[2]);break;case v.OPS.setStrokeColorN:this.setStrokeColorN(w);break;case v.OPS.setFillColorN:this.setFillColorN(w);break;case v.OPS.shadingFill:this.shadingFill(w[0]);break;case v.OPS.setDash:this.setDash(w[0],w[1]);break;case v.OPS.setRenderingIntent:this.setRenderingIntent(w[0]);break;case v.OPS.setFlatness:this.setFlatness(w[0]);break;case v.OPS.setGState:this.setGState(w[0]);break;case v.OPS.fill:this.fill();break;case v.OPS.eoFill:this.eoFill();break;case v.OPS.stroke:this.stroke();break;case v.OPS.fillStroke:this.fillStroke();break;case v.OPS.eoFillStroke:this.eoFillStroke();break;case v.OPS.clip:this.clip("nonzero");break;case v.OPS.eoClip:this.clip("evenodd");break;case v.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case v.OPS.paintImageXObject:this.paintImageXObject(w[0]);break;case v.OPS.paintInlineImageXObject:this.paintInlineImageXObject(w[0]);break;case v.OPS.paintImageMaskXObject:this.paintImageMaskXObject(w[0]);break;case v.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(w[0],w[1]);break;case v.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case v.OPS.closePath:this.closePath();break;case v.OPS.closeStroke:this.closeStroke();break;case v.OPS.closeFillStroke:this.closeFillStroke();break;case v.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case v.OPS.nextLine:this.nextLine();break;case v.OPS.transform:this.transform(w[0],w[1],w[2],w[3],w[4],w[5]);break;case v.OPS.constructPath:this.constructPath(w[0],w[1]);break;case v.OPS.endPath:this.endPath();break;case 92:this.group(a.items);break;default:(0,v.warn)(`Unimplemented operator ${P}`)}}}setWordSpacing(r){this.current.wordSpacing=r}setCharSpacing(r){this.current.charSpacing=r}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(r,a,P,b,w,R){const D=this.current;D.textMatrix=D.lineMatrix=[r,a,P,b,w,R],D.textMatrixScale=Math.hypot(r,a),D.x=D.lineX=0,D.y=D.lineY=0,D.xcoords=[],D.ycoords=[],D.tspan=this.svgFactory.createElement("svg:tspan"),D.tspan.setAttributeNS(null,"font-family",D.fontFamily),D.tspan.setAttributeNS(null,"font-size",`${o(D.fontSize)}px`),D.tspan.setAttributeNS(null,"y",o(-D.y)),D.txtElement=this.svgFactory.createElement("svg:text"),D.txtElement.appendChild(D.tspan)}beginText(){const r=this.current;r.x=r.lineX=0,r.y=r.lineY=0,r.textMatrix=v.IDENTITY_MATRIX,r.lineMatrix=v.IDENTITY_MATRIX,r.textMatrixScale=1,r.tspan=this.svgFactory.createElement("svg:tspan"),r.txtElement=this.svgFactory.createElement("svg:text"),r.txtgrp=this.svgFactory.createElement("svg:g"),r.xcoords=[],r.ycoords=[]}moveText(r,a){const P=this.current;P.x=P.lineX+=r,P.y=P.lineY+=a,P.xcoords=[],P.ycoords=[],P.tspan=this.svgFactory.createElement("svg:tspan"),P.tspan.setAttributeNS(null,"font-family",P.fontFamily),P.tspan.setAttributeNS(null,"font-size",`${o(P.fontSize)}px`),P.tspan.setAttributeNS(null,"y",o(-P.y))}showText(r){const a=this.current,P=a.font,b=a.fontSize;if(0===b)return;const w=a.fontSizeScale,R=a.charSpacing,D=a.wordSpacing,I=a.fontDirection,j=a.textHScale*I,X=P.vertical,Y=X?1:-1,ie=P.defaultVMetrics,G=b*a.fontMatrix[0];let Z=0;for(const he of r){if(null===he){Z+=I*D;continue}if("number"==typeof he){Z+=Y*he*b/1e3;continue}const O=(he.isSpace?D:0)+R,c=he.fontChar;let h,t,_,d=he.width;if(X){let T;const E=he.vmetric||ie;T=he.vmetric?E[1]:.5*d,T=-T*G,d=E?-E[0]:d,h=T/w,t=(Z+E[2]*G)/w}else h=Z/w,t=0;(he.isInFont||P.missingFile)&&(a.xcoords.push(a.x+h),X&&a.ycoords.push(-a.y+t),a.tspan.textContent+=c),_=X?d*G-O*I:d*G+O*I,Z+=_}a.tspan.setAttributeNS(null,"x",a.xcoords.map(o).join(" ")),a.tspan.setAttributeNS(null,"y",X?a.ycoords.map(o).join(" "):o(-a.y)),X?a.y-=Z:a.x+=Z*j,a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",`${o(a.fontSize)}px`),a.fontStyle!==ee.fontStyle&&a.tspan.setAttributeNS(null,"font-style",a.fontStyle),a.fontWeight!==ee.fontWeight&&a.tspan.setAttributeNS(null,"font-weight",a.fontWeight);const te=a.textRenderingMode&v.TextRenderingMode.FILL_STROKE_MASK;te===v.TextRenderingMode.FILL||te===v.TextRenderingMode.FILL_STROKE?(a.fillColor!==ee.fillColor&&a.tspan.setAttributeNS(null,"fill",a.fillColor),a.fillAlpha<1&&a.tspan.setAttributeNS(null,"fill-opacity",a.fillAlpha)):a.tspan.setAttributeNS(null,"fill",a.textRenderingMode===v.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(te===v.TextRenderingMode.STROKE||te===v.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(a.tspan,1/(a.textMatrixScale||1));let oe=a.textMatrix;0!==a.textRise&&(oe=oe.slice(),oe[5]+=a.textRise),a.txtElement.setAttributeNS(null,"transform",`${p(oe)} scale(${o(j)}, -1)`),a.txtElement.setAttributeNS(B,"xml:space","preserve"),a.txtElement.appendChild(a.tspan),a.txtgrp.appendChild(a.txtElement),this._ensureTransformGroup().appendChild(a.txtElement)}setLeadingMoveText(r,a){this.setLeading(-a),this.moveText(r,a)}addFontStyle(r){if(!r.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const a=A(r.data,r.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${r.loadedName}"; src: url(${a}); }\n`}setFont(r){const a=this.current,P=this.commonObjs.get(r[0]);let b=r[1];a.font=P,this.embedFonts&&!P.missingFile&&!this.embeddedFonts[P.loadedName]&&(this.addFontStyle(P),this.embeddedFonts[P.loadedName]=P),a.fontMatrix=P.fontMatrix||v.FONT_IDENTITY_MATRIX;let w="normal";P.black?w="900":P.bold&&(w="bold");const R=P.italic?"italic":"normal";b<0?(b=-b,a.fontDirection=-1):a.fontDirection=1,a.fontSize=b,a.fontFamily=P.loadedName,a.fontWeight=w,a.fontStyle=R,a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"y",o(-a.y)),a.xcoords=[],a.ycoords=[]}endText(){const r=this.current;r.textRenderingMode&v.TextRenderingMode.ADD_TO_PATH_FLAG&&r.txtElement?.hasChildNodes()&&(r.element=r.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(r){r>0&&(this.current.lineWidth=r)}setLineCap(r){this.current.lineCap=M[r]}setLineJoin(r){this.current.lineJoin=S[r]}setMiterLimit(r){this.current.miterLimit=r}setStrokeAlpha(r){this.current.strokeAlpha=r}setStrokeRGBColor(r,a,P){this.current.strokeColor=v.Util.makeHexColor(r,a,P)}setFillAlpha(r){this.current.fillAlpha=r}setFillRGBColor(r,a,P){this.current.fillColor=v.Util.makeHexColor(r,a,P),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(r){this.current.strokeColor=this._makeColorN_Pattern(r)}setFillColorN(r){this.current.fillColor=this._makeColorN_Pattern(r)}shadingFill(r){const a=this.viewport.width,P=this.viewport.height,b=v.Util.inverseTransform(this.transformMatrix),w=v.Util.applyTransform([0,0],b),R=v.Util.applyTransform([0,P],b),D=v.Util.applyTransform([a,0],b),I=v.Util.applyTransform([a,P],b),j=Math.min(w[0],R[0],D[0],I[0]),X=Math.min(w[1],R[1],D[1],I[1]),Y=Math.max(w[0],R[0],D[0],I[0]),ie=Math.max(w[1],R[1],D[1],I[1]),G=this.svgFactory.createElement("svg:rect");G.setAttributeNS(null,"x",j),G.setAttributeNS(null,"y",X),G.setAttributeNS(null,"width",Y-j),G.setAttributeNS(null,"height",ie-X),G.setAttributeNS(null,"fill",this._makeShadingPattern(r)),this.current.fillAlpha<1&&G.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(G)}_makeColorN_Pattern(r){return"TilingPattern"===r[0]?this._makeTilingPattern(r):this._makeShadingPattern(r)}_makeTilingPattern(r){const a=r[1],P=r[2],b=r[3]||v.IDENTITY_MATRIX,[w,R,D,I]=r[4],j=r[5],X=r[6],Y=r[7],ie="shading"+y++,[G,Z,te,oe]=v.Util.normalizeRect([...v.Util.applyTransform([w,R],b),...v.Util.applyTransform([D,I],b)]),[he,O]=v.Util.singularValueDecompose2dScale(b),c=j*he,h=X*O,t=this.svgFactory.createElement("svg:pattern");t.setAttributeNS(null,"id",ie),t.setAttributeNS(null,"patternUnits","userSpaceOnUse"),t.setAttributeNS(null,"width",c),t.setAttributeNS(null,"height",h),t.setAttributeNS(null,"x",`${G}`),t.setAttributeNS(null,"y",`${Z}`);const d=this.svg,_=this.transformMatrix,T=this.current.fillColor,E=this.current.strokeColor,k=this.svgFactory.create(te-G,oe-Z);if(this.svg=k,this.transformMatrix=b,2===Y){const W=v.Util.makeHexColor(...a);this.current.fillColor=W,this.current.strokeColor=W}return this.executeOpTree(this.convertOpList(P)),this.svg=d,this.transformMatrix=_,this.current.fillColor=T,this.current.strokeColor=E,t.appendChild(k.childNodes[0]),this.defs.appendChild(t),`url(#${ie})`}_makeShadingPattern(r){switch("string"==typeof r&&(r=this.objs.get(r)),r[0]){case"RadialAxial":const a="shading"+y++,P=r[3];let b;switch(r[1]){case"axial":const w=r[4],R=r[5];b=this.svgFactory.createElement("svg:linearGradient"),b.setAttributeNS(null,"id",a),b.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),b.setAttributeNS(null,"x1",w[0]),b.setAttributeNS(null,"y1",w[1]),b.setAttributeNS(null,"x2",R[0]),b.setAttributeNS(null,"y2",R[1]);break;case"radial":const D=r[4],I=r[5],j=r[6],X=r[7];b=this.svgFactory.createElement("svg:radialGradient"),b.setAttributeNS(null,"id",a),b.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),b.setAttributeNS(null,"cx",I[0]),b.setAttributeNS(null,"cy",I[1]),b.setAttributeNS(null,"r",X),b.setAttributeNS(null,"fx",D[0]),b.setAttributeNS(null,"fy",D[1]),b.setAttributeNS(null,"fr",j);break;default:throw new Error(`Unknown RadialAxial type: ${r[1]}`)}for(const w of P){const R=this.svgFactory.createElement("svg:stop");R.setAttributeNS(null,"offset",w[0]),R.setAttributeNS(null,"stop-color",w[1]),b.appendChild(R)}return this.defs.appendChild(b),`url(#${a})`;case"Mesh":return(0,v.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${r[0]}`)}}setDash(r,a){this.current.dashArray=r,this.current.dashPhase=a}constructPath(r,a){const P=this.current;let b=P.x,w=P.y,R=[],D=0;for(const I of r)switch(0|I){case v.OPS.rectangle:b=a[D++],w=a[D++];const Y=b+a[D++],ie=w+a[D++];R.push("M",o(b),o(w),"L",o(Y),o(w),"L",o(Y),o(ie),"L",o(b),o(ie),"Z");break;case v.OPS.moveTo:b=a[D++],w=a[D++],R.push("M",o(b),o(w));break;case v.OPS.lineTo:b=a[D++],w=a[D++],R.push("L",o(b),o(w));break;case v.OPS.curveTo:b=a[D+4],w=a[D+5],R.push("C",o(a[D]),o(a[D+1]),o(a[D+2]),o(a[D+3]),o(b),o(w)),D+=6;break;case v.OPS.curveTo2:R.push("C",o(b),o(w),o(a[D]),o(a[D+1]),o(a[D+2]),o(a[D+3])),b=a[D+2],w=a[D+3],D+=4;break;case v.OPS.curveTo3:b=a[D+2],w=a[D+3],R.push("C",o(a[D]),o(a[D+1]),o(b),o(w),o(b),o(w)),D+=4;break;case v.OPS.closePath:R.push("Z")}R=R.join(" "),P.path&&r.length>0&&r[0]!==v.OPS.rectangle&&r[0]!==v.OPS.moveTo?R=P.path.getAttributeNS(null,"d")+R:(P.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(P.path)),P.path.setAttributeNS(null,"d",R),P.path.setAttributeNS(null,"fill","none"),P.element=P.path,P.setCurrentPoint(b,w)}endPath(){const r=this.current;if(r.path=null,!this.pendingClip)return;if(!r.element)return void(this.pendingClip=null);const a="clippath"+F++,P=this.svgFactory.createElement("svg:clipPath");P.setAttributeNS(null,"id",a),P.setAttributeNS(null,"transform",p(this.transformMatrix));const b=r.element.cloneNode(!0);if(b.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,P.appendChild(b),this.defs.appendChild(P),r.activeClipUrl){r.clipGroup=null;for(const w of this.extraStack)w.clipGroup=null;P.setAttributeNS(null,"clip-path",r.activeClipUrl)}r.activeClipUrl=`url(#${a})`,this.tgrp=null}clip(r){this.pendingClip=r}closePath(){const r=this.current;if(r.path){const a=`${r.path.getAttributeNS(null,"d")}Z`;r.path.setAttributeNS(null,"d",a)}}setLeading(r){this.current.leading=-r}setTextRise(r){this.current.textRise=r}setTextRenderingMode(r){this.current.textRenderingMode=r}setHScale(r){this.current.textHScale=r/100}setRenderingIntent(r){}setFlatness(r){}setGState(r){for(const[a,P]of r)switch(a){case"LW":this.setLineWidth(P);break;case"LC":this.setLineCap(P);break;case"LJ":this.setLineJoin(P);break;case"ML":this.setMiterLimit(P);break;case"D":this.setDash(P[0],P[1]);break;case"RI":this.setRenderingIntent(P);break;case"FL":this.setFlatness(P);break;case"Font":this.setFont(P);break;case"CA":this.setStrokeAlpha(P);break;case"ca":this.setFillAlpha(P);break;default:(0,v.warn)(`Unimplemented graphic state operator ${a}`)}}fill(){const r=this.current;r.element&&(r.element.setAttributeNS(null,"fill",r.fillColor),r.element.setAttributeNS(null,"fill-opacity",r.fillAlpha),this.endPath())}stroke(){const r=this.current;r.element&&(this._setStrokeAttributes(r.element),r.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(r,a=1){const P=this.current;let b=P.dashArray;1!==a&&b.length>0&&(b=b.map(function(w){return a*w})),r.setAttributeNS(null,"stroke",P.strokeColor),r.setAttributeNS(null,"stroke-opacity",P.strokeAlpha),r.setAttributeNS(null,"stroke-miterlimit",o(P.miterLimit)),r.setAttributeNS(null,"stroke-linecap",P.lineCap),r.setAttributeNS(null,"stroke-linejoin",P.lineJoin),r.setAttributeNS(null,"stroke-width",o(a*P.lineWidth)+"px"),r.setAttributeNS(null,"stroke-dasharray",b.map(o).join(" ")),r.setAttributeNS(null,"stroke-dashoffset",o(a*P.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x","0"),r.setAttributeNS(null,"y","0"),r.setAttributeNS(null,"width","1px"),r.setAttributeNS(null,"height","1px"),r.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(r)}paintImageXObject(r){const a=r.startsWith("g_")?this.commonObjs.get(r):this.objs.get(r);a?this.paintInlineImageXObject(a):(0,v.warn)(`Dependent image with object ID ${r} is not ready yet`)}paintInlineImageXObject(r,a){const P=r.width,b=r.height,w=l(r,this.forceDataSchema,!!a),R=this.svgFactory.createElement("svg:rect");R.setAttributeNS(null,"x","0"),R.setAttributeNS(null,"y","0"),R.setAttributeNS(null,"width",o(P)),R.setAttributeNS(null,"height",o(b)),this.current.element=R,this.clip("nonzero");const D=this.svgFactory.createElement("svg:image");D.setAttributeNS(f,"xlink:href",w),D.setAttributeNS(null,"x","0"),D.setAttributeNS(null,"y",o(-b)),D.setAttributeNS(null,"width",o(P)+"px"),D.setAttributeNS(null,"height",o(b)+"px"),D.setAttributeNS(null,"transform",`scale(${o(1/P)} ${o(-1/b)})`),a?a.appendChild(D):this._ensureTransformGroup().appendChild(D)}paintImageMaskXObject(r){const a=this.current,P=r.width,b=r.height,w=a.fillColor;a.maskId="mask"+C++;const R=this.svgFactory.createElement("svg:mask");R.setAttributeNS(null,"id",a.maskId);const D=this.svgFactory.createElement("svg:rect");D.setAttributeNS(null,"x","0"),D.setAttributeNS(null,"y","0"),D.setAttributeNS(null,"width",o(P)),D.setAttributeNS(null,"height",o(b)),D.setAttributeNS(null,"fill",w),D.setAttributeNS(null,"mask",`url(#${a.maskId})`),this.defs.appendChild(R),this._ensureTransformGroup().appendChild(D),this.paintInlineImageXObject(r,R)}paintFormXObjectBegin(r,a){if(Array.isArray(r)&&6===r.length&&this.transform(r[0],r[1],r[2],r[3],r[4],r[5]),a){const P=a[2]-a[0],b=a[3]-a[1],w=this.svgFactory.createElement("svg:rect");w.setAttributeNS(null,"x",a[0]),w.setAttributeNS(null,"y",a[1]),w.setAttributeNS(null,"width",o(P)),w.setAttributeNS(null,"height",o(b)),this.current.element=w,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(r){const a=this.svgFactory.create(r.width,r.height),P=this.svgFactory.createElement("svg:defs");a.appendChild(P),this.defs=P;const b=this.svgFactory.createElement("svg:g");return b.setAttributeNS(null,"transform",p(r.transform)),a.appendChild(b),this.svg=b,a}_ensureClipGroup(){if(!this.current.clipGroup){const r=this.svgFactory.createElement("svg:g");r.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(r),this.current.clipGroup=r}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",p(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(me,L,re)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFNodeStream=void 0;var v=re(1),u=re(26);const le=__webpack_require__(172),J=__webpack_require__(2001),ee=__webpack_require__(3779),B=__webpack_require__(6558),f=/^file:\/\/\/[a-zA-Z]:\//;L.PDFNodeStream=class S{constructor(y){this.source=y,this.url=function M(C){const y=B.parse(C);return"file:"===y.protocol||y.host?y:/^[a-z]:[/\\]/i.test(C)?B.parse(`file:///${C}`):(y.host||(y.protocol="file:"),y)}(y.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,v.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new p(this):new s(this),this._fullRequestReader}getRangeReader(y,r){if(r<=this._progressiveDataLength)return null;const a=this.isFsUrl?new F(this,y,r):new o(this,y,r);return this._rangeRequestReaders.push(a),a}cancelAllRequests(y){this._fullRequestReader&&this._fullRequestReader.cancel(y);for(const r of this._rangeRequestReaders.slice(0))r.cancel(y)}};class A{constructor(y){this._url=y.url,this._done=!1,this._storedError=null,this.onProgress=null;const r=y.source;this._contentLength=r.length,this._loaded=0,this._filename=null,this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._readableStream=null,this._readCapability=(0,v.createPromiseCapability)(),this._headersCapability=(0,v.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var y=this;return _asyncToGenerator(function*(){if(yield y._readCapability.promise,y._done)return{value:void 0,done:!0};if(y._storedError)throw y._storedError;const r=y._readableStream.read();return null===r?(y._readCapability=(0,v.createPromiseCapability)(),y.read()):(y._loaded+=r.length,y.onProgress&&y.onProgress({loaded:y._loaded,total:y._contentLength}),{value:new Uint8Array(r).buffer,done:!1})})()}cancel(y){this._readableStream?this._readableStream.destroy(y):this._error(y)}_error(y){this._storedError=y,this._readCapability.resolve()}_setReadableStream(y){this._readableStream=y,y.on("readable",()=>{this._readCapability.resolve()}),y.on("end",()=>{y.destroy(),this._done=!0,this._readCapability.resolve()}),y.on("error",r=>{this._error(r)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new v.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class l{constructor(y){this._url=y.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,v.createPromiseCapability)(),this._isStreamingSupported=!y.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var y=this;return _asyncToGenerator(function*(){if(yield y._readCapability.promise,y._done)return{value:void 0,done:!0};if(y._storedError)throw y._storedError;const r=y._readableStream.read();return null===r?(y._readCapability=(0,v.createPromiseCapability)(),y.read()):(y._loaded+=r.length,y.onProgress&&y.onProgress({loaded:y._loaded}),{value:new Uint8Array(r).buffer,done:!1})})()}cancel(y){this._readableStream?this._readableStream.destroy(y):this._error(y)}_error(y){this._storedError=y,this._readCapability.resolve()}_setReadableStream(y){this._readableStream=y,y.on("readable",()=>{this._readCapability.resolve()}),y.on("end",()=>{y.destroy(),this._done=!0,this._readCapability.resolve()}),y.on("error",r=>{this._error(r)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function m(C,y){return{protocol:C.protocol,auth:C.auth,host:C.hostname,port:C.port,path:C.path,method:"GET",headers:y}}class s extends A{constructor(y){super(y);const r=a=>{if(404===a.statusCode){const R=new v.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=R,void this._headersCapability.reject(R)}this._headersCapability.resolve(),this._setReadableStream(a);const P=R=>this._readableStream.headers[R.toLowerCase()],{allowRangeRequests:b,suggestedLength:w}=(0,u.validateRangeRequestCapabilities)({getResponseHeader:P,isHttp:y.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=b,this._contentLength=w||this._contentLength,this._filename=(0,u.extractFilenameFromHeader)(P)};this._request=null,this._request="http:"===this._url.protocol?J.request(m(this._url,y.httpHeaders),r):ee.request(m(this._url,y.httpHeaders),r),this._request.on("error",a=>{this._storedError=a,this._headersCapability.reject(a)}),this._request.end()}}class o extends l{constructor(y,r,a){super(y),this._httpHeaders={};for(const b in y.httpHeaders){const w=y.httpHeaders[b];typeof w>"u"||(this._httpHeaders[b]=w)}this._httpHeaders.Range=`bytes=${r}-${a-1}`;const P=b=>{if(404!==b.statusCode)this._setReadableStream(b);else{const w=new v.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=w}};this._request=null,this._request="http:"===this._url.protocol?J.request(m(this._url,this._httpHeaders),P):ee.request(m(this._url,this._httpHeaders),P),this._request.on("error",b=>{this._storedError=b}),this._request.end()}}class p extends A{constructor(y){super(y);let r=decodeURIComponent(this._url.path);f.test(this._url.href)&&(r=r.replace(/^\//,"")),le.lstat(r,(a,P)=>{if(a)return"ENOENT"===a.code&&(a=new v.MissingPDFException(`Missing PDF "${r}".`)),this._storedError=a,void this._headersCapability.reject(a);this._contentLength=P.size,this._setReadableStream(le.createReadStream(r)),this._headersCapability.resolve()})}}class F extends l{constructor(y,r,a){super(y);let P=decodeURIComponent(this._url.path);f.test(this._url.href)&&(P=P.replace(/^\//,"")),this._setReadableStream(le.createReadStream(P,{start:r,end:a-1}))}}},(me,L,re)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.createResponseStatusError=function B(M,S){return 404===M||0===M&&S.startsWith("file:")?new v.MissingPDFException('Missing PDF "'+S+'".'):new v.UnexpectedResponseException(`Unexpected server response (${M}) while retrieving PDF "${S}".`,M)},L.extractFilenameFromHeader=function ee(M){const S=M("Content-Disposition");if(S){let A=(0,u.getFilenameFromContentDispositionHeader)(S);if(A.includes("%"))try{A=decodeURIComponent(A)}catch{}if((0,le.isPdfFile)(A))return A}return null},L.validateRangeRequestCapabilities=function J({getResponseHeader:M,isHttp:S,rangeChunkSize:A,disableRange:l}){const m={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(M("Content-Length"),10);return!Number.isInteger(s)||(m.suggestedLength=s,s<=2*A)||l||!S||"bytes"!==M("Accept-Ranges")||"identity"!==(M("Content-Encoding")||"identity")||(m.allowRangeRequests=!0),m},L.validateResponseStatus=function f(M){return 200===M||206===M};var v=re(1),u=re(27),le=re(5)},(me,L,re)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.getFilenameFromContentDispositionHeader=function u(le){let J=!0,ee=B("filename\\*","i").exec(le);if(ee){ee=ee[1];let s=A(ee);return s=unescape(s),s=l(s),s=m(s),M(s)}if(ee=function S(s){const o=[];let p;const F=B("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(p=F.exec(s));){let[,y,r,a]=p;if(y=parseInt(y,10),y in o){if(0===y)break}else o[y]=[r,a]}const C=[];for(let y=0;y<o.length&&y in o;++y){let[r,a]=o[y];a=A(a),r&&(a=unescape(a),0===y&&(a=l(a))),C.push(a)}return C.join("")}(le),ee)return M(m(ee));if(ee=B("filename","i").exec(le),ee){ee=ee[1];let s=A(ee);return s=m(s),M(s)}function B(s,o){return new RegExp("(?:^|;)\\s*"+s+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',o)}function f(s,o){if(s){if(!/^[\x00-\xFF]+$/.test(o))return o;try{const p=new TextDecoder(s,{fatal:!0}),F=(0,v.stringToBytes)(o);o=p.decode(F),J=!1}catch{}}return o}function M(s){return J&&/[\x80-\xff]/.test(s)&&(s=f("utf-8",s),J&&(s=f("iso-8859-1",s))),s}function A(s){if(s.startsWith('"')){const o=s.slice(1).split('\\"');for(let p=0;p<o.length;++p){const F=o[p].indexOf('"');-1!==F&&(o[p]=o[p].slice(0,F),o.length=p+1),o[p]=o[p].replace(/\\(.)/g,"$1")}s=o.join('"')}return s}function l(s){const o=s.indexOf("'");return-1===o?s:f(s.slice(0,o),s.slice(o+1).replace(/^[^']*'/,""))}function m(s){return!s.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(s)?s:s.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(o,p,F,C){if("q"===F||"Q"===F)return f(p,C=(C=C.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(y,r){return String.fromCharCode(parseInt(r,16))}));try{C=atob(C)}catch{}return f(p,C)})}return""};var v=re(1)},(me,L,re)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFNetworkStream=void 0;var v=re(1),u=re(26);class B{constructor(l,m={}){this.url=l,this.isHttp=/^https?:/i.test(l),this.httpHeaders=this.isHttp&&m.httpHeaders||Object.create(null),this.withCredentials=m.withCredentials||!1,this.getXhr=m.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(l,m,s){const o={begin:l,end:m};for(const p in s)o[p]=s[p];return this.request(o)}requestFull(l){return this.request(l)}request(l){const m=this.getXhr(),s=this.currXhrId++,o=this.pendingRequests[s]={xhr:m};m.open("GET",this.url),m.withCredentials=this.withCredentials;for(const p in this.httpHeaders){const F=this.httpHeaders[p];typeof F>"u"||m.setRequestHeader(p,F)}return this.isHttp&&"begin"in l&&"end"in l?(m.setRequestHeader("Range",`bytes=${l.begin}-${l.end-1}`),o.expectedStatus=206):o.expectedStatus=200,m.responseType="arraybuffer",l.onError&&(m.onerror=function(p){l.onError(m.status)}),m.onreadystatechange=this.onStateChange.bind(this,s),m.onprogress=this.onProgress.bind(this,s),o.onHeadersReceived=l.onHeadersReceived,o.onDone=l.onDone,o.onError=l.onError,o.onProgress=l.onProgress,m.send(null),s}onProgress(l,m){const s=this.pendingRequests[l];!s||s.onProgress?.(m)}onStateChange(l,m){const s=this.pendingRequests[l];if(!s)return;const o=s.xhr;if(o.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),4!==o.readyState||!(l in this.pendingRequests))return;if(delete this.pendingRequests[l],0===o.status&&this.isHttp)return void s.onError?.(o.status);const p=o.status||200;if((200!==p||206!==s.expectedStatus)&&p!==s.expectedStatus)return void s.onError?.(o.status);const C=function ee(A){const l=A.response;return"string"!=typeof l?l:(0,v.stringToBytes)(l).buffer}(o);if(206===p){const y=o.getResponseHeader("Content-Range"),r=/bytes (\d+)-(\d+)\/(\d+)/.exec(y);s.onDone({begin:parseInt(r[1],10),chunk:C})}else C?s.onDone({begin:0,chunk:C}):s.onError?.(o.status)}getRequestXhr(l){return this.pendingRequests[l].xhr}isPendingRequest(l){return l in this.pendingRequests}abortRequest(l){const m=this.pendingRequests[l].xhr;delete this.pendingRequests[l],m.abort()}}L.PDFNetworkStream=class f{constructor(l){this._source=l,this._manager=new B(l.url,{httpHeaders:l.httpHeaders,withCredentials:l.withCredentials}),this._rangeChunkSize=l.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(l){const m=this._rangeRequestReaders.indexOf(l);m>=0&&this._rangeRequestReaders.splice(m,1)}getFullReader(){return(0,v.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new M(this._manager,this._source),this._fullRequestReader}getRangeReader(l,m){const s=new S(this._manager,l,m);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(l){this._fullRequestReader?.cancel(l);for(const m of this._rangeRequestReaders.slice(0))m.cancel(l)}};class M{constructor(l,m){this._manager=l;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=m.url,this._fullRequestId=l.requestFull(s),this._headersReceivedCapability=(0,v.createPromiseCapability)(),this._disableRange=m.disableRange||!1,this._contentLength=m.length,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const l=this._fullRequestId,m=this._manager.getRequestXhr(l),s=F=>m.getResponseHeader(F),{allowRangeRequests:o,suggestedLength:p}=(0,u.validateRangeRequestCapabilities)({getResponseHeader:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=p||this._contentLength,this._filename=(0,u.extractFilenameFromHeader)(s),this._isRangeSupported&&this._manager.abortRequest(l),this._headersReceivedCapability.resolve()}_onDone(l){if(l&&(this._requests.length>0?this._requests.shift().resolve({value:l.chunk,done:!1}):this._cachedChunks.push(l.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(l){this._storedError=(0,u.createResponseStatusError)(l,this._url),this._headersReceivedCapability.reject(this._storedError);for(const m of this._requests)m.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(l){this.onProgress?.({loaded:l.loaded,total:l.lengthComputable?l.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var l=this;return _asyncToGenerator(function*(){if(l._storedError)throw l._storedError;if(l._cachedChunks.length>0)return{value:l._cachedChunks.shift(),done:!1};if(l._done)return{value:void 0,done:!0};const m=(0,v.createPromiseCapability)();return l._requests.push(m),m.promise})()}cancel(l){this._done=!0,this._headersReceivedCapability.reject(l);for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class S{constructor(l,m,s){this._manager=l;const o={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=l.url,this._requestId=l.requestRange(m,s,o),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(l){const m=l.chunk;this._requests.length>0?this._requests.shift().resolve({value:m,done:!1}):this._queuedChunk=m,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(l){this._storedError=(0,u.createResponseStatusError)(l,this._url);for(const m of this._requests)m.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(l){this.isStreamingSupported||this.onProgress?.({loaded:l.loaded})}get isStreamingSupported(){return!1}read(){var l=this;return _asyncToGenerator(function*(){if(l._storedError)throw l._storedError;if(null!==l._queuedChunk){const s=l._queuedChunk;return l._queuedChunk=null,{value:s,done:!1}}if(l._done)return{value:void 0,done:!0};const m=(0,v.createPromiseCapability)();return l._requests.push(m),m.promise})()}cancel(l){this._done=!0;for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(me,L,re)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFFetchStream=void 0;var v=re(1),u=re(26);function le(M,S,A){return{method:"GET",headers:M,signal:A?.signal,mode:"cors",credentials:S?"include":"same-origin",redirect:"follow"}}function J(M){const S=new Headers;for(const A in M){const l=M[A];typeof l>"u"||S.append(A,l)}return S}L.PDFFetchStream=class ee{constructor(S){this.source=S,this.isHttp=/^https?:/i.test(S.url),this.httpHeaders=this.isHttp&&S.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,v.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new B(this),this._fullRequestReader}getRangeReader(S,A){if(A<=this._progressiveDataLength)return null;const l=new f(this,S,A);return this._rangeRequestReaders.push(l),l}cancelAllRequests(S){this._fullRequestReader&&this._fullRequestReader.cancel(S);for(const A of this._rangeRequestReaders.slice(0))A.cancel(S)}};class B{constructor(S){this._stream=S,this._reader=null,this._loaded=0,this._filename=null;const A=S.source;this._withCredentials=A.withCredentials||!1,this._contentLength=A.length,this._headersCapability=(0,v.createPromiseCapability)(),this._disableRange=A.disableRange||!1,this._rangeChunkSize=A.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!A.disableStream,this._isRangeSupported=!A.disableRange,this._headers=J(this._stream.httpHeaders);const l=A.url;fetch(l,le(this._headers,this._withCredentials,this._abortController)).then(m=>{if(!(0,u.validateResponseStatus)(m.status))throw(0,u.createResponseStatusError)(m.status,l);this._reader=m.body.getReader(),this._headersCapability.resolve();const s=F=>m.headers.get(F),{allowRangeRequests:o,suggestedLength:p}=(0,u.validateRangeRequestCapabilities)({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=p||this._contentLength,this._filename=(0,u.extractFilenameFromHeader)(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new v.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var S=this;return _asyncToGenerator(function*(){yield S._headersCapability.promise;const{value:A,done:l}=yield S._reader.read();return l?{value:A,done:l}:(S._loaded+=A.byteLength,S.onProgress&&S.onProgress({loaded:S._loaded,total:S._contentLength}),{value:new Uint8Array(A).buffer,done:!1})})()}cancel(S){this._reader&&this._reader.cancel(S),this._abortController&&this._abortController.abort()}}class f{constructor(S,A,l){this._stream=S,this._reader=null,this._loaded=0;const m=S.source;this._withCredentials=m.withCredentials||!1,this._readCapability=(0,v.createPromiseCapability)(),this._isStreamingSupported=!m.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=J(this._stream.httpHeaders),this._headers.append("Range",`bytes=${A}-${l-1}`);const s=m.url;fetch(s,le(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!(0,u.validateResponseStatus)(o.status))throw(0,u.createResponseStatusError)(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var S=this;return _asyncToGenerator(function*(){yield S._readCapability.promise;const{value:A,done:l}=yield S._reader.read();return l?{value:A,done:l}:(S._loaded+=A.byteLength,S.onProgress&&S.onProgress({loaded:S._loaded}),{value:new Uint8Array(A).buffer,done:!1})})()}cancel(S){this._reader&&this._reader.cancel(S),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(me){var L=__webpack_module_cache__[me];if(void 0!==L)return L.exports;var re=__webpack_module_cache__[me]={exports:{}};return __webpack_modules__[me](re,re.exports,__w_pdfjs_require__),re.exports}var __webpack_exports__={};return(()=>{var me=__webpack_exports__;Object.defineProperty(me,"__esModule",{value:!0}),Object.defineProperty(me,"AnnotationLayer",{enumerable:!0,get:function(){return u.AnnotationLayer}}),Object.defineProperty(me,"AnnotationMode",{enumerable:!0,get:function(){return L.AnnotationMode}}),Object.defineProperty(me,"CMapCompressionType",{enumerable:!0,get:function(){return L.CMapCompressionType}}),Object.defineProperty(me,"GlobalWorkerOptions",{enumerable:!0,get:function(){return le.GlobalWorkerOptions}}),Object.defineProperty(me,"InvalidPDFException",{enumerable:!0,get:function(){return L.InvalidPDFException}}),Object.defineProperty(me,"LoopbackPort",{enumerable:!0,get:function(){return re.LoopbackPort}}),Object.defineProperty(me,"MissingPDFException",{enumerable:!0,get:function(){return L.MissingPDFException}}),Object.defineProperty(me,"OPS",{enumerable:!0,get:function(){return L.OPS}}),Object.defineProperty(me,"PDFDataRangeTransport",{enumerable:!0,get:function(){return re.PDFDataRangeTransport}}),Object.defineProperty(me,"PDFDateString",{enumerable:!0,get:function(){return v.PDFDateString}}),Object.defineProperty(me,"PDFWorker",{enumerable:!0,get:function(){return re.PDFWorker}}),Object.defineProperty(me,"PasswordResponses",{enumerable:!0,get:function(){return L.PasswordResponses}}),Object.defineProperty(me,"PermissionFlag",{enumerable:!0,get:function(){return L.PermissionFlag}}),Object.defineProperty(me,"PixelsPerInch",{enumerable:!0,get:function(){return v.PixelsPerInch}}),Object.defineProperty(me,"RenderingCancelledException",{enumerable:!0,get:function(){return v.RenderingCancelledException}}),Object.defineProperty(me,"SVGGraphics",{enumerable:!0,get:function(){return B.SVGGraphics}}),Object.defineProperty(me,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return L.UNSUPPORTED_FEATURES}}),Object.defineProperty(me,"UnexpectedResponseException",{enumerable:!0,get:function(){return L.UnexpectedResponseException}}),Object.defineProperty(me,"Util",{enumerable:!0,get:function(){return L.Util}}),Object.defineProperty(me,"VerbosityLevel",{enumerable:!0,get:function(){return L.VerbosityLevel}}),Object.defineProperty(me,"XfaLayer",{enumerable:!0,get:function(){return f.XfaLayer}}),Object.defineProperty(me,"build",{enumerable:!0,get:function(){return re.build}}),Object.defineProperty(me,"createPromiseCapability",{enumerable:!0,get:function(){return L.createPromiseCapability}}),Object.defineProperty(me,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return L.createValidAbsoluteUrl}}),Object.defineProperty(me,"getDocument",{enumerable:!0,get:function(){return re.getDocument}}),Object.defineProperty(me,"getFilenameFromUrl",{enumerable:!0,get:function(){return v.getFilenameFromUrl}}),Object.defineProperty(me,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return v.getPdfFilenameFromUrl}}),Object.defineProperty(me,"getXfaPageViewport",{enumerable:!0,get:function(){return v.getXfaPageViewport}}),Object.defineProperty(me,"isPdfFile",{enumerable:!0,get:function(){return v.isPdfFile}}),Object.defineProperty(me,"loadScript",{enumerable:!0,get:function(){return v.loadScript}}),Object.defineProperty(me,"renderTextLayer",{enumerable:!0,get:function(){return ee.renderTextLayer}}),Object.defineProperty(me,"shadow",{enumerable:!0,get:function(){return L.shadow}}),Object.defineProperty(me,"version",{enumerable:!0,get:function(){return re.version}});var L=__w_pdfjs_require__(1),re=__w_pdfjs_require__(4),v=__w_pdfjs_require__(5),u=__w_pdfjs_require__(20),le=__w_pdfjs_require__(13),J=__w_pdfjs_require__(3),ee=__w_pdfjs_require__(23),B=__w_pdfjs_require__(24),f=__w_pdfjs_require__(22);if(J.isNodeJS){const{PDFNodeStream:A}=__w_pdfjs_require__(25);(0,re.setPDFNetworkStreamFactory)(l=>new A(l))}else{const{PDFNetworkStream:A}=__w_pdfjs_require__(28),{PDFFetchStream:l}=__w_pdfjs_require__(29);(0,re.setPDFNetworkStreamFactory)(m=>(0,v.isValidFetchUrl)(m.url)?new l(m):new A(m))}})(),__webpack_exports__})(),module.exports=re()},2813:function(me,L,re){var J,v=re(7156).default;J=()=>(()=>{"use strict";var u=[,(B,f,M)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DefaultXfaLayerFactory=f.DefaultTextLayerFactory=f.DefaultStructTreeLayerFactory=f.DefaultAnnotationLayerFactory=void 0;var S=M(2),A=M(4),l=M(5),m=M(7),s=M(8),o=M(9);f.DefaultAnnotationLayerFactory=class p{createAnnotationLayerBuilder(a,P,b=null,w="",R=!0,D=A.NullL10n,I=!1,j=null,X=null,Y=null,ie=null){return new S.AnnotationLayerBuilder({pageDiv:a,pdfPage:P,imageResourcesPath:w,renderForms:R,linkService:new l.SimpleLinkService,l10n:D,annotationStorage:b,enableScripting:I,hasJSActionsPromise:j,fieldObjectsPromise:Y,mouseState:X,annotationCanvasMap:ie})}},f.DefaultStructTreeLayerFactory=class F{createStructTreeLayerBuilder(a){return new m.StructTreeLayerBuilder({pdfPage:a})}},f.DefaultTextLayerFactory=class C{createTextLayerBuilder(a,P,b,w=!1,R,D){return new s.TextLayerBuilder({textLayerDiv:a,pageIndex:P,viewport:b,enhanceTextSelection:w,eventBus:R,highlighter:D})}},f.DefaultXfaLayerFactory=class y{createXfaLayerBuilder(a,P,b=null,w=null){return new o.XfaLayerBuilder({pageDiv:a,pdfPage:P,annotationStorage:b,linkService:new l.SimpleLinkService,xfaHtml:w})}}},(B,f,M)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.AnnotationLayerBuilder=void 0;var S=M(3),A=M(4);f.AnnotationLayerBuilder=class l{constructor({pageDiv:s,pdfPage:o,linkService:p,downloadManager:F,annotationStorage:C=null,imageResourcesPath:y="",renderForms:r=!0,l10n:a=A.NullL10n,enableScripting:P=!1,hasJSActionsPromise:b=null,fieldObjectsPromise:w=null,mouseState:R=null,annotationCanvasMap:D=null}){this.pageDiv=s,this.pdfPage=o,this.linkService=p,this.downloadManager=F,this.imageResourcesPath=y,this.renderForms=r,this.l10n=a,this.annotationStorage=C,this.enableScripting=P,this._hasJSActionsPromise=b,this._fieldObjectsPromise=w,this._mouseState=R,this._annotationCanvasMap=D,this.div=null,this._cancelled=!1}render(s,o="display"){var p=this;return v(function*(){const[F,C=!1,y=null]=yield Promise.all([p.pdfPage.getAnnotations({intent:o}),p._hasJSActionsPromise,p._fieldObjectsPromise]);if(p._cancelled||0===F.length)return;const r={viewport:s.clone({dontFlip:!0}),div:p.div,annotations:F,page:p.pdfPage,imageResourcesPath:p.imageResourcesPath,renderForms:p.renderForms,linkService:p.linkService,downloadManager:p.downloadManager,annotationStorage:p.annotationStorage,enableScripting:p.enableScripting,hasJSActions:C,fieldObjects:y,mouseState:p._mouseState,annotationCanvasMap:p._annotationCanvasMap};p.div?S.AnnotationLayer.update(r):(p.div=document.createElement("div"),p.div.className="annotationLayer",p.pageDiv.appendChild(p.div),r.div=p.div,S.AnnotationLayer.render(r),p.l10n.translate(p.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},B=>{let f;f=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:re(6036),B.exports=f},(B,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.NullL10n=void 0,f.fixupLangCode=function l(o){return A[o?.toLowerCase()]||o},f.getL10nFallback=S;const M={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function S(o,p){switch(o){case"find_match_count":o=`find_match_count[${1===p.total?"one":"other"}]`;break;case"find_match_count_limit":o=`find_match_count_limit[${1===p.limit?"one":"other"}]`}return M[o]||""}const A={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};f.NullL10n={getLanguage:()=>v(function*(){return"en-us"})(),getDirection:()=>v(function*(){return"ltr"})(),get:(o,p=null,F=S(o,p))=>v(function*(){return function m(o,p){return p?o.replace(/\{\{\s*(\w+)\s*\}\}/g,(F,C)=>C in p?p[C]:"{{"+C+"}}"):o}(F,p)})(),translate:o=>v(function*(){})()}},(B,f,M)=>{var p,F,Xt,y,ni;Object.defineProperty(f,"__esModule",{value:!0}),f.SimpleLinkService=f.PDFLinkService=f.LinkTarget=void 0;var S=M(6);const l={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function m(P,{url:b,target:w,rel:R,enabled:D=!0}={}){if(!b||"string"!=typeof b)throw new Error('A valid "url" parameter must provided.');const I=(0,S.removeNullCharacters)(b);D?P.href=P.title=I:(P.href="",P.title=`Disabled: ${I}`,P.onclick=()=>!1);let j="";switch(w){case l.NONE:break;case l.SELF:j="_self";break;case l.BLANK:j="_blank";break;case l.PARENT:j="_parent";break;case l.TOP:j="_top"}P.target=j,P.rel="string"==typeof R?R:"noopener noreferrer nofollow"}f.LinkTarget=l;const a=class{constructor({eventBus:b,externalLinkTarget:w=null,externalLinkRel:R=null,ignoreDestinationZoom:D=!1}={}){Ee(this,F),Ee(this,p,new Map),this.eventBus=b,this.externalLinkTarget=w,this.externalLinkRel=R,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=D,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(b,w=null){this.baseUrl=w,this.pdfDocument=b,we(this,p).clear()}setViewer(b){this.pdfViewer=b}setHistory(b){this.pdfHistory=b}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(b){this.pdfViewer.currentPageNumber=b}get rotation(){return this.pdfViewer.pagesRotation}set rotation(b){this.pdfViewer.pagesRotation=b}goToDestination(b){var w=this;return v(function*(){var I;if(!w.pdfDocument)return;let R,D;"string"==typeof b?(R=b,D=yield w.pdfDocument.getDestination(b)):(R=null,D=yield b),Array.isArray(D)?xe(I=w,F,Xt).call(I,b,R,D):console.error(`PDFLinkService.goToDestination: "${D}" is not a valid destination array, for dest="${b}".`)})()}goToPage(b){if(!this.pdfDocument)return;const w="string"==typeof b&&this.pdfViewer.pageLabelToPageNumber(b)||0|b;Number.isInteger(w)&&w>0&&w<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(w)),this.pdfViewer.scrollPageIntoView({pageNumber:w})):console.error(`PDFLinkService.goToPage: "${b}" is not a valid page.`)}addLinkAttributes(b,w,R=!1){m(b,{url:w,target:R?l.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(b){if("string"==typeof b){if(b.length>0)return this.getAnchorUrl("#"+escape(b))}else if(Array.isArray(b)){const w=JSON.stringify(b);if(w.length>0)return this.getAnchorUrl("#"+escape(w))}return this.getAnchorUrl("")}getAnchorUrl(b){return(this.baseUrl||"")+b}setHash(b){var D;if(!this.pdfDocument)return;let w,R;if(b.includes("=")){const I=(0,S.parseQueryString)(b);if(I.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:I.get("search").replace(/"/g,""),phraseSearch:"true"===I.get("phrase")}),I.has("page")&&(w=0|I.get("page")||1),I.has("zoom")){const j=I.get("zoom").split(","),X=j[0],Y=parseFloat(X);X.includes("Fit")?"Fit"===X||"FitB"===X?R=[null,{name:X}]:"FitH"===X||"FitBH"===X||"FitV"===X||"FitBV"===X?R=[null,{name:X},j.length>1?0|j[1]:null]:"FitR"===X?5!==j.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):R=[null,{name:X},0|j[1],0|j[2],0|j[3],0|j[4]]:console.error(`PDFLinkService.setHash: "${X}" is not a valid zoom value.`):R=[null,{name:"XYZ"},j.length>1?0|j[1]:null,j.length>2?0|j[2]:null,Y?Y/100:X]}R?this.pdfViewer.scrollPageIntoView({pageNumber:w||this.page,destArray:R,allowNegativeOffset:!0}):w&&(this.page=w),I.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:I.get("pagemode")}),I.has("nameddest")&&this.goToDestination(I.get("nameddest"))}else{R=unescape(b);try{R=JSON.parse(R),Array.isArray(R)||(R=R.toString())}catch{}if("string"==typeof R||xe(D=a,y,ni).call(D,R))return void this.goToDestination(R);console.error(`PDFLinkService.setHash: "${unescape(b)}" is not a valid destination.`)}}executeNamedAction(b){switch(b){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:b})}cachePageRef(b,w){if(!w)return;const R=0===w.gen?`${w.num}R`:`${w.num}R${w.gen}`;we(this,p).set(R,b)}_cachedPageNumber(b){if(!b)return null;const w=0===b.gen?`${b.num}R`:`${b.num}R${b.gen}`;return we(this,p).get(w)||null}isPageVisible(b){return this.pdfViewer.isPageVisible(b)}isPageCached(b){return this.pdfViewer.isPageCached(b)}};let s=a;p=new WeakMap,F=new WeakSet,Xt=function(b,w=null,R){const D=R[0];let I;if("object"==typeof D&&null!==D){if(I=this._cachedPageNumber(D),!I)return void this.pdfDocument.getPageIndex(D).then(j=>{this.cachePageRef(j+1,D),xe(this,F,Xt).call(this,b,w,R)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${D}" is not a valid page reference, for dest="${b}".`)})}else{if(!Number.isInteger(D))return void console.error(`PDFLinkService.#goToDestinationHelper: "${D}" is not a valid destination reference, for dest="${b}".`);I=D+1}!I||I<1||I>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${I}" is not a valid page number, for dest="${b}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:w,explicitDest:R,pageNumber:I})),this.pdfViewer.scrollPageIntoView({pageNumber:I,destArray:R,ignoreDestinationZoom:this._ignoreDestinationZoom}))},y=new WeakSet,ni=function(b){if(!Array.isArray(b))return!1;const w=b.length;if(w<2)return!1;const R=b[0];if(!("object"==typeof R&&Number.isInteger(R.num)&&Number.isInteger(R.gen)||Number.isInteger(R)&&R>=0))return!1;const D=b[1];if("object"!=typeof D||"string"!=typeof D.name)return!1;let I=!0;switch(D.name){case"XYZ":if(5!==w)return!1;break;case"Fit":case"FitB":return 2===w;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==w)return!1;break;case"FitR":if(6!==w)return!1;I=!1;break;default:return!1}for(let j=2;j<w;j++){const X=b[j];if(!("number"==typeof X||I&&null===X))return!1}return!0},Ee(s,y),f.PDFLinkService=s,f.SimpleLinkService=class o{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(b){}get rotation(){return 0}set rotation(b){}goToDestination(b){return v(function*(){})()}goToPage(b){}addLinkAttributes(b,w,R=!1){m(b,{url:w,enabled:this.externalLinkEnabled})}getDestinationHash(b){return"#"}getAnchorUrl(b){return"#"}setHash(b){}executeNamedAction(b){}cachePageRef(b,w){}isPageVisible(b){return!0}isPageCached(b){return!0}}},(B,f)=>{var pe,ii;Object.defineProperty(f,"__esModule",{value:!0}),f.animationStarted=f.VERTICAL_PADDING=f.UNKNOWN_SCALE=f.TextLayerMode=f.SpreadMode=f.SidebarView=f.ScrollMode=f.SCROLLBAR_PADDING=f.RenderingStates=f.RendererType=f.ProgressBar=f.PresentationModeState=f.OutputScale=f.MIN_SCALE=f.MAX_SCALE=f.MAX_AUTO_SCALE=f.DEFAULT_SCALE_VALUE=f.DEFAULT_SCALE_DELTA=f.DEFAULT_SCALE=f.AutoPrintRegExp=void 0,f.apiPageLayoutToViewerModes=function K(ne){let de=b.VERTICAL,ce=w.NONE;switch(ne){case"SinglePage":de=b.PAGE;break;case"OneColumn":break;case"TwoPageLeft":de=b.PAGE;case"TwoColumnLeft":ce=w.ODD;break;case"TwoPageRight":de=b.PAGE;case"TwoColumnRight":ce=w.EVEN}return{scrollMode:de,spreadMode:ce}},f.apiPageModeToSidebarView=function ae(ne){switch(ne){case"UseNone":return r.NONE;case"UseThumbs":return r.THUMBS;case"UseOutlines":return r.OUTLINE;case"UseAttachments":return r.ATTACHMENTS;case"UseOC":return r.LAYERS}return r.NONE},f.approximateFraction=function te(ne){if(Math.floor(ne)===ne)return[ne,1];const de=1/ne;if(de>8)return[1,8];if(Math.floor(de)===de)return[1,de];const x=ne>1?de:ne;let ge,U=0,Q=1,be=1,_e=1;for(;;){const Se=U+be,ve=Q+_e;if(ve>8)break;x<=Se/ve?(be=Se,_e=ve):(U=Se,Q=ve)}return ge=x-U/Q<be/_e-x?x===ne?[U,Q]:[Q,U]:x===ne?[be,_e]:[_e,be],ge},f.backtrackBeforeAllVisibleElements=O,f.binarySearchFirstItem=Z,f.getActiveOrFocusedElement=function $(){let ne=document,de=ne.activeElement||ne.querySelector(":focus");for(;de?.shadowRoot;)ne=de.shadowRoot,de=ne.activeElement||ne.querySelector(":focus");return de},f.getPageSizeInches=function he({view:ne,userUnit:de,rotate:ce}){const[x,U,Q,be]=ne,_e=ce%180!=0,ge=(Q-x)/72*de,Se=(be-U)/72*de;return{width:_e?Se:ge,height:_e?ge:Se}},f.getVisibleElements=function c({scrollEl:ne,views:de,sortByVisibility:ce=!1,horizontal:x=!1,rtl:U=!1}){const Q=ne.scrollTop,be=Q+ne.clientHeight,_e=ne.scrollLeft,ge=_e+ne.clientWidth,Me=[],Fe=new Set,De=de.length;let se=Z(de,x?function ve(fe){const ye=fe.div,Ae=ye.offsetLeft+ye.clientLeft;return U?Ae<ge:Ae+ye.clientWidth>_e}:function Se(fe){const ye=fe.div;return ye.offsetTop+ye.clientTop+ye.clientHeight>Q});se>0&&se<De&&!x&&(se=O(se,de,Q));let N=x?ge:-1;for(let fe=se;fe<De;fe++){const ye=de[fe],Ae=ye.div,Te=Ae.offsetLeft+Ae.clientLeft,Oe=Ae.offsetTop+Ae.clientTop,Ve=Ae.clientWidth,Le=Ae.clientHeight,Be=Te+Ve,Ue=Oe+Le;if(-1===N)Ue>=be&&(N=Ue);else if((x?Te:Oe)>N)break;if(Ue<=Q||Oe>=be||Be<=_e||Te>=ge)continue;const Ne=Math.max(0,Q-Oe)+Math.max(0,Ue-be),Ye=(Ve-(Math.max(0,_e-Te)+Math.max(0,Be-ge)))/Ve;Me.push({id:ye.id,x:Te,y:Oe,view:ye,percent:(Le-Ne)/Le*Ye*100|0,widthPercent:100*Ye|0}),Fe.add(ye.id)}const V=Me[0],ue=Me[Me.length-1];return ce&&Me.sort(function(fe,ye){const Ae=fe.percent-ye.percent;return Math.abs(Ae)>.001?-Ae:fe.id-ye.id}),{first:V,last:ue,views:Me,ids:Fe}},f.isPortraitOrientation=function k(ne){return ne.width<=ne.height},f.isValidRotation=function _(ne){return Number.isInteger(ne)&&ne%90==0},f.isValidScrollMode=function T(ne){return Number.isInteger(ne)&&Object.values(b).includes(ne)&&ne!==b.UNKNOWN},f.isValidSpreadMode=function E(ne){return Number.isInteger(ne)&&Object.values(w).includes(ne)&&ne!==w.UNKNOWN},f.noContextMenuHandler=function h(ne){ne.preventDefault()},f.normalizeWheelEventDelta=function d(ne){let de=t(ne);return 0===ne.deltaMode?de/=900:1===ne.deltaMode&&(de/=30),de},f.normalizeWheelEventDirection=t,f.parseQueryString=function X(ne){const de=new Map;for(const[ce,x]of new URLSearchParams(ne))de.set(ce.toLowerCase(),x);return de},f.removeNullCharacters=function G(ne,de=!1){return"string"!=typeof ne?(console.error("The argument must be a string."),ne):(de&&(ne=ne.replace(ie," ")),ne.replace(Y,""))},f.roundToDivide=function oe(ne,de){const ce=ne%de;return 0===ce?ne:Math.round(ne-ce+de)},f.scrollIntoView=function I(ne,de,ce=!1){let x=ne.offsetParent;if(!x)return void console.error("offsetParent is not set -- cannot scroll");let U=ne.offsetTop+ne.clientTop,Q=ne.offsetLeft+ne.clientLeft;for(;x.clientHeight===x.scrollHeight&&x.clientWidth===x.scrollWidth||ce&&(x.classList.contains("markedContent")||"hidden"===getComputedStyle(x).overflow);)if(U+=x.offsetTop,Q+=x.offsetLeft,x=x.offsetParent,!x)return;de&&(void 0!==de.top&&(U+=de.top),void 0!==de.left&&(Q+=de.left,x.scrollLeft=Q)),x.scrollTop=U},f.watchScroll=function j(ne,de){const ce=function(Q){U||(U=window.requestAnimationFrame(function(){U=null;const _e=ne.scrollLeft,ge=x.lastX;_e!==ge&&(x.right=_e>ge),x.lastX=_e;const Se=ne.scrollTop,ve=x.lastY;Se!==ve&&(x.down=Se>ve),x.lastY=Se,de(x)}))},x={right:!0,down:!0,lastX:ne.scrollLeft,lastY:ne.scrollTop,_eventHandler:ce};let U=null;return ne.addEventListener("scroll",ce,!0),x},f.DEFAULT_SCALE_VALUE="auto",f.DEFAULT_SCALE=1,f.DEFAULT_SCALE_DELTA=1.1,f.MIN_SCALE=.1,f.MAX_SCALE=10,f.UNKNOWN_SCALE=0,f.MAX_AUTO_SCALE=1.25,f.SCROLLBAR_PADDING=40,f.VERTICAL_PADDING=5,f.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},f.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const r={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};f.SidebarView=r,f.RendererType={CANVAS:"canvas",SVG:"svg"},f.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const b={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};f.ScrollMode=b;const w={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};f.SpreadMode=w,f.AutoPrintRegExp=/\bprint\s*\(/,f.OutputScale=class D{constructor(){const de=window.devicePixelRatio||1;this.sx=de,this.sy=de}get scaled(){return 1!==this.sx||1!==this.sy}};const Y=/\x00/g,ie=/[\x01-\x1F]/g;function Z(ne,de,ce=0){let x=ce,U=ne.length-1;if(U<0||!de(ne[U]))return ne.length;if(de(ne[x]))return x;for(;x<U;){const Q=x+U>>1;de(ne[Q])?U=Q:x=Q+1}return x}function O(ne,de,ce){if(ne<2)return ne;let x=de[ne].div,U=x.offsetTop+x.clientTop;U>=ce&&(x=de[ne-1].div,U=x.offsetTop+x.clientTop);for(let Q=ne-2;Q>=0&&(x=de[Q].div,!(x.offsetTop+x.clientTop+x.clientHeight<=U));--Q)ne=Q;return ne}function t(ne){let de=Math.hypot(ne.deltaX,ne.deltaY);const ce=Math.atan2(ne.deltaY,ne.deltaX);return-.25*Math.PI<ce&&ce<.75*Math.PI&&(de=-de),de}const W=new Promise(function(ne){window.requestAnimationFrame(ne)});f.animationStarted=W,pe=new WeakSet,ii=function(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))},f.ProgressBar=class H{constructor(de){if(Ee(this,pe),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(de+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(de){this._indeterminate=isNaN(de),this._percent=function z(ne,de,ce){return Math.min(Math.max(ne,de),ce)}(de,0,100),xe(this,pe,ii).call(this)}setWidth(de){if(!de)return;const x=de.parentNode.offsetWidth-de.offsetWidth;x>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${x}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(B,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.StructTreeLayerBuilder=void 0;const M={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},S=/^H(\d+)$/;f.StructTreeLayerBuilder=class A{constructor({pdfPage:m}){this.pdfPage=m}render(m){return this._walk(m)}_setAttributes(m,s){void 0!==m.alt&&s.setAttribute("aria-label",m.alt),void 0!==m.id&&s.setAttribute("aria-owns",m.id),void 0!==m.lang&&s.setAttribute("lang",m.lang)}_walk(m){if(!m)return null;const s=document.createElement("span");if("role"in m){const{role:o}=m,p=o.match(S);p?(s.setAttribute("role","heading"),s.setAttribute("aria-level",p[1])):M[o]&&s.setAttribute("role",M[o])}if(this._setAttributes(m,s),m.children)if(1===m.children.length&&"id"in m.children[0])this._setAttributes(m.children[0],s);else for(const o of m.children)s.appendChild(this._walk(o));return s}}},(B,f,M)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.TextLayerBuilder=void 0;var S=M(3);f.TextLayerBuilder=class l{constructor({textLayerDiv:s,eventBus:o,pageIndex:p,viewport:F,highlighter:C=null,enhanceTextSelection:y=!1}){this.textLayerDiv=s,this.eventBus=o,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=p+1,this.viewport=F,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=C,this.enhanceTextSelection=y,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const s=document.createElement("div");s.className="endOfContent",this.textLayerDiv.appendChild(s)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(s=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const o=document.createDocumentFragment();this.textLayerRenderTask=(0,S.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:o,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:s,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(o),this._finishRendering(),this.highlighter?.enable()},function(p){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(s){this.cancel(),this.textContentStream=s}setTextContent(s){this.cancel(),this.textContent=s}_bindMouse(){const s=this.textLayerDiv;let o=null;s.addEventListener("mousedown",p=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(o&&(clearTimeout(o),o=null));const F=s.querySelector(".endOfContent");if(!F)return;let C=p.target!==s;if(C=C&&"none"!==window.getComputedStyle(F).getPropertyValue("-moz-user-select"),C){const y=s.getBoundingClientRect(),r=Math.max(0,(p.pageY-y.top)/y.height);F.style.top=(100*r).toFixed(2)+"%"}F.classList.add("active")}),s.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(o=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),o=null},300));const p=s.querySelector(".endOfContent");!p||(p.style.top="",p.classList.remove("active"))})}}},(B,f,M)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.XfaLayerBuilder=void 0;var S=M(3);f.XfaLayerBuilder=class A{constructor({pageDiv:m,pdfPage:s,annotationStorage:o=null,linkService:p,xfaHtml:F=null}){this.pageDiv=m,this.pdfPage=s,this.annotationStorage=o,this.linkService=p,this.xfaHtml=F,this.div=null,this._cancelled=!1}render(m,s="display"){if("print"===s){const o={viewport:m.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:s},p=document.createElement("div");this.pageDiv.appendChild(p),o.div=p;const F=S.XfaLayer.render(o);return Promise.resolve(F)}return this.pdfPage.getXfa().then(o=>{if(this._cancelled||!o)return{textDivs:[]};const p={viewport:m.clone({dontFlip:!0}),div:this.div,xfaHtml:o,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:s};return this.div?S.XfaLayer.update(p):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),p.div=this.div,S.XfaLayer.render(p))}).catch(o=>{console.error(o)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(B,f,M)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFViewer=f.PDFSinglePageViewer=void 0;var S=M(6),A=M(11);f.PDFViewer=class l extends A.BaseViewer{},f.PDFSinglePageViewer=class m extends A.BaseViewer{_resetView(){super._resetView(),this._scrollMode=S.ScrollMode.PAGE,this._spreadMode=S.SpreadMode.NONE}set scrollMode(o){}_updateScrollMode(){}set spreadMode(o){}_updateSpreadMode(){}}},(B,f,M)=>{var D,I,j,$t,Y,ie,G,Z,te,oe,he,O,ri,h,si,d,lt,T,vt,k,ai,z,Yt,$,oi,ae,li,Pe,ci;Object.defineProperty(f,"__esModule",{value:!0}),f.PagesCountLimit=f.PDFPageViewBuffer=f.BaseViewer=void 0;var S=M(3),A=M(6),l=M(2),m=M(4),s=M(12),o=M(14),p=M(5),F=M(7),C=M(15),y=M(8),r=M(9);const P="enablePermissions",b={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};f.PagesCountLimit=b;class w{constructor(x){Ee(this,j),Ee(this,D,new Set),Ee(this,I,0),je(this,I,x)}push(x){const U=we(this,D);U.has(x)&&U.delete(x),U.add(x),U.size>we(this,I)&&xe(this,j,$t).call(this)}resize(x,U=null){je(this,I,x);const Q=we(this,D);if(U){const be=Q.size;let _e=1;for(const ge of Q)if(U.has(ge.id)&&(Q.delete(ge),Q.add(ge)),++_e>be)break}for(;Q.size>we(this,I);)xe(this,j,$t).call(this)}has(x){return we(this,D).has(x)}[Symbol.iterator](){return we(this,D).keys()}}D=new WeakMap,I=new WeakMap,j=new WeakSet,$t=function(){const x=we(this,D).keys().next().value;x?.destroy(),we(this,D).delete(x)},f.PDFPageViewBuffer=w;const de=class{constructor(x){if(Ee(this,O),Ee(this,h),Ee(this,d),Ee(this,T),Ee(this,k),Ee(this,z),Ee(this,$),Ee(this,ae),Ee(this,Pe),Ee(this,Y,null),Ee(this,ie,S.AnnotationMode.ENABLE_FORMS),Ee(this,G,null),Ee(this,Z,!1),Ee(this,te,0),Ee(this,oe,null),Ee(this,he,null),this.constructor===de)throw new Error("Cannot initialize BaseViewer.");const U="2.14.305";if(S.version!==U)throw new Error(`The API version "${S.version}" does not match the Viewer version "${U}".`);if(this.container=x.container,this.viewer=x.viewer||x.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=x.eventBus,this.linkService=x.linkService||new p.SimpleLinkService,this.downloadManager=x.downloadManager||null,this.findController=x.findController||null,this._scriptingManager=x.scriptingManager||null,this.removePageBorders=x.removePageBorders||!1,this.textLayerMode=x.textLayerMode??A.TextLayerMode.ENABLE,je(this,ie,x.annotationMode??S.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=x.imageResourcesPath||"",this.enablePrintAutoRotate=x.enablePrintAutoRotate||!1,this.renderer=x.renderer||A.RendererType.CANVAS,this.useOnlyCssZoom=x.useOnlyCssZoom||!1,this.maxCanvasPixels=x.maxCanvasPixels,this.l10n=x.l10n||m.NullL10n,je(this,Z,x.enablePermissions||!1),this.pageColors=x.pageColors||null,x.pageColors&&(!CSS.supports("color",x.pageColors.background)||!CSS.supports("color",x.pageColors.foreground))&&((x.pageColors.background||x.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!x.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new o.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=x.renderingQueue,this._doc=document.documentElement,this.scroll=(0,A.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=A.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(x){return this._pages[x]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(x){return x?.pdfPage})}get renderForms(){return we(this,ie)===S.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(x){if(!Number.isInteger(x))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(x,!0)||console.error(`currentPageNumber: "${x}" is not a valid page.`)}_setCurrentPageNumber(x,U=!1){if(this._currentPageNumber===x)return U&&xe(this,z,Yt).call(this),!0;if(!(0<x&&x<=this.pagesCount))return!1;const Q=this._currentPageNumber;return this._currentPageNumber=x,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:x,pageLabel:this._pageLabels?.[x-1]??null,previous:Q}),U&&xe(this,z,Yt).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(x){if(!this.pdfDocument)return;let U=0|x;if(this._pageLabels){const Q=this._pageLabels.indexOf(x);Q>=0&&(U=Q+1)}this._setCurrentPageNumber(U,!0)||console.error(`currentPageLabel: "${x}" is not a valid page.`)}get currentScale(){return this._currentScale!==A.UNKNOWN_SCALE?this._currentScale:A.DEFAULT_SCALE}set currentScale(x){if(isNaN(x))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(x,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(x){!this.pdfDocument||this._setScale(x,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(x){if(!(0,A.isValidRotation)(x))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((x%=360)<0&&(x+=360),this._pagesRotation===x))return;this._pagesRotation=x;const U=this._currentPageNumber,Q={rotation:x};for(const be of this._pages)be.update(Q);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:x,pageNumber:U}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(x){var U=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=x,!x)return;const Q=x.isPureXfa,be=x.numPages,_e=x.getPage(1),ge=x.getOptionalContentConfig(),Se=we(this,Z)?x.getPermissions():Promise.resolve();if(be>b.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const ve=this._scrollMode=A.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ve})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:be})},()=>{}),this._onBeforeDraw=ve=>{const Me=this._pages[ve.pageNumber-1];!Me||we(this,Y).push(Me)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=ve=>{ve.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:ve.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,we(this,he)&&(document.removeEventListener("visibilitychange",we(this,he)),je(this,he,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([_e,Se]).then(([ve,Me])=>{if(x!==this.pdfDocument)return;this._firstPageCapability.resolve(ve),this._optionalContentConfigPromise=ge,xe(this,O,ri).call(this,Me);const Fe=this._scrollMode===A.ScrollMode.PAGE?null:this.viewer,De=this.currentScale,se=ve.getViewport({scale:De*S.PixelsPerInch.PDF_TO_CSS_UNITS}),N=this.textLayerMode===A.TextLayerMode.DISABLE||Q?null:this,V=we(this,ie)!==S.AnnotationMode.DISABLE?this:null,ue=Q?this:null;for(let ye=1;ye<=be;++ye){const Ae=new s.PDFPageView({container:Fe,eventBus:this.eventBus,id:ye,scale:De,defaultViewport:se.clone(),optionalContentConfigPromise:ge,renderingQueue:this.renderingQueue,textLayerFactory:N,textLayerMode:this.textLayerMode,annotationLayerFactory:V,annotationMode:we(this,ie),xfaLayerFactory:ue,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(Ae)}const fe=this._pages[0];fe&&(fe.setPdfPage(ve),this.linkService.cachePageRef(1,ve.ref)),this._scrollMode===A.ScrollMode.PAGE?xe(this,d,lt).call(this):this._spreadMode!==A.SpreadMode.NONE&&this._updateSpreadMode(),xe(this,h,si).call(this).then(v(function*(){if(U.findController&&U.findController.setDocument(x),U._scriptingManager&&U._scriptingManager.setDocument(x),x.loadingParams.disableAutoFetch||be>b.FORCE_LAZY_PAGE_INIT)return void U._pagesCapability.resolve();let ye=be-1;if(ye<=0)U._pagesCapability.resolve();else for(let Ae=2;Ae<=be;++Ae){const Te=x.getPage(Ae).then(Oe=>{const Ve=U._pages[Ae-1];Ve.pdfPage||Ve.setPdfPage(Oe),U.linkService.cachePageRef(Ae,Oe.ref),0==--ye&&U._pagesCapability.resolve()},Oe=>{console.error(`Unable to get page ${Ae} to initialize viewer`,Oe),0==--ye&&U._pagesCapability.resolve()});Ae%b.PAUSE_EAGER_PAGE_INIT==0&&(yield Te)}})),this.eventBus.dispatch("pagesinit",{source:this}),x.getMetadata().then(({info:ye})=>{x===this.pdfDocument&&ye.Language&&(this.viewer.lang=ye.Language)}),this.defaultRenderingQueue&&this.update()}).catch(ve=>{console.error("Unable to initialize viewer",ve),this._pagesCapability.reject(ve)})}setPageLabels(x){if(this.pdfDocument){x?Array.isArray(x)&&this.pdfDocument.numPages===x.length?this._pageLabels=x:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let U=0,Q=this._pages.length;U<Q;U++)this._pages[U].setPageLabel(this._pageLabels?.[U]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=A.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,je(this,Y,new w(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,S.createPromiseCapability)(),this._onePageRenderedCapability=(0,S.createPromiseCapability)(),this._pagesCapability=(0,S.createPromiseCapability)(),this._scrollMode=A.ScrollMode.VERTICAL,this._previousScrollMode=A.ScrollMode.UNKNOWN,this._spreadMode=A.SpreadMode.NONE,je(this,oe,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),we(this,he)&&(document.removeEventListener("visibilitychange",we(this,he)),je(this,he,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(P),null!==we(this,G)&&(je(this,ie,we(this,G)),je(this,G,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(x,U,Q=!1,be=!1){if(this._currentScaleValue=U.toString(),xe(this,k,ai).call(this,x))return void(be&&this.eventBus.dispatch("scalechanging",{source:this,scale:x,presetValue:U}));this._doc.style.setProperty("--zoom-factor",x);const _e={scale:x};for(const ge of this._pages)ge.update(_e);if(this._currentScale=x,!Q){let Se,ge=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(ge=this._location.pageNumber,Se=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:ge,destArray:Se,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:x,presetValue:be?U:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==A.SpreadMode.NONE&&this._scrollMode!==A.ScrollMode.HORIZONTAL?2:1}_setScale(x,U=!1){let Q=parseFloat(x);if(Q>0)this._setScaleUpdatePages(Q,x,U,!1);else{const be=this._pages[this._currentPageNumber-1];if(!be)return;let _e=A.SCROLLBAR_PADDING,ge=A.VERTICAL_PADDING;this.isInPresentationMode?_e=ge=4:this.removePageBorders?_e=ge=0:this._scrollMode===A.ScrollMode.HORIZONTAL&&([_e,ge]=[ge,_e]);const Se=(this.container.clientWidth-_e)/be.width*be.scale/this._pageWidthScaleFactor,ve=(this.container.clientHeight-ge)/be.height*be.scale;switch(x){case"page-actual":Q=1;break;case"page-width":Q=Se;break;case"page-height":Q=ve;break;case"page-fit":Q=Math.min(Se,ve);break;case"auto":const Me=(0,A.isPortraitOrientation)(be)?Se:Math.min(ve,Se);Q=Math.min(A.MAX_AUTO_SCALE,Me);break;default:return void console.error(`_setScale: "${x}" is an unknown zoom value.`)}this._setScaleUpdatePages(Q,x,U,!0)}}pageLabelToPageNumber(x){if(!this._pageLabels)return null;const U=this._pageLabels.indexOf(x);return U<0?null:U+1}scrollPageIntoView({pageNumber:x,destArray:U=null,allowNegativeOffset:Q=!1,ignoreDestinationZoom:be=!1}){if(!this.pdfDocument)return;const _e=Number.isInteger(x)&&this._pages[x-1];if(!_e)return void console.error(`scrollPageIntoView: "${x}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!U)return void this._setCurrentPageNumber(x,!0);let Fe,De,ge=0,Se=0,ve=0,Me=0;const se=_e.rotation%180!=0,N=(se?_e.height:_e.width)/_e.scale/S.PixelsPerInch.PDF_TO_CSS_UNITS,V=(se?_e.width:_e.height)/_e.scale/S.PixelsPerInch.PDF_TO_CSS_UNITS;let ue=0;switch(U[1].name){case"XYZ":ge=U[2],Se=U[3],ue=U[4],ge=null!==ge?ge:0,Se=null!==Se?Se:V;break;case"Fit":case"FitB":ue="page-fit";break;case"FitH":case"FitBH":Se=U[2],ue="page-width",null===Se&&this._location?(ge=this._location.left,Se=this._location.top):("number"!=typeof Se||Se<0)&&(Se=V);break;case"FitV":case"FitBV":ge=U[2],ve=N,Me=V,ue="page-height";break;case"FitR":ge=U[2],Se=U[3],ve=U[4]-ge,Me=U[5]-Se,Fe=(this.container.clientWidth-(this.removePageBorders?0:A.SCROLLBAR_PADDING))/ve/S.PixelsPerInch.PDF_TO_CSS_UNITS,De=(this.container.clientHeight-(this.removePageBorders?0:A.VERTICAL_PADDING))/Me/S.PixelsPerInch.PDF_TO_CSS_UNITS,ue=Math.min(Math.abs(Fe),Math.abs(De));break;default:return void console.error(`scrollPageIntoView: "${U[1].name}" is not a valid destination type.`)}if(be||(ue&&ue!==this._currentScale?this.currentScaleValue=ue:this._currentScale===A.UNKNOWN_SCALE&&(this.currentScaleValue=A.DEFAULT_SCALE_VALUE)),"page-fit"===ue&&!U[4])return void xe(this,T,vt).call(this,_e);const fe=[_e.viewport.convertToViewportPoint(ge,Se),_e.viewport.convertToViewportPoint(ge+ve,Se+Me)];let ye=Math.min(fe[0][0],fe[1][0]),Ae=Math.min(fe[0][1],fe[1][1]);Q||(ye=Math.max(ye,0),Ae=Math.max(Ae,0)),xe(this,T,vt).call(this,_e,{left:ye,top:Ae})}_updateLocation(x){const U=this._currentScale,Q=this._currentScaleValue,be=parseFloat(Q)===U?Math.round(1e4*U)/100:Q,_e=x.id,Se=this.container,ve=this._pages[_e-1].getPagePoint(Se.scrollLeft-x.x,Se.scrollTop-x.y),Me=Math.round(ve[0]),Fe=Math.round(ve[1]);let De=`#page=${_e}`;this.isInPresentationMode||(De+=`&zoom=${be},${Me},${Fe}`),this._location={pageNumber:_e,scale:be,top:Fe,left:Me,rotation:this._pagesRotation,pdfOpenParams:De}}update(){const x=this._getVisiblePages(),U=x.views,Q=U.length;if(0===Q)return;const be=Math.max(10,2*Q+1);we(this,Y).resize(be,x.ids),this.renderingQueue.renderHighestPriority(x);const _e=this._spreadMode===A.SpreadMode.NONE&&(this._scrollMode===A.ScrollMode.PAGE||this._scrollMode===A.ScrollMode.VERTICAL),ge=this._currentPageNumber;let Se=!1;for(const ve of U){if(ve.percent<100)break;if(ve.id===ge&&_e){Se=!0;break}}this._setCurrentPageNumber(Se?ge:U[0].id),this._updateLocation(x.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(x){return this.container.contains(x)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===A.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===A.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const x=this._scrollMode===A.ScrollMode.PAGE?we(this,oe).pages:this._pages,U=this._scrollMode===A.ScrollMode.HORIZONTAL;return(0,A.getVisibleElements)({scrollEl:this.container,views:x,sortByVisibility:!0,horizontal:U,rtl:U&&this._isContainerRtl})}isPageVisible(x){return!!this.pdfDocument&&(Number.isInteger(x)&&x>0&&x<=this.pagesCount?this._getVisiblePages().ids.has(x):(console.error(`isPageVisible: "${x}" is not a valid page.`),!1))}isPageCached(x){if(!this.pdfDocument)return!1;if(!(Number.isInteger(x)&&x>0&&x<=this.pagesCount))return console.error(`isPageCached: "${x}" is not a valid page.`),!1;const U=this._pages[x-1];return we(this,Y).has(U)}cleanup(){for(const x of this._pages)x.renderingState!==A.RenderingStates.FINISHED&&x.reset()}_cancelRendering(){for(const x of this._pages)x.cancelRendering()}forceRendering(x){const U=x||this._getVisiblePages(),Q=xe(this,ae,li).call(this,U),_e=this.renderingQueue.getHighestPriority(U,this._pages,Q,this._spreadMode!==A.SpreadMode.NONE&&this._scrollMode!==A.ScrollMode.HORIZONTAL);return xe(this,Pe,ci).call(this,U.ids),!!_e&&(xe(this,$,oi).call(this,_e).then(()=>{this.renderingQueue.renderView(_e)}),!0)}createTextLayerBuilder(x,U,Q,be=!1,_e,ge){return new y.TextLayerBuilder({textLayerDiv:x,eventBus:_e,pageIndex:U,viewport:Q,enhanceTextSelection:!this.isInPresentationMode&&be,highlighter:ge})}createTextHighlighter(x,U){return new C.TextHighlighter({eventBus:U,pageIndex:x,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(x,U,Q=null,be="",_e=!0,ge=m.NullL10n,Se=null,ve=null,Me=null,Fe=null,De=null){return new l.AnnotationLayerBuilder({pageDiv:x,pdfPage:U,annotationStorage:Q||this.pdfDocument?.annotationStorage,imageResourcesPath:be,renderForms:_e,linkService:this.linkService,downloadManager:this.downloadManager,l10n:ge,enableScripting:Se??this.enableScripting,hasJSActionsPromise:ve||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Fe||this.pdfDocument?.getFieldObjects(),mouseState:Me||this._scriptingManager?.mouseState,annotationCanvasMap:De})}createXfaLayerBuilder(x,U,Q=null){return new r.XfaLayerBuilder({pageDiv:x,pdfPage:U,annotationStorage:Q||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(x){return new F.StructTreeLayerBuilder({pdfPage:x})}get hasEqualPageSizes(){const x=this._pages[0];for(let U=1,Q=this._pages.length;U<Q;++U){const be=this._pages[U];if(be.width!==x.width||be.height!==x.height)return!1}return!0}getPagesOverview(){return this._pages.map(x=>{const U=x.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,A.isPortraitOrientation)(U)?{width:U.width,height:U.height,rotation:U.rotation}:{width:U.height,height:U.width,rotation:(U.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(x){if(!(x instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${x}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=x;const U={optionalContentConfigPromise:x};for(const Q of this._pages)Q.update(U);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:x})}get scrollMode(){return this._scrollMode}set scrollMode(x){if(this._scrollMode!==x){if(!(0,A.isValidScrollMode)(x))throw new Error(`Invalid scroll mode: ${x}`);this.pagesCount>b.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=x,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:x}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(x=null){const U=this._scrollMode,Q=this.viewer;Q.classList.toggle("scrollHorizontal",U===A.ScrollMode.HORIZONTAL),Q.classList.toggle("scrollWrapped",U===A.ScrollMode.WRAPPED),this.pdfDocument&&x&&(U===A.ScrollMode.PAGE?xe(this,d,lt).call(this):this._previousScrollMode===A.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(x,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(x){if(this._spreadMode!==x){if(!(0,A.isValidSpreadMode)(x))throw new Error(`Invalid spread mode: ${x}`);this._spreadMode=x,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:x}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(x=null){if(!this.pdfDocument)return;const U=this.viewer,Q=this._pages;if(this._scrollMode===A.ScrollMode.PAGE)xe(this,d,lt).call(this);else if(U.textContent="",this._spreadMode===A.SpreadMode.NONE)for(const be of this._pages)U.appendChild(be.div);else{const be=this._spreadMode-1;let _e=null;for(let ge=0,Se=Q.length;ge<Se;++ge)null===_e?(_e=document.createElement("div"),_e.className="spread",U.appendChild(_e)):ge%2===be&&(_e=_e.cloneNode(!1),U.appendChild(_e)),_e.appendChild(Q[ge].div)}!x||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(x,!0),this.update())}_getPageAdvance(x,U=!1){switch(this._scrollMode){case A.ScrollMode.WRAPPED:{const{views:Q}=this._getVisiblePages(),be=new Map;for(const{id:_e,y:ge,percent:Se,widthPercent:ve}of Q){if(0===Se||ve<100)continue;let Me=be.get(ge);Me||be.set(ge,Me||(Me=[])),Me.push(_e)}for(const _e of be.values()){const ge=_e.indexOf(x);if(-1===ge)continue;const Se=_e.length;if(1===Se)break;if(U)for(let ve=ge-1,Me=0;ve>=Me;ve--){const De=_e[ve+1]-1;if(_e[ve]<De)return x-De}else for(let ve=ge+1,Me=Se;ve<Me;ve++){const De=_e[ve-1]+1;if(_e[ve]>De)return De-x}if(U){const ve=_e[0];if(ve<x)return x-ve+1}else{const ve=_e[Se-1];if(ve>x)return ve-x+1}break}break}case A.ScrollMode.HORIZONTAL:break;case A.ScrollMode.PAGE:case A.ScrollMode.VERTICAL:{if(this._spreadMode===A.SpreadMode.NONE)break;const Q=this._spreadMode-1;if(U&&x%2!==Q)break;if(!U&&x%2===Q)break;const{views:be}=this._getVisiblePages(),_e=U?x-1:x+1;for(const{id:ge,percent:Se,widthPercent:ve}of be)if(ge===_e){if(Se>0&&100===ve)return 2;break}break}}return 1}nextPage(){const x=this._currentPageNumber,U=this.pagesCount;if(x>=U)return!1;const Q=this._getPageAdvance(x,!1)||1;return this.currentPageNumber=Math.min(x+Q,U),!0}previousPage(){const x=this._currentPageNumber;if(x<=1)return!1;const U=this._getPageAdvance(x,!0)||1;return this.currentPageNumber=Math.max(x-U,1),!0}increaseScale(x=1){let U=this._currentScale;do{U=(U*A.DEFAULT_SCALE_DELTA).toFixed(2),U=Math.ceil(10*U)/10,U=Math.min(A.MAX_SCALE,U)}while(--x>0&&U<A.MAX_SCALE);this.currentScaleValue=U}decreaseScale(x=1){let U=this._currentScale;do{U=(U/A.DEFAULT_SCALE_DELTA).toFixed(2),U=Math.floor(10*U)/10,U=Math.max(A.MIN_SCALE,U)}while(--x>0&&U>A.MIN_SCALE);this.currentScaleValue=U}updateContainerHeightCss(){const x=this.container.clientHeight;x!==we(this,te)&&(je(this,te,x),this._doc.style.setProperty("--viewer-container-height",`${x}px`))}};let R=de;Y=new WeakMap,ie=new WeakMap,G=new WeakMap,Z=new WeakMap,te=new WeakMap,oe=new WeakMap,he=new WeakMap,O=new WeakSet,ri=function(x){!x||(x.includes(S.PermissionFlag.COPY)||this.viewer.classList.add(P),!x.includes(S.PermissionFlag.MODIFY_ANNOTATIONS)&&!x.includes(S.PermissionFlag.FILL_INTERACTIVE_FORMS)&&we(this,ie)===S.AnnotationMode.ENABLE_FORMS&&(je(this,G,we(this,ie)),je(this,ie,S.AnnotationMode.ENABLE)))},h=new WeakSet,si=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const x=new Promise(U=>{je(this,he,()=>{"hidden"===document.visibilityState&&(U(),document.removeEventListener("visibilitychange",we(this,he)),je(this,he,null))}),document.addEventListener("visibilitychange",we(this,he))});return Promise.race([this._onePageRenderedCapability.promise,x])},d=new WeakSet,lt=function(){if(this._scrollMode!==A.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const x=this._currentPageNumber,U=we(this,oe),Q=this.viewer;if(Q.textContent="",U.pages.length=0,this._spreadMode!==A.SpreadMode.NONE||this.isInPresentationMode){const be=new Set,_e=this._spreadMode-1;-1===_e?be.add(x-1):x%2!==_e?(be.add(x-1),be.add(x)):(be.add(x-2),be.add(x-1));const ge=document.createElement("div");if(ge.className="spread",this.isInPresentationMode){const Se=document.createElement("div");Se.className="dummyPage",ge.appendChild(Se)}for(const Se of be){const ve=this._pages[Se];!ve||(ge.appendChild(ve.div),U.pages.push(ve))}Q.appendChild(ge)}else{const be=this._pages[x-1];Q.appendChild(be.div),U.pages.push(be)}U.scrollDown=x>=U.previousPageNumber,U.previousPageNumber=x},T=new WeakSet,vt=function(x,U=null){const{div:Q,id:be}=x;if(this._scrollMode===A.ScrollMode.PAGE&&(this._setCurrentPageNumber(be),xe(this,d,lt).call(this),this.update()),!U&&!this.isInPresentationMode){const _e=Q.offsetLeft+Q.clientLeft,ge=_e+Q.clientWidth,{scrollLeft:Se,clientWidth:ve}=this.container;(this._scrollMode===A.ScrollMode.HORIZONTAL||_e<Se||ge>Se+ve)&&(U={left:0,top:0})}(0,A.scrollIntoView)(Q,U)},k=new WeakSet,ai=function(x){return x===this._currentScale||Math.abs(x-this._currentScale)<1e-15},z=new WeakSet,Yt=function(){const x=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),xe(this,T,vt).call(this,x)},$=new WeakSet,oi=function(x){var U=this;return v(function*(){if(x.pdfPage)return x.pdfPage;try{const Q=yield U.pdfDocument.getPage(x.id);return x.pdfPage||x.setPdfPage(Q),U.linkService._cachedPageNumber?.(Q.ref)||U.linkService.cachePageRef(x.id,Q.ref),Q}catch(Q){return console.error("Unable to get page for page view",Q),null}})()},ae=new WeakSet,li=function(x){if(1===x.first?.id)return!0;if(x.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case A.ScrollMode.PAGE:return we(this,oe).scrollDown;case A.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},Pe=new WeakSet,ci=function(x){for(const U of x)this._pages[U-1]?.toggleLoadingIconSpinner(!0);for(const U of we(this,Y))x.has(U.id)||U.toggleLoadingIconSpinner(!1)},f.BaseViewer=R},(B,f,M)=>{var p;Object.defineProperty(f,"__esModule",{value:!0}),f.PDFPageView=void 0;var S=M(3),A=M(6),l=M(13),m=M(4);const s=l.compatibilityParams.maxCanvasPixels||16777216;p=new WeakMap,f.PDFPageView=class o{constructor(C){Ee(this,p,S.AnnotationMode.ENABLE_FORMS);const y=C.container,r=C.defaultViewport;this.id=C.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=C.scale||A.DEFAULT_SCALE,this.viewport=r,this.pdfPageRotate=r.rotation,this._optionalContentConfigPromise=C.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=C.textLayerMode??A.TextLayerMode.ENABLE,je(this,p,C.annotationMode??S.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=C.imageResourcesPath||"",this.useOnlyCssZoom=C.useOnlyCssZoom||!1,this.maxCanvasPixels=C.maxCanvasPixels||s,this.pageColors=C.pageColors||null,this.eventBus=C.eventBus,this.renderingQueue=C.renderingQueue,this.textLayerFactory=C.textLayerFactory,this.annotationLayerFactory=C.annotationLayerFactory,this.xfaLayerFactory=C.xfaLayerFactory,this.textHighlighter=C.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=C.structTreeLayerFactory,this.renderer=C.renderer||A.RendererType.CANVAS,this.l10n=C.l10n||m.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=A.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const a=document.createElement("div");a.className="page",a.style.width=Math.floor(this.viewport.width)+"px",a.style.height=Math.floor(this.viewport.height)+"px",a.setAttribute("data-page-number",this.id),a.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(P=>{a.setAttribute("aria-label",P)}),this.div=a,y?.appendChild(a)}setPdfPage(C){this.pdfPage=C,this.pdfPageRotate=C.rotate,this.viewport=C.getViewport({scale:this.scale*S.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var C=this;return v(function*(){let y=null;try{yield C.annotationLayer.render(C.viewport,"display")}catch(r){y=r}finally{C.eventBus.dispatch("annotationlayerrendered",{source:C,pageNumber:C.id,error:y})}})()}_renderXfaLayer(){var C=this;return v(function*(){let y=null;try{const r=yield C.xfaLayer.render(C.viewport,"display");C.textHighlighter&&C._buildXfaTextContentItems(r.textDivs)}catch(r){y=r}finally{C.eventBus.dispatch("xfalayerrendered",{source:C,pageNumber:C.id,error:y})}})()}_buildXfaTextContentItems(C){var y=this;return v(function*(){const r=yield y.pdfPage.getTextContent(),a=[];for(const P of r.items)a.push(P.str);y.textHighlighter.setTextMapping(C,a),y.textHighlighter.enable()})()}_resetZoomLayer(C=!1){if(!this.zoomLayer)return;const y=this.zoomLayer.firstChild;this.paintedViewportMap.delete(y),y.width=0,y.height=0,C&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:C=!1,keepAnnotationLayer:y=!1,keepXfaLayer:r=!1}={}){this.cancelRendering({keepAnnotationLayer:y,keepXfaLayer:r}),this.renderingState=A.RenderingStates.INITIAL;const a=this.div;a.style.width=Math.floor(this.viewport.width)+"px",a.style.height=Math.floor(this.viewport.height)+"px";const P=a.childNodes,b=C&&this.zoomLayer||null,w=y&&this.annotationLayer?.div||null,R=r&&this.xfaLayer?.div||null;for(let D=P.length-1;D>=0;D--){const I=P[D];switch(I){case b:case w:case R:continue}I.remove()}a.removeAttribute("data-loaded"),w&&this.annotationLayer.hide(),R&&this.xfaLayer.hide(),b||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(D=>{this.loadingIconDiv?.setAttribute("aria-label",D)}),a.appendChild(this.loadingIconDiv)}update({scale:C=0,rotation:y=null,optionalContentConfigPromise:r=null}){if(this.scale=C||this.scale,"number"==typeof y&&(this.rotation=y),r instanceof Promise&&(this._optionalContentConfigPromise=r),this.viewport=this.viewport.clone({scale:this.scale*S.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:b}=document.documentElement;b.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let P=!1;if(this.canvas&&this.maxCanvasPixels>0){const b=this.outputScale;(Math.floor(this.viewport.width)*b.sx|0)*(Math.floor(this.viewport.height)*b.sy|0)>this.maxCanvasPixels&&(P=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&P)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:C=!1,keepXfaLayer:y=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!C||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!y||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:C,redrawAnnotationLayer:y=!1,redrawXfaLayer:r=!1}){const a=this.viewport.width,P=this.viewport.height,b=this.div;C.style.width=C.parentNode.style.width=b.style.width=Math.floor(a)+"px",C.style.height=C.parentNode.style.height=b.style.height=Math.floor(P)+"px";const w=this.viewport.rotation-this.paintedViewportMap.get(C).rotation,R=Math.abs(w);let D=1,I=1;if((90===R||270===R)&&(D=P/a,I=a/P),C.style.transform=`rotate(${w}deg) scale(${D}, ${I})`,this.textLayer){const j=this.textLayer.viewport,Y=Math.abs(this.viewport.rotation-j.rotation);let ie=a/j.width;(90===Y||270===Y)&&(ie=a/j.height);const G=this.textLayer.textLayerDiv;let Z,te;switch(Y){case 0:Z=te=0;break;case 90:Z=0,te="-"+G.style.height;break;case 180:Z="-"+G.style.width,te="-"+G.style.height;break;case 270:Z="-"+G.style.width,te=0;break;default:console.error("Bad rotation value.")}G.style.transform=`rotate(${Y}deg) scale(${ie}) translate(${Z}, ${te})`,G.style.transformOrigin="0% 0%"}y&&this.annotationLayer&&this._renderAnnotationLayer(),r&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(C,y){return this.viewport.convertToPdfPoint(C,y)}toggleLoadingIconSpinner(C=!1){this.loadingIconDiv?.classList.toggle("notVisible",!C)}draw(){var C=this;this.renderingState!==A.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:y,pdfPage:r}=this;if(!r)return this.renderingState=A.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=A.RenderingStates.RUNNING;const a=document.createElement("div");a.style.width=y.style.width,a.style.height=y.style.height,a.classList.add("canvasWrapper"),this.annotationLayer?.div?y.insertBefore(a,this.annotationLayer.div):y.appendChild(a);let P=null;if(this.textLayerMode!==A.TextLayerMode.DISABLE&&this.textLayerFactory){const I=document.createElement("div");I.className="textLayer",I.style.width=a.style.width,I.style.height=a.style.height,this.annotationLayer?.div?y.insertBefore(I,this.annotationLayer.div):y.appendChild(I),P=this.textLayerFactory.createTextLayerBuilder(I,this.id-1,this.viewport,this.textLayerMode===A.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=P,we(this,p)!==S.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(y,r,null,this.imageResourcesPath,we(this,p)===S.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&y.appendChild(this.xfaLayer.div);let b=null;this.renderingQueue&&(b=I=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=A.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=A.RenderingStates.RUNNING,I()});I()});const w=function(){var I=v(function*(j=null){if(R===C.paintTask&&(C.paintTask=null),j instanceof S.RenderingCancelledException)C._renderError=null;else if(C._renderError=j,C.renderingState=A.RenderingStates.FINISHED,C.loadingIconDiv&&(C.loadingIconDiv.remove(),delete C.loadingIconDiv),C._resetZoomLayer(!0),C.eventBus.dispatch("pagerendered",{source:C,pageNumber:C.id,cssTransform:!1,timestamp:performance.now(),error:C._renderError}),j)throw j});return function(){return I.apply(this,arguments)}}(),R=this.renderer===A.RendererType.SVG?this.paintOnSvg(a):this.paintOnCanvas(a);R.onRenderContinue=b,this.paintTask=R;const D=R.promise.then(()=>w(null).then(()=>{if(P){const I=r.streamTextContent({includeMarkedContent:!0});P.setTextContentStream(I),P.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(I){return w(I)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(y,r,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=I=>{I.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(j=>{if(!j||!this.canvas)return;const X=this.structTreeLayer.render(j);X.classList.add("structTree"),this.canvas.appendChild(X)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(r)),y.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),D}paintOnCanvas(C){const y=(0,S.createPromiseCapability)(),r={promise:y.promise,onRenderContinue(G){G()},cancel(){ie.cancel()}},a=this.viewport,P=document.createElement("canvas");P.hidden=!0;let b=!0;const w=function(){b&&(P.hidden=!1,b=!1)};C.appendChild(P),this.canvas=P;const R=P.getContext("2d",{alpha:!1}),D=this.outputScale=new A.OutputScale;if(this.useOnlyCssZoom){const G=a.clone({scale:S.PixelsPerInch.PDF_TO_CSS_UNITS});D.sx*=G.width/a.width,D.sy*=G.height/a.height}if(this.maxCanvasPixels>0){const Z=Math.sqrt(this.maxCanvasPixels/(a.width*a.height));D.sx>Z||D.sy>Z?(D.sx=Z,D.sy=Z,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const I=(0,A.approximateFraction)(D.sx),j=(0,A.approximateFraction)(D.sy);P.width=(0,A.roundToDivide)(a.width*D.sx,I[0]),P.height=(0,A.roundToDivide)(a.height*D.sy,j[0]),P.style.width=(0,A.roundToDivide)(a.width,I[1])+"px",P.style.height=(0,A.roundToDivide)(a.height,j[1])+"px",this.paintedViewportMap.set(P,a);const Y={canvasContext:R,transform:D.scaled?[D.sx,0,0,D.sy,0,0]:null,viewport:this.viewport,annotationMode:we(this,p),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},ie=this.pdfPage.render(Y);return ie.onContinue=function(G){w(),r.onRenderContinue?r.onRenderContinue(G):G()},ie.promise.then(function(){w(),y.resolve()},function(G){w(),y.reject(G)}),r}paintOnSvg(C){let y=!1;const r=()=>{if(y)throw new S.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},a=this.pdfPage,P=this.viewport.clone({scale:S.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:a.getOperatorList({annotationMode:we(this,p)}).then(w=>(r(),new S.SVGGraphics(a.commonObjs,a.objs).getSVG(w,P).then(D=>{r(),this.svg=D,this.paintedViewportMap.set(D,P),D.style.width=C.style.width,D.style.height=C.style.height,this.renderingState=A.RenderingStates.FINISHED,C.appendChild(D)}))),onRenderContinue(w){w()},cancel(){y=!0}}}setPageLabel(C){this.pageLabel="string"==typeof C?C:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(B,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.compatibilityParams=f.OptionKind=f.AppOptions=void 0;const M=Object.create(null);f.compatibilityParams=M;{const s=navigator.userAgent||"",o=navigator.platform||"",p=navigator.maxTouchPoints||1,F=/Android/.test(s);(/\b(iPad|iPhone|iPod)(?=;)/.test(s)||"MacIntel"===o&&p>1||F)&&(M.maxCanvasPixels=5242880)}const S={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};f.OptionKind=S;const A={annotationMode:{value:2,kind:S.VIEWER+S.PREFERENCE},cursorToolOnLoad:{value:0,kind:S.VIEWER+S.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:S.VIEWER},defaultZoomValue:{value:"",kind:S.VIEWER+S.PREFERENCE},disableHistory:{value:!1,kind:S.VIEWER},disablePageLabels:{value:!1,kind:S.VIEWER+S.PREFERENCE},enablePermissions:{value:!1,kind:S.VIEWER+S.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:S.VIEWER+S.PREFERENCE},enableScripting:{value:!0,kind:S.VIEWER+S.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:S.VIEWER},externalLinkTarget:{value:0,kind:S.VIEWER+S.PREFERENCE},historyUpdateUrl:{value:!1,kind:S.VIEWER+S.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:S.VIEWER+S.PREFERENCE},imageResourcesPath:{value:"./images/",kind:S.VIEWER},maxCanvasPixels:{value:16777216,compatibility:M.maxCanvasPixels,kind:S.VIEWER},pageColorsBackground:{value:"Canvas",kind:S.VIEWER+S.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:S.VIEWER+S.PREFERENCE},pdfBugEnabled:{value:!1,kind:S.VIEWER+S.PREFERENCE},printResolution:{value:150,kind:S.VIEWER},renderer:{value:"canvas",kind:S.VIEWER},sidebarViewOnLoad:{value:-1,kind:S.VIEWER+S.PREFERENCE},scrollModeOnLoad:{value:-1,kind:S.VIEWER+S.PREFERENCE},spreadModeOnLoad:{value:-1,kind:S.VIEWER+S.PREFERENCE},textLayerMode:{value:1,kind:S.VIEWER+S.PREFERENCE},useOnlyCssZoom:{value:!1,kind:S.VIEWER+S.PREFERENCE},viewerCssTheme:{value:0,kind:S.VIEWER+S.PREFERENCE},viewOnLoad:{value:0,kind:S.VIEWER+S.PREFERENCE},cMapPacked:{value:!0,kind:S.API},cMapUrl:{value:"../web/cmaps/",kind:S.API},disableAutoFetch:{value:!1,kind:S.API+S.PREFERENCE},disableFontFace:{value:!1,kind:S.API+S.PREFERENCE},disableRange:{value:!1,kind:S.API+S.PREFERENCE},disableStream:{value:!1,kind:S.API+S.PREFERENCE},docBaseUrl:{value:"",kind:S.API},enableXfa:{value:!0,kind:S.API+S.PREFERENCE},fontExtraProperties:{value:!1,kind:S.API},isEvalSupported:{value:!0,kind:S.API},maxImageSize:{value:-1,kind:S.API},pdfBug:{value:!1,kind:S.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:S.API},verbosity:{value:1,kind:S.API},workerPort:{value:null,kind:S.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:S.WORKER}};A.disablePreferences={value:!1,kind:S.VIEWER},A.locale={value:navigator.language||"en-US",kind:S.VIEWER},A.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:S.VIEWER},A.renderer.kind+=S.PREFERENCE;const l=Object.create(null);f.AppOptions=class m{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(o){const p=l[o];if(void 0!==p)return p;const F=A[o];return void 0!==F?F.compatibility??F.value:void 0}static getAll(o=null){const p=Object.create(null);for(const F in A){const C=A[F];if(o){if(0==(o&C.kind))continue;if(o===S.PREFERENCE){const r=C.value,a=typeof r;if("boolean"===a||"string"===a||"number"===a&&Number.isInteger(r)){p[F]=r;continue}throw new Error(`Invalid type for preference: ${F}`)}}const y=l[F];p[F]=void 0!==y?y:C.compatibility??C.value}return p}static set(o,p){l[o]=p}static setAll(o){for(const p in o)l[p]=o[p]}static remove(o){delete l[o]}static _hasUserOptions(){return Object.keys(l).length>0}}},(B,f,M)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFRenderingQueue=void 0;var S=M(3),A=M(6);f.PDFRenderingQueue=class m{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(o){this.pdfViewer=o}setThumbnailViewer(o){this.pdfThumbnailViewer=o}isHighestPriority(o){return this.highestPriorityPage===o.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(o){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(o)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(o,p,F,C=!1){const y=o.views,r=y.length;if(0===r)return null;for(let R=0;R<r;R++){const D=y[R].view;if(!this.isViewFinished(D))return D}const a=o.first.id,P=o.last.id;if(P-a+1>r){const R=o.ids;for(let D=1,I=P-a;D<I;D++){const j=F?a+D:P-D;if(R.has(j))continue;const X=p[j-1];if(!this.isViewFinished(X))return X}}let b=F?P:a-2,w=p[b];return w&&!this.isViewFinished(w)||C&&(b+=F?1:-1,w=p[b],w&&!this.isViewFinished(w))?w:null}isViewFinished(o){return o.renderingState===A.RenderingStates.FINISHED}renderView(o){switch(o.renderingState){case A.RenderingStates.FINISHED:return!1;case A.RenderingStates.PAUSED:this.highestPriorityPage=o.renderingId,o.resume();break;case A.RenderingStates.RUNNING:this.highestPriorityPage=o.renderingId;break;case A.RenderingStates.INITIAL:this.highestPriorityPage=o.renderingId,o.draw().finally(()=>{this.renderHighestPriority()}).catch(p=>{p instanceof S.RenderingCancelledException||console.error(`renderView: "${p}"`)})}return!0}}},(B,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.TextHighlighter=void 0,f.TextHighlighter=class M{constructor({findController:A,eventBus:l,pageIndex:m}){this.findController=A,this.matches=[],this.eventBus=l,this.pageIdx=m,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(A,l){this.textDivs=A,this.textContentItemsStr=l}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=A=>{(A.pageIndex===this.pageIdx||-1===A.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(A,l){if(!A)return[];const{textContentItemsStr:m}=this;let s=0,o=0;const p=m.length-1,F=[];for(let C=0,y=A.length;C<y;C++){let r=A[C];for(;s!==p&&r>=o+m[s].length;)o+=m[s].length,s++;s===m.length&&console.error("Could not find a matching mapping");const a={begin:{divIdx:s,offset:r-o}};for(r+=l[C];s!==p&&r>o+m[s].length;)o+=m[s].length,s++;a.end={divIdx:s,offset:r-o},F.push(a)}return F}_renderMatches(A){if(0===A.length)return;const{findController:l,pageIdx:m}=this,{textContentItemsStr:s,textDivs:o}=this,p=m===l.selected.pageIdx,F=l.selected.matchIdx;let y=null;function a(R,D){const I=R.divIdx;return o[I].textContent="",P(I,0,R.offset,D)}function P(R,D,I,j){let X=o[R];if(X.nodeType===Node.TEXT_NODE){const G=document.createElement("span");X.parentNode.insertBefore(G,X),G.appendChild(X),o[R]=G,X=G}const Y=s[R].substring(D,I),ie=document.createTextNode(Y);if(j){const G=document.createElement("span");return G.className=`${j} appended`,G.appendChild(ie),X.appendChild(G),j.includes("selected")?G.offsetLeft:0}return X.appendChild(ie),0}let b=F,w=b+1;if(l.state.highlightAll)b=0,w=A.length;else if(!p)return;for(let R=b;R<w;R++){const D=A[R],I=D.begin,j=D.end,X=p&&R===F,Y=X?" selected":"";let ie=0;if(y&&I.divIdx===y.divIdx?P(y.divIdx,y.offset,I.offset):(null!==y&&P(y.divIdx,y.offset,undefined),a(I)),I.divIdx===j.divIdx)ie=P(I.divIdx,I.offset,j.offset,"highlight"+Y);else{ie=P(I.divIdx,I.offset,undefined,"highlight begin"+Y);for(let G=I.divIdx+1,Z=j.divIdx;G<Z;G++)o[G].className="highlight middle"+Y;a(j,"highlight end"+Y)}y=j,X&&l.scrollMatchIntoView({element:o[I.divIdx],selectedLeft:ie,pageIndex:m,matchIndex:F})}y&&P(y.divIdx,y.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:A,matches:l,pageIdx:m}=this,{textContentItemsStr:s,textDivs:o}=this;let p=-1;for(let y=0,r=l.length;y<r;y++){const a=l[y];for(let b=Math.max(p,a.begin.divIdx),w=a.end.divIdx;b<=w;b++){const R=o[b];R.textContent=s[b],R.className=""}p=a.end.divIdx+1}A?.highlightMatches&&(this.matches=this._convertMatches(A.pageMatches[m]||null,A.pageMatchesLength[m]||null),this._renderMatches(this.matches))}}},(B,f,M)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DownloadManager=void 0;var S=M(3);function A(m,s){const o=document.createElement("a");if(!o.click)throw new Error('DownloadManager: "a.click()" is not supported.');o.href=m,o.target="_parent","download"in o&&(o.download=s),(document.body||document.documentElement).appendChild(o),o.click(),o.remove()}f.DownloadManager=class l{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(s,o){(0,S.createValidAbsoluteUrl)(s,"http://example.com")?A(s+"#pdfjs.action=download",o):console.error(`downloadUrl - not a valid URL: ${s}`)}downloadData(s,o,p){A(URL.createObjectURL(new Blob([s],{type:p})),o)}openOrDownloadData(s,o,p){const F=(0,S.isPdfFile)(p),C=F?"application/pdf":"";if(F){let r,y=this._openBlobUrls.get(s);y||(y=URL.createObjectURL(new Blob([o],{type:C})),this._openBlobUrls.set(s,y)),r="?file="+encodeURIComponent(y+"#"+p);try{return window.open(r),!0}catch(a){console.error(`openOrDownloadData: ${a}`),URL.revokeObjectURL(y),this._openBlobUrls.delete(s)}}return this.downloadData(o,p,C),!1}download(s,o,p,F="download"){A(URL.createObjectURL(s),p)}}},(B,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.WaitOnType=f.EventBus=f.AutomationEventBus=void 0,f.waitOnEventOrTimeout=function S({target:m,name:s,delay:o=0}){return new Promise(function(p,F){if("object"!=typeof m||!s||"string"!=typeof s||!(Number.isInteger(o)&&o>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function C(P){m instanceof A?m._off(s,y):m.removeEventListener(s,y),a&&clearTimeout(a),p(P)}const y=C.bind(null,M.EVENT);m instanceof A?m._on(s,y):m.addEventListener(s,y);const r=C.bind(null,M.TIMEOUT),a=setTimeout(r,o)})};const M={EVENT:"event",TIMEOUT:"timeout"};f.WaitOnType=M;class A{constructor(){this._listeners=Object.create(null)}on(s,o,p=null){this._on(s,o,{external:!0,once:p?.once})}off(s,o,p=null){this._off(s,o,{external:!0,once:p?.once})}dispatch(s,o){const p=this._listeners[s];if(!p||0===p.length)return;let F;for(const{listener:C,external:y,once:r}of p.slice(0))r&&this._off(s,C),y?(F||(F=[])).push(C):C(o);if(F){for(const C of F)C(o);F=null}}_on(s,o,p=null){var C;((C=this._listeners)[s]||(C[s]=[])).push({listener:o,external:!0===p?.external,once:!0===p?.once})}_off(s,o,p=null){const F=this._listeners[s];if(F)for(let C=0,y=F.length;C<y;C++)if(F[C].listener===o)return void F.splice(C,1)}}f.EventBus=A,f.AutomationEventBus=class l extends A{dispatch(s,o){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(B,f,M)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.GenericL10n=void 0,M(19);var S=M(4);const A=document.webL10n;f.GenericL10n=class l{constructor(s){this._lang=s,this._ready=new Promise((o,p)=>{A.setLanguage((0,S.fixupLangCode)(s),()=>{o(A)})})}getLanguage(){var s=this;return v(function*(){return(yield s._ready).getLanguage()})()}getDirection(){var s=this;return v(function*(){return(yield s._ready).getDirection()})()}get(s,o=null,p=(0,S.getL10nFallback)(s,o)){var F=this;return v(function*(){return(yield F._ready).get(s,o,p)})()}translate(s){var o=this;return v(function*(){return(yield o._ready).translate(s)})()}}},()=>{document.webL10n=function(B,f,M){var S={},A="",l="textContent",m="",s={},o="loading";function a(G,Z,te){Z=Z||function(O){},te=te||function(){};var oe=new XMLHttpRequest;oe.open("GET",G,!0),oe.overrideMimeType&&oe.overrideMimeType("text/plain; charset=utf-8"),oe.onreadystatechange=function(){4==oe.readyState&&(200==oe.status||0===oe.status?Z(oe.responseText):te())},oe.onerror=te,oe.ontimeout=te;try{oe.send(null)}catch{te()}}function b(G,Z){G&&(G=G.toLowerCase()),Z=Z||function(){},function w(){S={},A="",m=""}(),m=G;var te=function F(){return f.querySelectorAll('link[type="application/l10n"]')}(),oe=te.length;if(0!==oe){var h,t=0;h=function(){++t>=oe&&(Z(),o="complete")};for(var _=0;_<oe;_++)new d(te[_]).load(G,h)}else{var he=function C(){var G=f.querySelector('script[type="application/l10n"]');return G?JSON.parse(G.innerHTML):null}();if(he&&he.locales&&he.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(S=he.locales[G])){var O=he.default_locale.toLowerCase();for(var c in he.locales){if((c=c.toLowerCase())===G){S=he.locales[G];break}c===O&&(S=he.locales[O])}}Z()}else console.log("no resource to load, early way out");o="complete"}function d(E){var k=E.href;this.load=function(W,z){!function P(G,Z,te,oe){var he=G.replace(/[^\/]*$/,"")||"./";function O(h){return h.lastIndexOf("\\")<0?h:h.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}a(G,function(h){A+=h,function c(h,t){var d={},_=/^\s*|\s*$/,T=/^\s*#|^\s*$/,E=/^\s*\[(.*)\]\s*$/,k=/^\s*@import\s+url\((.*)\)\s*$/i,W=/^([^=\s]*)\s*=\s*(.+)$/;function z($,K,ae){var pe=$.replace(_,"").split(/[\r\n]+/),Pe="*",ne=Z.split("-",1)[0],de=!1,ce="";!function x(){for(;;){if(!pe.length)return void ae();var U=pe.shift();if(!T.test(U)){if(K){if(ce=E.exec(U)){Pe=ce[1].toLowerCase(),de="*"!==Pe&&Pe!==Z&&Pe!==ne;continue}if(de)continue;if(ce=k.exec(U))return void H(he+ce[1],x)}var Q=U.match(W);Q&&3==Q.length&&(d[Q[1]]=O(Q[2]))}}}()}function H($,K){a($,function(ae){z(ae,!1,K)},function(){console.warn($+" not found."),K()})}z(h,!0,function(){t(d)})}(h,function(t){for(var d in t){var _,T,E=d.lastIndexOf(".");E>0?(_=d.substring(0,E),T=d.substring(E+1)):(_=d,T=l),S[_]||(S[_]={}),S[_][T]=t[d]}te&&te()})},oe)}(k,W,z,function(){console.warn(k+" not found."),console.warn('"'+W+'" resource not found'),m="",z()})}}}function D(G,Z,te){var oe=S[G];if(!oe){if(console.warn("#"+G+" is undefined."),!te)return null;oe=te}var he={};for(var O in oe){var c=oe[O];c=j(c=I(c,Z,G,O),Z,G),he[O]=c}return he}function I(G,Z,te,oe){var O=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(G);if(!O||!O.length)return G;var t,c=O[1],h=O[2];return Z&&h in Z?t=Z[h]:h in S&&(t=S[h]),c in s&&(G=(0,s[c])(G,t,te,oe)),G}function j(G,Z,te){return G.replace(/\{\{\s*(.+?)\s*\}\}/g,function(he,O){return Z&&O in Z?Z[O]:O in S?S[O]:(console.log("argument {{"+O+"}} for #"+te+" is undefined."),he)})}function X(G){var Z=function r(G){if(!G)return{};var Z=G.getAttribute("data-l10n-id"),te=G.getAttribute("data-l10n-args"),oe={};if(te)try{oe=JSON.parse(te)}catch{console.warn("could not parse arguments for #"+Z)}return{id:Z,args:oe}}(G);if(Z.id){var te=D(Z.id,Z.args);if(!te)return void console.warn("#"+Z.id+" is undefined.");if(te[l]){if(0===function Y(G){if(G.children)return G.children.length;if(typeof G.childElementCount<"u")return G.childElementCount;for(var Z=0,te=0;te<G.childNodes.length;te++)Z+=1===G.nodeType?1:0;return Z}(G))G[l]=te[l];else{for(var oe=G.childNodes,he=!1,O=0,c=oe.length;O<c;O++)3===oe[O].nodeType&&/\S/.test(oe[O].nodeValue)&&(he?oe[O].nodeValue="":(oe[O].nodeValue=te[l],he=!0));if(!he){var h=f.createTextNode(te[l]);G.insertBefore(h,G.firstChild)}}delete te[l]}for(var t in te)G[t]=te[t]}}return s.plural=function(G,Z,te,oe){var he=parseFloat(Z);if(isNaN(he)||oe!=l)return G;s._pluralRules||(s._pluralRules=function R(G){function te(c,h){return-1!==h.indexOf(c)}function oe(c,h,t){return h<=c&&c<=t}var he={0:function(c){return"other"},1:function(c){return oe(c%100,3,10)?"few":0===c?"zero":oe(c%100,11,99)?"many":2==c?"two":1==c?"one":"other"},2:function(c){return 0!==c&&c%10==0?"many":2==c?"two":1==c?"one":"other"},3:function(c){return 1==c?"one":"other"},4:function(c){return oe(c,0,1)?"one":"other"},5:function(c){return oe(c,0,2)&&2!=c?"one":"other"},6:function(c){return 0===c?"zero":c%10==1&&c%100!=11?"one":"other"},7:function(c){return 2==c?"two":1==c?"one":"other"},8:function(c){return oe(c,3,6)?"few":oe(c,7,10)?"many":2==c?"two":1==c?"one":"other"},9:function(c){return 0===c||1!=c&&oe(c%100,1,19)?"few":1==c?"one":"other"},10:function(c){return oe(c%10,2,9)&&!oe(c%100,11,19)?"few":c%10!=1||oe(c%100,11,19)?"other":"one"},11:function(c){return oe(c%10,2,4)&&!oe(c%100,12,14)?"few":c%10==0||oe(c%10,5,9)||oe(c%100,11,14)?"many":c%10==1&&c%100!=11?"one":"other"},12:function(c){return oe(c,2,4)?"few":1==c?"one":"other"},13:function(c){return oe(c%10,2,4)&&!oe(c%100,12,14)?"few":1!=c&&oe(c%10,0,1)||oe(c%10,5,9)||oe(c%100,12,14)?"many":1==c?"one":"other"},14:function(c){return oe(c%100,3,4)?"few":c%100==2?"two":c%100==1?"one":"other"},15:function(c){return 0===c||oe(c%100,2,10)?"few":oe(c%100,11,19)?"many":1==c?"one":"other"},16:function(c){return c%10==1&&11!=c?"one":"other"},17:function(c){return 3==c?"few":0===c?"zero":6==c?"many":2==c?"two":1==c?"one":"other"},18:function(c){return 0===c?"zero":oe(c,0,2)&&0!==c&&2!=c?"one":"other"},19:function(c){return oe(c,2,10)?"few":oe(c,0,1)?"one":"other"},20:function(c){return!oe(c%10,3,4)&&c%10!=9||oe(c%100,10,19)||oe(c%100,70,79)||oe(c%100,90,99)?c%1e6==0&&0!==c?"many":c%10!=2||te(c%100,[12,72,92])?c%10!=1||te(c%100,[11,71,91])?"other":"one":"two":"few"},21:function(c){return 0===c?"zero":1==c?"one":"other"},22:function(c){return oe(c,0,1)||oe(c,11,99)?"one":"other"},23:function(c){return oe(c%10,1,2)||c%20==0?"one":"other"},24:function(c){return oe(c,3,10)||oe(c,13,19)?"few":te(c,[2,12])?"two":te(c,[1,11])?"one":"other"}},O={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[G.replace(/-.*$/,"")];return O in he?he[O]:(console.warn("plural form unknown for ["+G+"]"),function(){return"other"})}(m));var O="["+s._pluralRules(he)+"]";return 0===he&&te+"[zero]"in S?G=S[te+"[zero]"][oe]:1==he&&te+"[one]"in S?G=S[te+"[one]"][oe]:2==he&&te+"[two]"in S?G=S[te+"[two]"][oe]:te+O in S?G=S[te+O][oe]:te+"[other]"in S&&(G=S[te+"[other]"][oe]),G},{get:function(G,Z,te){var O,oe=G.lastIndexOf("."),he=l;oe>0&&(he=G.substring(oe+1),G=G.substring(0,oe)),te&&((O={})[he]=te);var c=D(G,Z,O);return c&&he in c?c[he]:"{{"+G+"}}"},getData:function(){return S},getText:function(){return A},getLanguage:function(){return m},setLanguage:function(G,Z){b(G,function(){Z&&Z()})},getDirection:function(){var Z=m.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(Z)>=0?"rtl":"ltr"},translate:function ie(G){for(var Z=function y(G){return G?G.querySelectorAll("*[data-l10n-id]"):[]}(G=G||f.documentElement),te=Z.length,oe=0;oe<te;oe++)X(Z[oe]);X(G)},getReadyState:function(){return o},ready:function(G){G&&("complete"==o||"interactive"==o?B.setTimeout(function(){G()}):f.addEventListener&&f.addEventListener("localized",function Z(){f.removeEventListener("localized",Z),G()}))}}}(window,document)},(B,f,M)=>{var j,ui,Y,Qt,G,Zt,te,di,he,hi,c,fi,t,Kt,_,pi,E,gi,W,Ct,H,ct,K,it,pe,mi,ne,Jt,ce,en,U,St,be,_i,ge,tn,ve,yi,Fe,ut;Object.defineProperty(f,"__esModule",{value:!0}),f.PDFFindController=f.FindState=void 0;var S=M(6),A=M(3),l=M(21);const m={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};f.FindState=m;const F={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},C=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),y=[...C.values()].map(se=>String.fromCharCode(se)).join(""),r=/\p{M}+/gu,a=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,P=/([^\p{M}])\p{M}*$/u,b=/^\p{M}*([^\p{M}])/u;let w=null;function R(se){if(!w){const Le=Object.keys(F).join("");w=new RegExp(`([${Le}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const N=[];let V;for(;null!==(V=r.exec(se));)N.push([V[0].length,V.index]);let ue=se.normalize("NFD");const fe=[[0,0]];let ye=0,Ae=0,Te=0,Oe=0,Ve=!1;return ue=ue.replace(w,(Le,Be,Ue,Ne,Re,Ge)=>{if(Ge-=Te,Be){const Ye=F[Le],qe=Ye.length;for(let He=1;He<qe;He++)fe.push([Ge-Ae+He,Ae-He]);return Ae-=qe-1,Ye}if(Ue){const Ye=Ue.endsWith("\n"),qe=Ye?Ue.length-2:Ue.length;Ve=!0;let He=qe;Ge+Oe===N[ye]?.[1]&&(He-=N[ye][0],++ye);for(let Qe=1;Qe<He+1;Qe++)fe.push([Ge-1-Ae+Qe,Ae-Qe]);return Ae-=He,Te+=He,Ye?(fe.push([(Ge+=qe-1)-Ae+1,1+Ae]),Ae+=1,Te+=1,Oe+=1,Ue.slice(0,qe)):Ue}return Ne?(fe.push([Ge-Ae+1,1+Ae]),Ae+=1,Te+=1,Oe+=1,Ne.charAt(0)):(fe.push([Ge-Ae+1,Ae-1]),Ae-=1,Te+=1,Oe+=1," ")}),fe.push([ue.length,Ae]),[ue,fe,Ve]}function D(se,N,V){if(!se)return[N,V];const ue=N,fe=N+V;let ye=(0,S.binarySearchFirstItem)(se,Te=>Te[0]>=ue);se[ye][0]>ue&&--ye;let Ae=(0,S.binarySearchFirstItem)(se,Te=>Te[0]>=fe,ye);return se[Ae][0]>fe&&--Ae,[ue+se[ye][1],V+se[Ae][1]-se[ye][1]]}j=new WeakSet,ui=function(N){if(!N)return;const V=this._pdfDocument,{type:ue}=N;(null===this._state||xe(this,te,di).call(this,N))&&(this._dirtyMatch=!0),this._state=N,"highlightallchange"!==ue&&xe(this,Fe,ut).call(this,m.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||V&&this._pdfDocument!==V)return;xe(this,E,gi).call(this);const fe=!this._highlightMatches,ye=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),ue?this._dirtyMatch?xe(this,K,it).call(this):"again"===ue?(xe(this,K,it).call(this),fe&&this._state.highlightAll&&xe(this,H,ct).call(this)):"highlightallchange"===ue?(ye?xe(this,K,it).call(this):this._highlightMatches=!0,xe(this,H,ct).call(this)):xe(this,K,it).call(this):this._findTimeout=setTimeout(()=>{xe(this,K,it).call(this),this._findTimeout=null},250)})},Y=new WeakSet,Qt=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,A.createPromiseCapability)()},G=new WeakSet,Zt=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=R(this._state.query)),this._normalizedQuery},te=new WeakSet,di=function(N){if(N.query!==this._state.query)return!0;switch(N.type){case"again":const V=this._selected.pageIdx+1,ue=this._linkService;return V>=1&&V<=ue.pagesCount&&V!==ue.page&&!ue.isPageVisible(V);case"highlightallchange":return!1}return!0},he=new WeakSet,hi=function(N,V,ue){let fe=N.slice(0,V).match(P);if(fe){const ye=N.charCodeAt(V),Ae=fe[1].charCodeAt(0);if((0,l.getCharacterType)(ye)===(0,l.getCharacterType)(Ae))return!1}if(fe=N.slice(V+ue).match(b),fe){const ye=N.charCodeAt(V+ue-1),Ae=fe[1].charCodeAt(0);if((0,l.getCharacterType)(ye)===(0,l.getCharacterType)(Ae))return!1}return!0},c=new WeakSet,fi=function(N,V,ue,fe){const ye=[],Ae=[],Te=this._pageDiffs[ue];let Oe;for(;null!==(Oe=N.exec(fe));){if(V&&!xe(this,he,hi).call(this,fe,Oe.index,Oe[0].length))continue;const[Ve,Le]=D(Te,Oe.index,Oe[0].length);Le&&(ye.push(Ve),Ae.push(Le))}this._pageMatches[ue]=ye,this._pageMatchesLength[ue]=Ae},t=new WeakSet,Kt=function(N,V){const{matchDiacritics:ue}=this._state;let fe=!1;return(N=N.replace(a,(Ae,Te,Oe,Ve,Le,Be)=>Te?`[ ]*\\${Te}[ ]*`:Oe?`[ ]*${Oe}[ ]*`:Ve?"[ ]+":ue?Le||Be:Le?C.has(Le.charCodeAt(0))?Le:"":V?(fe=!0,`${Be}\\p{M}*`):Be)).endsWith("[ ]*")&&(N=N.slice(0,N.length-"[ ]*".length)),ue&&V&&(fe=!0,N=`${N}(?=[${y}]|[^\\p{M}]|$)`),[fe,N]},_=new WeakSet,pi=function(N){let V=we(this,G,Zt);if(0===V.length)return;const{caseSensitive:ue,entireWord:fe,phraseSearch:ye}=this._state,Ae=this._pageContents[N],Te=this._hasDiacritics[N];let Oe=!1;if(ye)[Oe,V]=xe(this,t,Kt).call(this,V,Te);else{const Be=V.match(/\S+/g);Be&&(V=Be.sort().reverse().map(Ue=>{const[Ne,Re]=xe(this,t,Kt).call(this,Ue,Te);return Oe||(Oe=Ne),`(${Re})`}).join("|"))}V=new RegExp(V,`g${Oe?"u":""}${ue?"":"i"}`),xe(this,c,fi).call(this,V,fe,N,Ae),this._state.highlightAll&&xe(this,W,Ct).call(this,N),this._resumePageIdx===N&&(this._resumePageIdx=null,xe(this,ne,Jt).call(this));const Le=this._pageMatches[N].length;Le>0&&(this._matchesCountTotal+=Le,xe(this,ve,yi).call(this))},E=new WeakSet,gi=function(){if(this._extractTextPromises.length>0)return;let N=Promise.resolve();for(let V=0,ue=this._linkService.pagesCount;V<ue;V++){const fe=(0,A.createPromiseCapability)();this._extractTextPromises[V]=fe.promise,N=N.then(()=>this._pdfDocument.getPage(V+1).then(ye=>ye.getTextContent()).then(ye=>{const Ae=[];for(const Te of ye.items)Ae.push(Te.str),Te.hasEOL&&Ae.push("\n");[this._pageContents[V],this._pageDiffs[V],this._hasDiacritics[V]]=R(Ae.join("")),fe.resolve()},ye=>{console.error(`Unable to get text content for page ${V+1}`,ye),this._pageContents[V]="",this._pageDiffs[V]=null,this._hasDiacritics[V]=!1,fe.resolve()}))}},W=new WeakSet,Ct=function(N){this._scrollMatches&&this._selected.pageIdx===N&&(this._linkService.page=N+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:N})},H=new WeakSet,ct=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},K=new WeakSet,it=function(){const N=this._state.findPrevious,V=this._linkService.page-1,ue=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=V,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,xe(this,H,ct).call(this);for(let ye=0;ye<ue;ye++)this._pendingFindMatches.has(ye)||(this._pendingFindMatches.add(ye),this._extractTextPromises[ye].then(()=>{this._pendingFindMatches.delete(ye),xe(this,_,pi).call(this,ye)}))}if(""===we(this,G,Zt))return void xe(this,Fe,ut).call(this,m.FOUND);if(this._resumePageIdx)return;const fe=this._offset;if(this._pagesToSearch=ue,null!==fe.matchIdx){const ye=this._pageMatches[fe.pageIdx].length;if(!N&&fe.matchIdx+1<ye||N&&fe.matchIdx>0)return fe.matchIdx=N?fe.matchIdx-1:fe.matchIdx+1,void xe(this,U,St).call(this,!0);xe(this,ce,en).call(this,N)}xe(this,ne,Jt).call(this)},pe=new WeakSet,mi=function(N){const V=this._offset,ue=N.length,fe=this._state.findPrevious;return ue?(V.matchIdx=fe?ue-1:0,xe(this,U,St).call(this,!0),!0):(xe(this,ce,en).call(this,fe),!!(V.wrapped&&(V.matchIdx=null,this._pagesToSearch<0))&&(xe(this,U,St).call(this,!1),!0))},ne=new WeakSet,Jt=function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let N=null;do{const V=this._offset.pageIdx;if(N=this._pageMatches[V],!N){this._resumePageIdx=V;break}}while(!xe(this,pe,mi).call(this,N))},ce=new WeakSet,en=function(N){const V=this._offset,ue=this._linkService.pagesCount;V.pageIdx=N?V.pageIdx-1:V.pageIdx+1,V.matchIdx=null,this._pagesToSearch--,(V.pageIdx>=ue||V.pageIdx<0)&&(V.pageIdx=N?ue-1:0,V.wrapped=!0)},U=new WeakSet,St=function(N=!1){let V=m.NOT_FOUND;const ue=this._offset.wrapped;if(this._offset.wrapped=!1,N){const fe=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,V=ue?m.WRAPPED:m.FOUND,-1!==fe&&fe!==this._selected.pageIdx&&xe(this,W,Ct).call(this,fe)}xe(this,Fe,ut).call(this,V,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,xe(this,W,Ct).call(this,this._selected.pageIdx))},be=new WeakSet,_i=function(N){const V=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||V&&this._pdfDocument!==V||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),xe(this,Fe,ut).call(this,m.FOUND),this._highlightMatches=!1,xe(this,H,ct).call(this))})},ge=new WeakSet,tn=function(){const{pageIdx:N,matchIdx:V}=this._selected;let ue=0,fe=this._matchesCountTotal;if(-1!==V){for(let ye=0;ye<N;ye++)ue+=this._pageMatches[ye]?.length||0;ue+=V+1}return(ue<1||ue>fe)&&(ue=fe=0),{current:ue,total:fe}},ve=new WeakSet,yi=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:xe(this,ge,tn).call(this)})},Fe=new WeakSet,ut=function(N,V=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:N,previous:V,matchesCount:xe(this,ge,tn).call(this),rawQuery:this._state?.query??null})},f.PDFFindController=class I{constructor({linkService:N,eventBus:V}){Ee(this,j),Ee(this,Y),Ee(this,G),Ee(this,te),Ee(this,he),Ee(this,c),Ee(this,t),Ee(this,_),Ee(this,E),Ee(this,W),Ee(this,H),Ee(this,K),Ee(this,pe),Ee(this,ne),Ee(this,ce),Ee(this,U),Ee(this,be),Ee(this,ge),Ee(this,ve),Ee(this,Fe),this._linkService=N,this._eventBus=V,xe(this,Y,Qt).call(this),V._on("find",xe(this,j,ui).bind(this)),V._on("findbarclose",xe(this,be,_i).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(N){this._pdfDocument&&xe(this,Y,Qt).call(this),N&&(this._pdfDocument=N,this._firstPageCapability.resolve())}scrollMatchIntoView({element:N=null,selectedLeft:V=0,pageIndex:ue=-1,matchIndex:fe=-1}){this._scrollMatches&&N&&-1!==fe&&fe===this._selected.matchIdx&&-1!==ue&&ue===this._selected.pageIdx&&(this._scrollMatches=!1,(0,S.scrollIntoView)(N,{top:-50,left:V+-400},!0))}}},(B,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CharacterType=void 0,f.getCharacterType=function r(a){return function S(a){return a<11904}(a)?function A(a){return 0==(65408&a)}(a)?function s(a){return 32===a||9===a||13===a||10===a}(a)?M.SPACE:function l(a){return a>=97&&a<=122||a>=65&&a<=90}(a)||function m(a){return a>=48&&a<=57}(a)||95===a?M.ALPHA_LETTER:M.PUNCT:function y(a){return 3584==(65408&a)}(a)?M.THAI_LETTER:160===a?M.SPACE:M.ALPHA_LETTER:function o(a){return a>=13312&&a<=40959||a>=63744&&a<=64255}(a)?M.HAN_LETTER:function p(a){return a>=12448&&a<=12543}(a)?M.KATAKANA_LETTER:function F(a){return a>=12352&&a<=12447}(a)?M.HIRAGANA_LETTER:function C(a){return a>=65376&&a<=65439}(a)?M.HALFWIDTH_KATAKANA_LETTER:M.ALPHA_LETTER};const M={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};f.CharacterType=M},(B,f,M)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFHistory=void 0,f.isDestArraysEqual=C,f.isDestHashesEqual=F;var S=M(6),A=M(17);function o(){return document.location.hash}function F(y,r){return"string"==typeof y&&"string"==typeof r&&(y===r||(0,S.parseQueryString)(y).get("nameddest")===r)}function C(y,r){function a(P,b){if(typeof P!=typeof b||Array.isArray(P)||Array.isArray(b))return!1;if(null!==P&&"object"==typeof P&&null!==b){if(Object.keys(P).length!==Object.keys(b).length)return!1;for(const w in P)if(!a(P[w],b[w]))return!1;return!0}return P===b||Number.isNaN(P)&&Number.isNaN(b)}if(!Array.isArray(y)||!Array.isArray(r)||y.length!==r.length)return!1;for(let P=0,b=y.length;P<b;P++)if(!a(y[P],r[P]))return!1;return!0}f.PDFHistory=class p{constructor({linkService:r,eventBus:a}){this.linkService=r,this.eventBus=a,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",P=>{this._isPagesLoaded=!!P.pagesCount},{once:!0})})}initialize({fingerprint:r,resetHistory:a=!1,updateUrl:P=!1}){if(!r||"string"!=typeof r)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const b=""!==this._fingerprint&&this._fingerprint!==r;this._fingerprint=r,this._updateUrl=!0===P,this._initialized=!0,this._bindEvents();const w=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=o(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(w,!0)||a){const{hash:D,page:I,rotation:j}=this._parseCurrentHash(!0);return!D||b||a?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:D,page:I,rotation:j},!0)}const R=w.destination;this._updateInternalState(R,w.uid,!0),void 0!==R.rotation&&(this._initialRotation=R.rotation),R.dest?(this._initialBookmark=JSON.stringify(R.dest),this._destination.page=null):R.hash?this._initialBookmark=R.hash:R.page&&(this._initialBookmark=`page=${R.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:r=null,explicitDest:a,pageNumber:P}){if(!this._initialized)return;if(r&&"string"!=typeof r)return void console.error(`PDFHistory.push: "${r}" is not a valid namedDest parameter.`);if(!Array.isArray(a))return void console.error(`PDFHistory.push: "${a}" is not a valid explicitDest parameter.`);if(!this._isValidPage(P)&&(null!==P||this._destination))return void console.error(`PDFHistory.push: "${P}" is not a valid pageNumber parameter.`);const b=r||JSON.stringify(a);if(!b)return;let w=!1;if(this._destination&&(F(this._destination.hash,b)||C(this._destination.dest,a))){if(this._destination.page)return;w=!0}this._popStateInProgress&&!w||(this._pushOrReplaceState({dest:a,hash:b,page:P,rotation:this.linkService.rotation},w),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(r){if(this._initialized){if(!this._isValidPage(r))return void console.error(`PDFHistory.pushPage: "${r}" is not a valid page number.`);this._destination?.page!==r&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${r}`,page:r,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const r=window.history.state;this._isValidState(r)&&r.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const r=window.history.state;this._isValidState(r)&&r.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(r,a=!1){const P=a||!this._destination,b={fingerprint:this._fingerprint,uid:P?this._uid:this._uid+1,destination:r};let w;if(this._updateInternalState(r,b.uid),this._updateUrl&&r?.hash){const R=document.location.href.split("#")[0];R.startsWith("file://")||(w=`${R}#${r.hash}`)}P?window.history.replaceState(b,"",w):window.history.pushState(b,"",w)}_tryPushCurrentPosition(r=!1){if(!this._position)return;let a=this._position;if(r&&(a=Object.assign(Object.create(null),this._position),a.temporary=!0),!this._destination)return void this._pushOrReplaceState(a);if(this._destination.temporary)return void this._pushOrReplaceState(a,!0);if(this._destination.hash===a.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let P=!1;if(this._destination.page>=a.first&&this._destination.page<=a.page){if(void 0!==this._destination.dest||!this._destination.first)return;P=!0}this._pushOrReplaceState(a,P)}_isValidPage(r){return Number.isInteger(r)&&r>0&&r<=this.linkService.pagesCount}_isValidState(r,a=!1){if(!r)return!1;if(r.fingerprint!==this._fingerprint){if(!a)return!1;{if("string"!=typeof r.fingerprint||r.fingerprint.length!==this._fingerprint.length)return!1;const[P]=performance.getEntriesByType("navigation");if("reload"!==P?.type)return!1}}return!(!Number.isInteger(r.uid)||r.uid<0||null===r.destination||"object"!=typeof r.destination)}_updateInternalState(r,a,P=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),P&&r?.temporary&&delete r.temporary,this._destination=r,this._uid=a,this._maxUid=Math.max(this._maxUid,a),this._numPositionUpdates=0}_parseCurrentHash(r=!1){const a=unescape(o()).substring(1),P=(0,S.parseQueryString)(a),b=P.get("nameddest")||"";let w=0|P.get("page");return(!this._isValidPage(w)||r&&b.length>0)&&(w=null),{hash:a,page:w,rotation:this.linkService.rotation}}_updateViewarea({location:r}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:r.pdfOpenParams.substring(1),page:this.linkService.page,first:r.pageNumber,rotation:r.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:r}){const a=o(),P=this._currentHash!==a;if(this._currentHash=a,!r){this._uid++;const{hash:w,page:R,rotation:D}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:w,page:R,rotation:D},!0)}if(!this._isValidState(r))return;this._popStateInProgress=!0,P&&(this._blockHashChange++,(0,A.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const b=r.destination;this._updateInternalState(b,r.uid,!0),(0,S.isValidRotation)(b.rotation)&&(this.linkService.rotation=b.rotation),b.dest?this.linkService.goToDestination(b.dest):b.hash?this.linkService.setHash(b.hash):b.page&&(this.linkService.page=b.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(B,f,M)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFScriptingManager=void 0;var S=M(6),A=M(3);f.PDFScriptingManager=class l{constructor({eventBus:s,sandboxBundleSrc:o=null,scriptingFactory:p=null,docPropertiesLookup:F=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=s,this._sandboxBundleSrc=o,this._scriptingFactory=p,this._docPropertiesLookup=F,this._scriptingFactory||window.addEventListener("updatefromsandbox",C=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:C.detail})})}setViewer(s){this._pdfViewer=s}setDocument(s){var o=this;return v(function*(){if(o._pdfDocument&&(yield o._destroyScripting()),o._pdfDocument=s,!s)return;const[p,F,C]=yield Promise.all([s.getFieldObjects(),s.getCalculationOrderIds(),s.getJSActions()]);if(p||C){if(s===o._pdfDocument){try{o._scripting=o._createScripting()}catch(y){return console.error(`PDFScriptingManager.setDocument: "${y?.message}".`),void(yield o._destroyScripting())}o._internalEvents.set("updatefromsandbox",y=>{y?.source===window&&o._updateFromSandbox(y.detail)}),o._internalEvents.set("dispatcheventinsandbox",y=>{o._scripting?.dispatchEventInSandbox(y.detail)}),o._internalEvents.set("pagechanging",({pageNumber:y,previous:r})=>{y!==r&&(o._dispatchPageClose(r),o._dispatchPageOpen(y))}),o._internalEvents.set("pagerendered",({pageNumber:y})=>{!o._pageOpenPending.has(y)||y===o._pdfViewer.currentPageNumber&&o._dispatchPageOpen(y)}),o._internalEvents.set("pagesdestroy",function(){var y=v(function*(r){yield o._dispatchPageClose(o._pdfViewer.currentPageNumber),yield o._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),o._closeCapability?.resolve()});return function(r){return y.apply(this,arguments)}}()),o._domEvents.set("mousedown",y=>{o._mouseState.isDown=!0}),o._domEvents.set("mouseup",y=>{o._mouseState.isDown=!1});for(const[y,r]of o._internalEvents)o._eventBus._on(y,r);for(const[y,r]of o._domEvents)window.addEventListener(y,r,!0);try{const y=yield o._getDocProperties();if(s!==o._pdfDocument)return;yield o._scripting.createSandbox({objects:p,calculationOrder:F,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...y,actions:C}}),o._eventBus.dispatch("sandboxcreated",{source:o})}catch(y){return console.error(`PDFScriptingManager.setDocument: "${y?.message}".`),void(yield o._destroyScripting())}yield o._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield o._dispatchPageOpen(o._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{s===o._pdfDocument&&(o._ready=!0)})}}else yield o._destroyScripting()})()}dispatchWillSave(s){var o=this;return v(function*(){return o._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(s){var o=this;return v(function*(){return o._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(s){var o=this;return v(function*(){return o._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(s){var o=this;return v(function*(){return o._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,A.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,A.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,A.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,A.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(s){var o=this;return v(function*(){const p=o._pdfViewer.isInPresentationMode||o._pdfViewer.isChangingPresentationMode,{id:F,siblings:C,command:y,value:r}=s;if(!F){switch(y){case"clear":console.clear();break;case"error":console.error(r);break;case"layout":if(p)return;const P=(0,S.apiPageLayoutToViewerModes)(r);o._pdfViewer.spreadMode=P.spreadMode;break;case"page-num":o._pdfViewer.currentPageNumber=r+1;break;case"print":yield o._pdfViewer.pagesPromise,o._eventBus.dispatch("print",{source:o});break;case"println":console.log(r);break;case"zoom":if(p)return;o._pdfViewer.currentScaleValue=r;break;case"SaveAs":o._eventBus.dispatch("save",{source:o});break;case"FirstPage":o._pdfViewer.currentPageNumber=1;break;case"LastPage":o._pdfViewer.currentPageNumber=o._pdfViewer.pagesCount;break;case"NextPage":o._pdfViewer.nextPage();break;case"PrevPage":o._pdfViewer.previousPage();break;case"ZoomViewIn":if(p)return;o._pdfViewer.increaseScale();break;case"ZoomViewOut":if(p)return;o._pdfViewer.decreaseScale()}return}if(p&&s.focus)return;delete s.id,delete s.siblings;const a=C?[F,...C]:[F];for(const P of a){const b=document.getElementById(P);b?b.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:s})):o._pdfDocument?.annotationStorage.setValue(P,s)}})()}_dispatchPageOpen(s,o=!1){var p=this;return v(function*(){const F=p._pdfDocument,C=p._visitedPages;if(o&&(p._closeCapability=(0,A.createPromiseCapability)()),!p._closeCapability)return;const y=p._pdfViewer.getPageView(s-1);if(y?.renderingState!==S.RenderingStates.FINISHED)return void p._pageOpenPending.add(s);p._pageOpenPending.delete(s);const r=v(function*(){const a=yield C.has(s)?null:y.pdfPage?.getJSActions();F===p._pdfDocument&&(yield p._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:s,actions:a}))})();C.set(s,r)})()}_dispatchPageClose(s){var o=this;return v(function*(){const p=o._pdfDocument,F=o._visitedPages;if(!o._closeCapability||o._pageOpenPending.has(s))return;const C=F.get(s);!C||(F.set(s,null),yield C,p===o._pdfDocument&&(yield o._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:s})))})()}_getDocProperties(){var s=this;return v(function*(){if(s._docPropertiesLookup)return s._docPropertiesLookup(s._pdfDocument);const{docPropertiesLookup:o}=M(24);return o(s._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,A.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:s}=M(24);return new s(this._sandboxBundleSrc)}_destroyScripting(){var s=this;return v(function*(){if(!s._scripting)return s._pdfDocument=null,void s._destroyCapability?.resolve();s._closeCapability&&(yield Promise.race([s._closeCapability.promise,new Promise(o=>{setTimeout(o,1e3)})]).catch(o=>{}),s._closeCapability=null),s._pdfDocument=null;try{yield s._scripting.destroySandbox()}catch{}for(const[o,p]of s._internalEvents)s._eventBus._off(o,p);s._internalEvents.clear();for(const[o,p]of s._domEvents)window.removeEventListener(o,p,!0);s._domEvents.clear(),s._pageOpenPending.clear(),s._visitedPages.clear(),s._scripting=null,delete s._mouseState.isDown,s._ready=!1,s._destroyCapability?.resolve()})()}}},(B,f,M)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.GenericScripting=void 0,f.docPropertiesLookup=function A(s){return l.apply(this,arguments)};var S=M(3);function l(){return(l=v(function*(s){const p="".split("#")[0];let{info:F,metadata:C,contentDispositionFilename:y,contentLength:r}=yield s.getMetadata();if(!r){const{length:a}=yield s.getDownloadInfo();r=a}return{...F,baseURL:p,filesize:r,filename:y||(0,S.getPdfFilenameFromUrl)(""),metadata:C?.getRaw(),authors:C?.get("dc:creator"),numPages:s.numPages,URL:""}})).apply(this,arguments)}f.GenericScripting=class m{constructor(o){this._ready=(0,S.loadScript)(o,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(o){var p=this;return v(function*(){(yield p._ready).create(o)})()}dispatchEventInSandbox(o){var p=this;return v(function*(){const F=yield p._ready;setTimeout(()=>F.dispatchEvent(o),0)})()}destroySandbox(){var o=this;return v(function*(){(yield o._ready).nukeSandbox()})()}}}],le={};function J(B){var f=le[B];if(void 0!==f)return f.exports;var M=le[B]={exports:{}};return u[B](M,M.exports,J),M.exports}var ee={};return(()=>{var B=ee;Object.defineProperty(B,"__esModule",{value:!0}),Object.defineProperty(B,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return l.AnnotationLayerBuilder}}),Object.defineProperty(B,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return f.DefaultAnnotationLayerFactory}}),Object.defineProperty(B,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return f.DefaultStructTreeLayerFactory}}),Object.defineProperty(B,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return f.DefaultTextLayerFactory}}),Object.defineProperty(B,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return f.DefaultXfaLayerFactory}}),Object.defineProperty(B,"DownloadManager",{enumerable:!0,get:function(){return m.DownloadManager}}),Object.defineProperty(B,"EventBus",{enumerable:!0,get:function(){return s.EventBus}}),Object.defineProperty(B,"GenericL10n",{enumerable:!0,get:function(){return o.GenericL10n}}),Object.defineProperty(B,"LinkTarget",{enumerable:!0,get:function(){return M.LinkTarget}}),Object.defineProperty(B,"NullL10n",{enumerable:!0,get:function(){return p.NullL10n}}),Object.defineProperty(B,"PDFFindController",{enumerable:!0,get:function(){return F.PDFFindController}}),Object.defineProperty(B,"PDFHistory",{enumerable:!0,get:function(){return C.PDFHistory}}),Object.defineProperty(B,"PDFLinkService",{enumerable:!0,get:function(){return M.PDFLinkService}}),Object.defineProperty(B,"PDFPageView",{enumerable:!0,get:function(){return y.PDFPageView}}),Object.defineProperty(B,"PDFScriptingManager",{enumerable:!0,get:function(){return r.PDFScriptingManager}}),Object.defineProperty(B,"PDFSinglePageViewer",{enumerable:!0,get:function(){return A.PDFSinglePageViewer}}),Object.defineProperty(B,"PDFViewer",{enumerable:!0,get:function(){return A.PDFViewer}}),Object.defineProperty(B,"ProgressBar",{enumerable:!0,get:function(){return S.ProgressBar}}),Object.defineProperty(B,"SimpleLinkService",{enumerable:!0,get:function(){return M.SimpleLinkService}}),Object.defineProperty(B,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return a.StructTreeLayerBuilder}}),Object.defineProperty(B,"TextLayerBuilder",{enumerable:!0,get:function(){return P.TextLayerBuilder}}),Object.defineProperty(B,"XfaLayerBuilder",{enumerable:!0,get:function(){return b.XfaLayerBuilder}}),Object.defineProperty(B,"parseQueryString",{enumerable:!0,get:function(){return S.parseQueryString}});var f=J(1),M=J(5),S=J(6),A=J(10),l=J(2),m=J(16),s=J(17),o=J(18),p=J(4),F=J(20),C=J(22),y=J(12),r=J(23),a=J(7),P=J(8),b=J(9)})(),ee})(),me.exports=J()},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:me=>{function L(v,u,le,J,ee,B,f){try{var M=v[B](f),S=M.value}catch(A){return void le(A)}M.done?u(S):Promise.resolve(S).then(J,ee)}me.exports=function re(v){return function(){var u=this,le=arguments;return new Promise(function(J,ee){var B=v.apply(u,le);function f(S){L(B,J,ee,f,M,"next",S)}function M(S){L(B,J,ee,f,M,"throw",S)}f(void 0)})}},me.exports.__esModule=!0,me.exports.default=me.exports}}]);